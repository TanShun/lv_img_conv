{"mappings":"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","sources":["lib/convert.ts","node_modules/canvas/browser.js","node_modules/canvas/lib/parse-font.js","node_modules/path-browserify/index.js","node_modules/process/browser.js","lib/enums.ts","lib/image-q/constants/bt709.ts","lib/image-q/conversion/rgb2xyz.ts","lib/image-q/conversion/rgb2hsl.ts","lib/image-q/utils/arithmetic.ts","lib/image-q/conversion/rgb2lab.ts","lib/image-q/conversion/xyz2lab.ts","lib/image-q/conversion/lab2xyz.ts","lib/image-q/conversion/xyz2rgb.ts","lib/image-q/distance/distanceCalculator.ts","lib/image-q/distance/cie94.ts","lib/image-q/distance/ciede2000.ts","lib/image-q/distance/cmetric.ts","lib/image-q/distance/euclidean.ts","lib/image-q/distance/manhattan.ts","lib/image-q/distance/pngQuant.ts","lib/image-q/palette/paletteQuantizer.ts","lib/image-q/palette/neuquant/neuquant.ts","lib/image-q/utils/palette.ts","lib/image-q/utils/pointContainer.ts","lib/image-q/utils/point.ts","lib/image-q/utils/hueStatistics.ts","lib/image-q/utils/progressTracker.ts","lib/image-q/palette/neuquant/neuquantFloat.ts","lib/image-q/palette/rgbquant/rgbquant.ts","lib/image-q/palette/rgbquant/colorHistogram.ts","lib/image-q/palette/wu/wuQuant.ts","lib/image-q/image/imageQuantizer.ts","lib/image-q/image/nearestColor.ts","lib/image-q/image/array.ts","lib/image-q/image/riemersma.ts","lib/image-q/image/spaceFillingCurves/hilbertCurve.ts","lib/image-q/basicAPI.ts","node_modules/setimmediate/setImmediate.js","lib/helpers.ts","node_modules/assert/build/assert.js","node_modules/assert/build/internal/errors.js","node_modules/util/util.js","node_modules/util/support/types.js","node_modules/is-arguments/index.js","node_modules/has-tostringtag/shams.js","node_modules/has-symbols/shams.js","node_modules/call-bind/callBound.js","node_modules/get-intrinsic/index.js","node_modules/has-symbols/index.js","node_modules/function-bind/index.js","node_modules/function-bind/implementation.js","node_modules/has/src/index.js","node_modules/call-bind/index.js","node_modules/is-generator-function/index.js","node_modules/which-typed-array/index.js","node_modules/foreach/index.js","node_modules/available-typed-arrays/index.js","node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js","node_modules/is-typed-array/index.js","node_modules/util/support/isBufferBrowser.js","node_modules/inherits/inherits_browser.js","node_modules/assert/build/internal/assert/assertion_error.js","node_modules/es6-object-assign/index.js","node_modules/object-is/index.js","node_modules/define-properties/index.js","node_modules/object-keys/index.js","node_modules/object-keys/isArguments.js","node_modules/object-keys/implementation.js","node_modules/object-is/implementation.js","node_modules/object-is/polyfill.js","node_modules/object-is/shim.js","node_modules/assert/build/internal/util/comparisons.js","node_modules/is-nan/index.js","node_modules/is-nan/implementation.js","node_modules/is-nan/polyfill.js","node_modules/is-nan/shim.js","node_modules/bs-custom-file-input/src/selector.js","node_modules/bs-custom-file-input/src/util.js","node_modules/bs-custom-file-input/src/eventHandlers.js","node_modules/bs-custom-file-input/src/index.js","node_modules/file-saver/src/FileSaver.js","web/index.js"],"sourcesContent":["import { createCanvas, loadImage, Image } from 'canvas';\nimport path from 'path';\nimport { ImageMode, ImageModeUtil, OutputMode } from './enums';\nimport { buildPalette, utils, applyPalette, distance, image } from './image-q/image-q';\nimport { round_half_up, str_pad, dechex } from './helpers';\n\ninterface ConverterOptions {\n    dith?: boolean;\n    cf: ImageMode;\n    outputFormat: OutputMode;\n    binaryFormat: ImageMode;\n    swapEndian: boolean;\n    outName: string;\n    useLegacyFooterOrder?: boolean;\n}\nclass Converter {\n    dith = false;      /*Dithering enable/disable*/\n    w = 0;         /*Image width*/\n    h = 0;         /*Image height*/\n    raw_len = 0; /* RAW image data size */\n    cf: ImageMode;        /*Color format*/\n    outputFormat: OutputMode;\n    alpha = false;     /*Add alpha byte or not*/\n    chroma = false;    /*Chroma keyed?*/\n    d_out: Array<number>;     /*Output data (result)*/\n    imageData: Array<number>|Uint8Array; /* Input image data */\n    swapEndian = false; /* Whether to swap endian or not */\n    options: ConverterOptions;\n\n    /*Helper variables*/\n    r_act: number;\n    b_act: number;\n    g_act: number;\n\n    /*For dithering*/\n    r_earr: Array<number>;  /*Classification error for next row of pixels*/\n    g_earr: Array<number>;\n    b_earr: Array<number>;\n\n    r_nerr: number;  /*Classification error for next pixel*/\n    g_nerr: number;\n    b_nerr: number;\n\n    /* Current pass being made */\n    pass: number;\n\n\n    constructor(w: number, h: number, imageData, alpha: boolean, options: Partial<ConverterOptions>) {\n        this.dith = options.dith;\n        this.w = w;\n        this.h = h;\n        this.imageData = imageData;\n        this.r_earr = [];  /*Classification error for next row of pixels*/\n        this.g_earr = [];\n        this.b_earr = [];\n\n        if(this.dith) {\n            for(var i = 0; i < this.w + 2; ++i){\n                this.r_earr[i] = 0;\n                this.g_earr[i] = 0;\n                this.b_earr[i] = 0;\n            }\n        }\n\n        this.r_nerr = 0;  /*Classification error for next pixel*/\n        this.g_nerr = 0;\n        this.b_nerr = 0;\n        this.pass = 0;\n        this.cf = options.cf;\n        this.alpha = alpha;\n        this.swapEndian = options.swapEndian;\n        this.outputFormat = options.outputFormat;\n        this.options = options as ConverterOptions;\n    }\n\n    /**\n     * Get the number of passes being made over an image to output it.\n     */\n    getNumPasses() {\n        if(this.cf == ImageMode.CF_RGB565A8)\n            return 2;\n        else\n            return 1;\n    }\n\n    async convert(): Promise<string|ArrayBuffer> {\n        if(this.cf == ImageMode.CF_RAW || this.cf == ImageMode.CF_RAW_ALPHA) {\n            const d_array = Array.from((this.imageData as Uint8Array));\n            this.raw_len = d_array.length;\n            const indent = this.options.useLegacyFooterOrder ? \"  \": \"    \";\n            const numValuesPerRow = this.options.useLegacyFooterOrder ? 15 : 12;\n            let str = \"\\n\" + indent + d_array.map((val, i) => \"0x\" + str_pad(dechex(val), 2, '0', true) + ((i % (numValuesPerRow+1)) == numValuesPerRow ? (\", \\n\" + indent) : \", \")).join(\"\");\n            str = str.substr(0, str.length-2);\n            return str;\n        }\n        var palette_size = 0, bits_per_value = 0;\n        if(this.cf == ImageMode.CF_INDEXED_1_BIT) {\n            palette_size = 2;\n            bits_per_value = 1;\n        } else if(this.cf == ImageMode.CF_INDEXED_2_BIT) {\n            palette_size = 4;\n            bits_per_value = 2;\n        } else if(this.cf == ImageMode.CF_INDEXED_4_BIT) {\n            palette_size = 16;\n            bits_per_value = 4;\n        } else if(this.cf == ImageMode.CF_INDEXED_8_BIT) {\n            palette_size = 256;\n            bits_per_value = 8;\n        }\n        this.d_out = [];\n\n        if(palette_size) {\n            const pointContainer = utils.PointContainer.fromUint8Array(this.imageData, this.w, this.h);\n            const palette = await buildPalette([pointContainer], {\n                colors: palette_size, // optional\n            });\n            const color_arr = this.d_out;\n            const palettePointArray = palette.getPointContainer().getPointArray();\n            const paletteColors = palettePointArray.map((point) => {\n                return point.uint32;\n            });\n            for(var i = 0; i < palette_size; i++) {\n                if(i < palettePointArray.length) {\n                    color_arr.push(palettePointArray[i].b, palettePointArray[i].g, palettePointArray[i].r, palettePointArray[i].a);\n                } else {\n                    color_arr.push(0, 0, 0, 0);\n                }\n            }\n\n            const outPointContainer = await applyPalette(pointContainer, palette, {\n            });\n            let currentValue = 0;\n            let numBitsShifted = 0;\n            const outPointArray = outPointContainer.getPointArray();\n            this.imageData = [];\n            outPointArray.forEach((point, arrayIndex) => {\n                const index = paletteColors.indexOf(point.uint32);\n                if(index == -1)\n                    throw new Error(\"Unknown color??\");\n                (this.imageData as Array<number>).push(index);\n            });\n        }\n\n        \n        let oldColorFormat;\n        const needsFormatSwap = this.outputFormat == OutputMode.BIN && ImageModeUtil.isTrueColor(this.cf);\n        if(needsFormatSwap) {\n            oldColorFormat = this.cf;\n            this.cf = this.options.binaryFormat;\n        }\n\n        for(this.pass = 0; this.pass < this.getNumPasses(); this.pass++) {\n            /*Convert all the pixels*/\n            for(var y = 0; y < this.h; y++) {\n                this.dith_reset();\n\n                for(var x = 0; x < this.w; ++x){\n                    this.conv_px(x, y);\n                }\n            }\n        }\n        \n        if(needsFormatSwap) {\n            this.cf = oldColorFormat;\n        }\n\n        if(this.outputFormat == OutputMode.C)\n            return this.format_to_c_array();\n        else {\n            var $content = this.d_out;\n            var $cf = this.cf;\n            var $lv_cf = 4;               /*Color format in LittlevGL*/\n            switch($cf) {\n                case ImageMode.CF_TRUE_COLOR:\n                    $lv_cf = 4; break;\n                case ImageMode.CF_TRUE_COLOR_ALPHA:\n                    $lv_cf = 5; break;\n                case ImageMode.CF_TRUE_COLOR_CHROMA:\n                    $lv_cf = 6; break;\n                case ImageMode.CF_INDEXED_1_BIT:\n                    $lv_cf = 7; break;\n                case ImageMode.CF_INDEXED_2_BIT:\n                    $lv_cf = 8; break;\n                case ImageMode.CF_INDEXED_4_BIT:\n                    $lv_cf = 9; break;\n                case ImageMode.CF_INDEXED_8_BIT:\n                    $lv_cf = 10; break;\n                case ImageMode.CF_ALPHA_1_BIT:\n                    $lv_cf = 11; break;\n                case ImageMode.CF_ALPHA_2_BIT:\n                    $lv_cf = 12; break;\n                case ImageMode.CF_ALPHA_4_BIT:\n                    $lv_cf = 13; break;\n                case ImageMode.CF_ALPHA_8_BIT:\n                    $lv_cf = 14; break;\n            }\n\n            var $header_32bit = ($lv_cf | (this.w << 10) | (this.h << 21)) >>> 0;\n\n            var finalBinary = new Uint8Array(this.d_out.length + 4);\n            finalBinary[0] = ($header_32bit & 0xFF);\n            finalBinary[1] = ($header_32bit & 0xFF00) >> 8;\n            finalBinary[2] = ($header_32bit & 0xFF0000) >> 16;\n            finalBinary[3] = ($header_32bit & 0xFF000000) >> 24;\n\n            for(var i = 0; i < this.d_out.length; i++) {\n                finalBinary[i+4] = this.d_out[i];\n                \n            }\n            return finalBinary.buffer;\n        }\n    }\n\n    get_c_header(out_name: string): string {\n        var $c_header =\n        `#if defined(LV_LVGL_H_INCLUDE_SIMPLE)\n#include \"lvgl.h\"\n#else\n#include \"lvgl/lvgl.h\"\n#endif\n\n\n#ifndef LV_ATTRIBUTE_MEM_ALIGN\n#define LV_ATTRIBUTE_MEM_ALIGN\n#endif\n\n`;\n        var $attr_name = \"LV_ATTRIBUTE_IMG_\" + out_name.toUpperCase(); \n        $c_header += \n`#ifndef ${$attr_name}\n#define ${$attr_name}\n#endif\n\nconst LV_ATTRIBUTE_MEM_ALIGN LV_ATTRIBUTE_LARGE_CONST ${$attr_name} uint8_t ` + out_name+ \"_map[] = {\";\n\n        return $c_header;\n    }\n\n    static imagemode_to_enum_name($cf: ImageMode): string {\n        switch($cf) {\n            case ImageMode.CF_TRUE_COLOR:\n            case ImageMode.CF_TRUE_COLOR_ALPHA:\n            case ImageMode.CF_RAW_ALPHA:\n            case ImageMode.CF_RGB565A8:\n                return \"LV_IMG_\" + ImageMode[$cf];\n            case ImageMode.CF_TRUE_COLOR_CHROMA:\n                return \"LV_IMG_CF_TRUE_COLOR_CHROMA_KEYED\";\n            case ImageMode.CF_RAW_CHROMA: /* and CF_RAW due to it having the same value */\n                return \"LV_IMG_CF_RAW_CHROMA_KEYED\";\n            case ImageMode.CF_ALPHA_1_BIT:\n            case ImageMode.CF_ALPHA_2_BIT:\n            case ImageMode.CF_ALPHA_4_BIT:\n            case ImageMode.CF_ALPHA_8_BIT:\n            case ImageMode.CF_INDEXED_1_BIT:\n            case ImageMode.CF_INDEXED_2_BIT:\n            case ImageMode.CF_INDEXED_4_BIT:\n            case ImageMode.CF_INDEXED_8_BIT:\n                return \"LV_IMG_\" + ImageMode[$cf].replace(\"_BIT\", \"BIT\");\n            default:\n                throw new Error(\"unexpected color format\");\n        }\n    }\n\n    get_c_footer($cf, out_name) {\n\n        var header_cf = Converter.imagemode_to_enum_name($cf);\n        var data_size;\n\n        switch($cf) {\n            case ImageMode.CF_TRUE_COLOR:\n            case ImageMode.CF_TRUE_COLOR_ALPHA:\n            case ImageMode.CF_TRUE_COLOR_CHROMA:\n                data_size = this.w * this.h + \" * \" + ($cf == ImageMode.CF_TRUE_COLOR_ALPHA ? \"LV_IMG_PX_SIZE_ALPHA_BYTE\" : \"LV_COLOR_SIZE / 8\");\n                break;\n            case ImageMode.CF_ALPHA_1_BIT:\n            case ImageMode.CF_ALPHA_2_BIT:\n            case ImageMode.CF_ALPHA_4_BIT:\n            case ImageMode.CF_ALPHA_8_BIT:\n            case ImageMode.CF_INDEXED_1_BIT:\n            case ImageMode.CF_INDEXED_2_BIT:\n            case ImageMode.CF_INDEXED_4_BIT:\n            case ImageMode.CF_INDEXED_8_BIT:\n            case ImageMode.CF_RGB565A8:\n                data_size = this.d_out.length;\n                break;\n            case ImageMode.CF_RAW:\n            case ImageMode.CF_RAW_ALPHA:\n            case ImageMode.CF_RAW_CHROMA:\n                data_size = this.raw_len;\n                break;\n            default:\n                throw new Error(\"unexpected color format \" + ImageMode[$cf]);\n        }\n\n        var $c_footer;\n        if(!this.options.useLegacyFooterOrder) {\n            $c_footer = `\\n};\\n\nconst lv_img_dsc_t ${out_name} = {\n  .header.cf = ${header_cf},\n  .header.always_zero = 0,\n  .header.reserved = 0,\n  .header.w = ${this.w},\n  .header.h = ${this.h},\n  .data_size = ${data_size},\n  .data = ${out_name}_map,\n};\\n`;\n        } else {\n            $c_footer = `\\n};\\n\nconst lv_img_dsc_t ${out_name} = {\n  .header.always_zero = 0,\n  .header.w = ${this.w},\n  .header.h = ${this.h},\n  .data_size = ${data_size},\n  .header.cf = ${header_cf},\n  .data = ${out_name}_map,\n};\\n`;           \n        }\n\n\n        return $c_footer;\n    }\n\n\n    private conv_px(x, y) {\n        function array_push<T>(arr: Array<T>, v: T) {\n            arr.push(v);\n        }\n        function isset(val: any): boolean {\n            return typeof val != 'undefined' && val != undefined;\n        }\n        const startIndex = ((y*this.w)+x)*4;\n        let a;\n        if(this.alpha){\n            a = this.imageData[startIndex+3];\n        } else {\n            a = 0xff;\n        }\n        const r = this.imageData[startIndex];\n        const g = this.imageData[startIndex+1];\n        const b = this.imageData[startIndex+2];\n\n        const c = this.imageData[((y*this.w)+x)];\n\n        if(this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8565\n            || this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8565_RBSWAP\n            || this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8332\n            || this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8888\n            || this.cf == ImageMode.CF_RGB565A8) {\n            /* Populate r_act, g_act, b_act */\n            this.dith_next(r, g, b, x);\n        }\n\n        if(this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8332) {\n            const c8 = (this.r_act) | (this.g_act >> 3) | (this.b_act >> 6);\t//RGB332\n            array_push(this.d_out, c8);\n            if(this.alpha) array_push(this.d_out, a);\n        } else if(this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8565) {\n            const c16 = ((this.r_act) << 8) | ((this.g_act) << 3) | ((this.b_act) >> 3);\t//RGR565\n            array_push(this.d_out, c16 & 0xFF);\n            array_push(this.d_out, (c16 >> 8) & 0xFF);\n            if(this.alpha) array_push(this.d_out, a);\n        } else if(this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8565_RBSWAP) {\n            const c16 = ((this.r_act) << 8) | ((this.g_act) << 3) | ((this.b_act) >> 3);\t//RGR565\n            array_push(this.d_out, (c16 >> 8) & 0xFF);\n            array_push(this.d_out, c16 & 0xFF);\n            if(this.alpha) array_push(this.d_out, a);\n        } else if(this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8888) {\n            array_push(this.d_out, this.b_act);\n            array_push(this.d_out, this.g_act);\n            array_push(this.d_out, this.r_act);\n            array_push(this.d_out, a);\n        } else if(this.cf == ImageMode.CF_RGB565A8) {\n            if(this.pass == 0) {\n                const c16 = ((this.r_act) << 8) | ((this.g_act) << 3) | ((this.b_act) >> 3);\t//RGR565\n                array_push(this.d_out, c16 & 0xFF);\n                array_push(this.d_out, (c16 >> 8) & 0xFF);\n            } else if(this.pass == 1) {\n                if(this.alpha) array_push(this.d_out, a);\n            }\n        } else if(this.cf == ImageMode.CF_ALPHA_1_BIT) {\n            let w = this.w >> 3;\n            if(this.w & 0x07) w++;\n            const p = w * y + (x >> 3);\n            if(!isset(this.d_out[p])) {\n                this.d_out[p] = 0;          /*Clear the bits first*/\n            }\n            if(a > 0x80) {\n                this.d_out[p] |= 1 << (7 - (x & 0x7));\n            }\n        }\n        else if(this.cf == ImageMode.CF_ALPHA_2_BIT) {\n            let w = this.w >> 2;\n            if(this.w & 0x03) w++;\n\n            const p = w * y + (x >> 2);\n            if(!isset(this.d_out[p])) this.d_out[p] = 0;          /*Clear the bits first*/\n            this.d_out[p] |= (a >> 6) << (6 - ((x & 0x3) * 2));\n        }\n        else if(this.cf == ImageMode.CF_ALPHA_4_BIT) {\n            let w = this.w >> 1;\n            if(this.w & 0x01) w++;\n\n            const p = w * y + (x >> 1);\n            if(!isset(this.d_out[p])) this.d_out[p] = 0;          /*Clear the bits first*/\n            this.d_out[p] |= (a >> 4) << (4 - ((x & 0x1) * 4));\n        }\n        else if(this.cf == ImageMode.CF_ALPHA_8_BIT) {\n            const p = this.w * y + x;\n            this.d_out[p] = a;\n        }\n        else if(this.cf == ImageMode.CF_INDEXED_1_BIT) {\n            let w = this.w >> 3;\n            if(this.w & 0x07) w++;\n\n            const p = w * y + (x >> 3) + 8;                       // +8 for the palette\n            if(!isset(this.d_out[p])) this.d_out[p] = 0;          //Clear the bits first\n            this.d_out[p] |= (c & 0x1) << (7 - (x & 0x7));\n        }\n        else if(this.cf == ImageMode.CF_INDEXED_2_BIT) {\n            let w = this.w >> 2;\n            if(this.w & 0x03) w++;\n\n            const p = w * y + (x >> 2) + 16;                              // +16 for the palette\n            if(!isset(this.d_out[p])) this.d_out[p] = 0;          // Clear the bits first\n            this.d_out[p] |= (c & 0x3) << (6 - ((x & 0x3) * 2));\n        }\n        else if(this.cf == ImageMode.CF_INDEXED_4_BIT) {\n            let w = this.w >> 1;\n            if(this.w & 0x01) w++;\n\n            const p = w * y + (x >> 1) + 64;                              // +64 for the palette\n            if(!isset(this.d_out[p])) this.d_out[p] = 0;          // Clear the bits first\n            this.d_out[p] |= (c & 0xF) << (4 - ((x & 0x1) * 4));\n        }\n        else if(this.cf == ImageMode.CF_INDEXED_8_BIT) {\n            const p = this.w * y + x + 1024;                              // +1024 for the palette\n            this.d_out[p] = c & 0xFF;\n        }\n\t}\n\n    dith_reset() {\n        if(this.dith){\n          this.r_nerr = 0;\n          this.g_nerr = 0;\n          this.b_nerr = 0;\n        }\n    }\n\n    dith_next(r, g, b, x) {\n\n     if(this.dith){\n        this.r_act = r + this.r_nerr + this.r_earr[x+1];\n        this.r_earr[x+1] = 0;\n\n        this.g_act = g + this.g_nerr + this.g_earr[x+1];\n        this.g_earr[x+1] = 0;\n\n        this.b_act = b + this.b_nerr + this.b_earr[x+1];\n        this.b_earr[x+1] = 0;\n\n        if(this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8332) {\n            this.r_act = this.classify_pixel(this.r_act, 3);\n            this.g_act = this.classify_pixel(this.g_act, 3);\n            this.b_act = this.classify_pixel(this.b_act, 2);\n\n            if(this.r_act > 0xE0) this.r_act = 0xE0;\n            if(this.g_act > 0xE0) this.g_act = 0xE0;\n            if(this.b_act > 0xC0) this.b_act = 0xC0;\n\n        } else if(this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8565 || this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8565_RBSWAP) {\n            this.r_act = this.classify_pixel(this.r_act, 5);\n            this.g_act = this.classify_pixel(this.g_act, 6);\n            this.b_act = this.classify_pixel(this.b_act, 5);\n\n            if(this.r_act > 0xF8) this.r_act = 0xF8;\n            if(this.g_act > 0xFC) this.g_act = 0xFC;\n            if(this.b_act > 0xF8) this.b_act = 0xF8;\n\n        } else if(this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8888) {\n            this.r_act = this.classify_pixel(this.r_act, 8);\n            this.g_act = this.classify_pixel(this.g_act, 8);\n            this.b_act = this.classify_pixel(this.b_act, 8);\n\n            if(this.r_act > 0xFF) this.r_act = 0xFF;\n            if(this.g_act > 0xFF) this.g_act = 0xFF;\n            if(this.b_act > 0xFF) this.b_act = 0xFF;\n        }\n\n        this.r_nerr = r - this.r_act;\n        this.g_nerr = g - this.g_act;\n        this.b_nerr = b - this.b_act;\n\n        this.r_nerr = round_half_up((7 * this.r_nerr) / 16);\n        this.g_nerr = round_half_up((7 * this.g_nerr) / 16);\n        this.b_nerr = round_half_up((7 * this.b_nerr) / 16);\n\n        this.r_earr[x] += round_half_up((3 * this.r_nerr) / 16);\n        this.g_earr[x] += round_half_up((3 * this.g_nerr) / 16);\n        this.b_earr[x] += round_half_up((3 * this.b_nerr) / 16);\n\n        this.r_earr[x+1] += round_half_up((5 * this.r_nerr) / 16);\n        this.g_earr[x+1] += round_half_up((5 * this.g_nerr) / 16);\n        this.b_earr[x+1] += round_half_up((5 * this.b_nerr) / 16);\n\n        this.r_earr[x+2] += round_half_up(this.r_nerr / 16);\n        this.g_earr[x+2] += round_half_up(this.g_nerr / 16);\n        this.b_earr[x+2] += round_half_up(this.b_nerr / 16);\n      }\n      else{\n        if(this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8332) {\n            this.r_act = this.classify_pixel(r, 3);\n            this.g_act = this.classify_pixel(g, 3);\n            this.b_act = this.classify_pixel(b, 2);\n\n            if(this.r_act > 0xE0) this.r_act = 0xE0;\n            if(this.g_act > 0xE0) this.g_act = 0xE0;\n            if(this.b_act > 0xC0) this.b_act = 0xC0;\n\n        } else if(this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8565 || this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8565_RBSWAP || this.cf == ImageMode.CF_RGB565A8) {\n            this.r_act = this.classify_pixel(r, 5);\n            this.g_act = this.classify_pixel(g, 6);\n            this.b_act = this.classify_pixel(b, 5);\n\n            if(this.r_act > 0xF8) this.r_act = 0xF8;\n            if(this.g_act > 0xFC) this.g_act = 0xFC;\n            if(this.b_act > 0xF8) this.b_act = 0xF8;\n\n        } else if(this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8888) {\n            this.r_act = this.classify_pixel(r, 8);\n            this.g_act = this.classify_pixel(g, 8);\n            this.b_act = this.classify_pixel(b, 8);\n\n            if(this.r_act > 0xFF) this.r_act = 0xFF;\n            if(this.g_act > 0xFF) this.g_act = 0xFF;\n            if(this.b_act > 0xFF) this.b_act = 0xFF;\n        }\n      }\n    }\n\n    classify_pixel(value, bits){\n      const tmp = 1 << (8 - bits);\n      let val = Math.round(value / tmp) * tmp;\n      if(val < 0) val = 0;\n      return val;\n    }\n    format_to_c_array() {\n        \n        let c_array = \"\";\n        var i = 0;\n        let y_end = this.h;\n        let x_end = this.w;\n\n        if(this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8332) {\n            c_array += \"\\n#if LV_COLOR_DEPTH == 1 || LV_COLOR_DEPTH == 8\";\n            if(!this.alpha) c_array += \"\\n  /*Pixel format: Red: 3 bit, Green: 3 bit, Blue: 2 bit*/\";\n            else  c_array += \"\\n  /*Pixel format: Alpha 8 bit, Red: 3 bit, Green: 3 bit, Blue: 2 bit*/\";\n        } else if(this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8565) {\n            c_array += \"\\n#if LV_COLOR_DEPTH == 16 && LV_COLOR_16_SWAP == 0\";\n            if(!this.alpha) c_array += \"\\n  /*Pixel format: Red: 5 bit, Green: 6 bit, Blue: 5 bit*/\";\n            else c_array += \"\\n  /*Pixel format: Alpha 8 bit, Red: 5 bit, Green: 6 bit, Blue: 5 bit*/\";\n        }  else if(this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8565_RBSWAP) {\n            c_array += \"\\n#if LV_COLOR_DEPTH == 16 && LV_COLOR_16_SWAP != 0\";\n            if(!this.alpha) c_array +=  \"\\n  /*Pixel format: Red: 5 bit, Green: 6 bit, Blue: 5 bit BUT the 2 bytes are swapped*/\";\n            else c_array += \"\\n  /*Pixel format: Alpha 8 bit, Red: 5 bit, Green: 6 bit, Blue: 5 bit  BUT the 2  color bytes are swapped*/\";\n        }  else if(this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8888) {\n            c_array += \"\\n#if LV_COLOR_DEPTH == 32\";\n            if(!this.alpha) c_array += \"\\n  /*Pixel format: Fix 0xFF: 8 bit, Red: 8 bit, Green: 8 bit, Blue: 8 bit*/\";\n            else \"\\n  /*Pixel format: Alpha 8 bit, Red: 8 bit, Green: 8 bit, Blue: 8 bit*/\";\n        } else if(this.cf == ImageMode.CF_INDEXED_1_BIT) {\n            c_array += \"\\n\";\n            for(var p = 0; p < 2; p ++) {\n                c_array += \"  0x\" + str_pad(dechex(this.d_out[p * 4 + 0]), 2, '0', true) + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 1]), 2, '0', true) + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 2]), 2, '0', true) + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 3]), 2, '0', true) + \", \";\n                c_array += `\\t/*Color of index ${p}*/\\n`;\n            }\n    \n            i = p * 4;\n        }\n        else if(this.cf == ImageMode.CF_INDEXED_2_BIT) {\n            c_array += \"\\n\";\n            for(p = 0; p < 4; p ++) {\n                c_array += \"  0x\" + str_pad(dechex(this.d_out[p * 4 + 0]), 2, '0', true) + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 1]), 2, '0', true) + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 2]), 2, '0', true) + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 3]), 2, '0', true) + \", \";\n                c_array += `\\t/*Color of index ${p}*/\\n`;\n            }\n    \n            i = p * 4;\n        }\n        else if(this.cf == ImageMode.CF_INDEXED_4_BIT) {\n            c_array += \"\\n\";\n            for(p = 0; p < 16; p ++) {\n                c_array += \"  0x\" + str_pad(dechex(this.d_out[p * 4 + 0]), 2, '0', true) + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 1]), 2, '0', true) + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 2]), 2, '0', true) + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 3]), 2, '0', true) + \", \";\n                c_array += `\\t/*Color of index ${p}*/\\n`;\n            }\n    \n            i = p * 4;\n        }\n        else if(this.cf == ImageMode.CF_INDEXED_8_BIT) {\n            c_array += \"\\n\";\n            for(p = 0; p < 256; p ++) {\n                c_array += \"  0x\" + str_pad(dechex(this.d_out[p * 4 + 0]), 2, '0', true) + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 1]), 2, '0', true) + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 2]), 2, '0', true) + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 3]), 2, '0', true) + \", \";\n                c_array += `\\t/*Color of index ${p}*/\\n`;\n            }\n    \n            i = p * 4;\n        }\n        else if(this.cf == ImageMode.CF_RAW_ALPHA || this.cf == ImageMode.CF_RAW_CHROMA) {\n            y_end = 1;\n            x_end = this.d_out.length;\n            i = 1;\n        } else if(this.cf == ImageMode.CF_ALPHA_1_BIT\n            || this.cf == ImageMode.CF_ALPHA_2_BIT\n            || this.cf == ImageMode.CF_ALPHA_4_BIT\n            || this.cf == ImageMode.CF_ALPHA_8_BIT\n            || this.cf == ImageMode.CF_RGB565A8) {\n            /* No special handling required */\n        } else\n            throw new Error(\"Unhandled color format: \" + ImageMode[this.cf]);\n\n\n        for(var y = 0; y < y_end; y++) {\n            c_array += \"\\n  \";\n            for(var x = 0; x < x_end; x++) {\n                /* Note: some accesses to d_out may be out of bounds */\n                if(this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8332) {\n                    c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', true) + \", \";  i++;\n                    if(this.alpha) {\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', true) + \", \";\n                        i++;\n                    }\n                }\n                else if(this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8565 || this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8565_RBSWAP || this.cf == ImageMode.CF_RGB565A8) {\n                    if(this.swapEndian) {\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i+1]), 2, '0', true) + \", \";\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', true) + \", \";\n                    } else {\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', true) + \", \";\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i+1]), 2, '0', true) + \", \";\n                    }\n                    i += 2;\n                    if(this.cf != ImageMode.CF_RGB565A8 && this.alpha) {\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', true) + \", \";\n                        i++;\n                    }\n                }\n                else if(this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8888) {\n                    if(this.swapEndian) {\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i+2]), 2, '0', true) + \", \";\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i+1]), 2, '0', true) + \", \";\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', true) + \", \";\n                    } else {\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', true) + \", \";\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i+1]), 2, '0', true) + \", \";\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i+2]), 2, '0', true) + \", \";\n                    }\n                    c_array += \"0x\" + str_pad(dechex(this.d_out[i+3]), 2, '0', true) + \", \";\n                    \n                    i += 4;\n                }\n                else if(this.cf == ImageMode.CF_ALPHA_1_BIT || this.cf == ImageMode.CF_INDEXED_1_BIT) {\n                    if((x & 0x7) == 0) {\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', true) + \", \";\n                        i++;\n                    }\n                }\n                else if(this.cf == ImageMode.CF_ALPHA_2_BIT || this.cf == ImageMode.CF_INDEXED_2_BIT) {\n                    if((x & 0x3) == 0) {\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', true) + \", \";\n                        i++;\n                    }\n                }\n                else if(this.cf == ImageMode.CF_ALPHA_4_BIT || this.cf == ImageMode.CF_INDEXED_4_BIT) {\n                    if((x & 0x1) == 0) {\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', true) + \", \";\n                        i++;\n                    }\n                }\n                else if(this.cf == ImageMode.CF_ALPHA_8_BIT || this.cf == ImageMode.CF_INDEXED_8_BIT) {\n                    c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', true) + \", \";\n                    i++;\n                }\n                else if(this.cf == ImageMode.CF_RAW_ALPHA || this.cf == ImageMode.CF_RAW_CHROMA) {\n                    c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', true) + \", \";\n                    if(i != 0 && ((i % 16) == 0)) c_array += \"\\n  \";\n                    i++;\n                } else\n                    throw new Error(\"Unhandled color format: \" + ImageMode[this.cf]);\n            }\n        }\n\n        if(this.cf == ImageMode.CF_RGB565A8) {\n            c_array += \"\\n  /*alpha channel*/\\n  \";\n            for(var y = 0; y < y_end; y++) {\n                for(var x = 0; x < x_end; x++) {\n                    c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', true) + \", \";\n                    i++;\n                }\n                c_array += \"\\n  \";\n            }\n        }\n    \n        if(this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8332 || this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8565 || this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8565_RBSWAP || this.cf == ImageMode.ICF_TRUE_COLOR_ARGB8888) {\n            c_array += \"\\n#endif\";\n        }\n        return c_array;\n    \n    }\n}\n\n\nexport function isNotRaw(options: { cf: ImageMode; }): boolean {\n    return options.cf != ImageMode.CF_RAW && options.cf != ImageMode.CF_RAW_ALPHA; /* && options.cf != ImageMode.CF_RAW_CHROMA; */\n}\n\nasync function convertImageBlob(img: Image|Uint8Array, options: Partial<ConverterOptions>): Promise<string|ArrayBuffer> {\n    function isImage(img, options): img is Image {\n        return isNotRaw(options);\n    }\n    let c_res_array: string;\n    let bin_res_blob: ArrayBuffer;\n    const out_name = options.outName;\n    const outputFormat: OutputMode = options.outputFormat;\n    let c_creator: Converter;\n    if(isImage(img, options)) {\n        const canvas = createCanvas(img.width, img.height);\n        const ctx = canvas.getContext('2d')\n        ctx.drawImage(img, 0, 0);\n        const imageData = ctx.getImageData(0, 0, img.width, img.height).data;\n    \n        const alpha = (options.cf == ImageMode.CF_TRUE_COLOR_ALPHA\n            || options.cf == ImageMode.CF_ALPHA_1_BIT\n            || options.cf == ImageMode.CF_ALPHA_2_BIT\n            || options.cf == ImageMode.CF_ALPHA_4_BIT\n            || options.cf == ImageMode.CF_ALPHA_8_BIT\n            || options.cf == ImageMode.CF_RGB565A8);\n        c_creator = new Converter(img.width, img.height, imageData, alpha, options);\n        \n        if(options.outputFormat == OutputMode.C) {\n            if(options.cf == ImageMode.CF_TRUE_COLOR || options.cf == ImageMode.CF_TRUE_COLOR_ALPHA || options.cf == ImageMode.CF_TRUE_COLOR_CHROMA) {\n                const arrayList = await Promise.all([\n                    ImageMode.ICF_TRUE_COLOR_ARGB8332,\n                    ImageMode.ICF_TRUE_COLOR_ARGB8565,\n                    ImageMode.ICF_TRUE_COLOR_ARGB8565_RBSWAP,\n                    ImageMode.ICF_TRUE_COLOR_ARGB8888\n                ].map(cf => new Converter(img.width, img.height, imageData, alpha, Object.assign({}, options, { cf })).convert())) as string[];\n                c_res_array = arrayList.join(\"\");\n            } else\n                c_res_array = await c_creator.convert() as string;\n        } else {\n            const binaryConv = new Converter(img.width, img.height, imageData, alpha, options);\n            bin_res_blob = await binaryConv.convert() as ArrayBuffer;\n        }\n    } else {\n        c_creator = new Converter(0, 0, img, options.cf == ImageMode.CF_RAW_ALPHA, options);\n        if(options.outputFormat == OutputMode.C)\n            c_res_array = await c_creator.convert() as string;\n        else\n            bin_res_blob = await c_creator.convert() as ArrayBuffer;\n    }\n    \n    \n    if(outputFormat == OutputMode.BIN)\n        return bin_res_blob;\n    else\n        return c_creator.get_c_header(out_name) + c_res_array + c_creator.get_c_footer(options.cf, out_name);\n}\n\nasync function convert(imagePath, options: ConverterOptions) {\n    let img: Image|Uint8Array;\n    if(isNotRaw(options))\n        img = await loadImage(imagePath);\n    else {\n        eval(\"var fs = require('fs');\");\n        /** @ts-ignore */\n        img = fs.readFileSync(imagePath);\n    }\n    return convertImageBlob(img, Object.assign({}, options, { outName: options.outName || path.parse(imagePath).name }));\n    \n}\n\nexport default convert;\nexport { convertImageBlob, Converter };","/* globals document, ImageData */\n\nconst parseFont = require('./lib/parse-font')\n\nexports.parseFont = parseFont\n\nexports.createCanvas = function (width, height) {\n  return Object.assign(document.createElement('canvas'), { width: width, height: height })\n}\n\nexports.createImageData = function (array, width, height) {\n  // Browser implementation of ImageData looks at the number of arguments passed\n  switch (arguments.length) {\n    case 0: return new ImageData()\n    case 1: return new ImageData(array)\n    case 2: return new ImageData(array, width)\n    default: return new ImageData(array, width, height)\n  }\n}\n\nexports.loadImage = function (src, options) {\n  return new Promise(function (resolve, reject) {\n    const image = Object.assign(document.createElement('img'), options)\n\n    function cleanup () {\n      image.onload = null\n      image.onerror = null\n    }\n\n    image.onload = function () { cleanup(); resolve(image) }\n    image.onerror = function () { cleanup(); reject(new Error('Failed to load the image \"' + src + '\"')) }\n\n    image.src = src\n  })\n}\n","'use strict'\n\n/**\n * Font RegExp helpers.\n */\n\nconst weights = 'bold|bolder|lighter|[1-9]00'\nconst styles = 'italic|oblique'\nconst variants = 'small-caps'\nconst stretches = 'ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded'\nconst units = 'px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q'\nconst string = '\\'([^\\']+)\\'|\"([^\"]+)\"|[\\\\w\\\\s-]+'\n\n// [ [ <‘font-style’> || <font-variant-css21> || <‘font-weight’> || <‘font-stretch’> ]?\n//    <‘font-size’> [ / <‘line-height’> ]? <‘font-family’> ]\n// https://drafts.csswg.org/css-fonts-3/#font-prop\nconst weightRe = new RegExp(`(${weights}) +`, 'i')\nconst styleRe = new RegExp(`(${styles}) +`, 'i')\nconst variantRe = new RegExp(`(${variants}) +`, 'i')\nconst stretchRe = new RegExp(`(${stretches}) +`, 'i')\nconst sizeFamilyRe = new RegExp(\n  `([\\\\d\\\\.]+)(${units}) *((?:${string})( *, *(?:${string}))*)`)\n\n/**\n * Cache font parsing.\n */\n\nconst cache = {}\n\nconst defaultHeight = 16 // pt, common browser default\n\n/**\n * Parse font `str`.\n *\n * @param {String} str\n * @return {Object} Parsed font. `size` is in device units. `unit` is the unit\n *   appearing in the input string.\n * @api private\n */\n\nmodule.exports = str => {\n  // Cached\n  if (cache[str]) return cache[str]\n\n  // Try for required properties first.\n  const sizeFamily = sizeFamilyRe.exec(str)\n  if (!sizeFamily) return // invalid\n\n  // Default values and required properties\n  const font = {\n    weight: 'normal',\n    style: 'normal',\n    stretch: 'normal',\n    variant: 'normal',\n    size: parseFloat(sizeFamily[1]),\n    unit: sizeFamily[2],\n    family: sizeFamily[3].replace(/[\"']/g, '').replace(/ *, */g, ',')\n  }\n\n  // Optional, unordered properties.\n  let weight, style, variant, stretch\n  // Stop search at `sizeFamily.index`\n  const substr = str.substring(0, sizeFamily.index)\n  if ((weight = weightRe.exec(substr))) font.weight = weight[1]\n  if ((style = styleRe.exec(substr))) font.style = style[1]\n  if ((variant = variantRe.exec(substr))) font.variant = variant[1]\n  if ((stretch = stretchRe.exec(substr))) font.stretch = stretch[1]\n\n  // Convert to device units. (`font.unit` is the original unit)\n  // TODO: ch, ex\n  switch (font.unit) {\n    case 'pt':\n      font.size /= 0.75\n      break\n    case 'pc':\n      font.size *= 16\n      break\n    case 'in':\n      font.size *= 96\n      break\n    case 'cm':\n      font.size *= 96.0 / 2.54\n      break\n    case 'mm':\n      font.size *= 96.0 / 25.4\n      break\n    case '%':\n      // TODO disabled because existing unit tests assume 100\n      // font.size *= defaultHeight / 100 / 0.75\n      break\n    case 'em':\n    case 'rem':\n      font.size *= defaultHeight / 0.75\n      break\n    case 'q':\n      font.size *= 96 / 25.4 / 4\n      break\n  }\n\n  return (cache[str] = font)\n}\n","// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47 /*/*/)\n      break;\n    else\n      code = 47 /*/*/;\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0) return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n  },\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to) return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to) return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47 /*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47 /*/*/;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1)\n            startDot = i;\n          else if (preDotState !== 1)\n            preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format('/', pathObject);\n  },\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47 /*/*/;\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n\n    return ret;\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\n\nposix.posix = posix;\n\nmodule.exports = posix;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","enum ImageMode {\n    /*Helper ARGB formats. Used internally*/\n    ICF_TRUE_COLOR_ARGB8332,      \n    ICF_TRUE_COLOR_ARGB8565,\n    ICF_TRUE_COLOR_ARGB8565_RBSWAP,\n    ICF_TRUE_COLOR_ARGB8888,\n    CF_ALPHA_1_BIT,\n    CF_ALPHA_2_BIT,\n    CF_ALPHA_4_BIT,\n    CF_ALPHA_8_BIT,\n    CF_INDEXED_1_BIT,\n    CF_INDEXED_2_BIT,\n    CF_INDEXED_4_BIT,\n    CF_INDEXED_8_BIT,\n    CF_RAW,\n    CF_RAW_CHROMA = CF_RAW,\n    CF_RAW_ALPHA,\n\n    /*Helper formats if C arrays contains all true color formats (used in \"download\")*/\n    CF_TRUE_COLOR,          \n    CF_TRUE_COLOR_ALPHA,\n    CF_TRUE_COLOR_CHROMA,\n\n    /*New formats in v8.3+*/\n    CF_RGB565A8\n};\n\nclass ImageModeUtil {\n    public static isTrueColor(mode: string|ImageMode) {\n        if(typeof mode != 'string')\n            mode = ImageMode[mode];\n        return mode.startsWith(\"CF_TRUE_COLOR\");\n    }\n}\n\nenum OutputMode {\n    C,\n    BIN\n}\n\n\nconst BINARY_FORMAT_PREFIX = \"ICF_TRUE_COLOR_\";\n\nexport { ImageMode, ImageModeUtil, OutputMode, BINARY_FORMAT_PREFIX };","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * constants.ts - part of Image Quantization Library\n */\n\n/**\n * sRGB (based on ITU-R Recommendation BT.709)\n * http://en.wikipedia.org/wiki/SRGB\n */\nexport enum Y {\n  RED = 0.2126,\n  GREEN = 0.7152,\n  BLUE = 0.0722,\n  WHITE = 1,\n}\n\n// tslint:disable-next-line:naming-convention\nexport enum x {\n  RED = 0.64,\n  GREEN = 0.3,\n  BLUE = 0.15,\n  WHITE = 0.3127,\n}\n\n// tslint:disable-next-line:naming-convention\nexport enum y {\n  RED = 0.33,\n  GREEN = 0.6,\n  BLUE = 0.06,\n  WHITE = 0.329,\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * rgb2xyz.ts - part of Image Quantization Library\n */\nfunction correctGamma(n: number) {\n  return n > 0.04045 ? ((n + 0.055) / 1.055) ** 2.4 : n / 12.92;\n}\n\nexport function rgb2xyz(r: number, g: number, b: number) {\n  // gamma correction, see https://en.wikipedia.org/wiki/SRGB#The_reverse_transformation\n  r = correctGamma(r / 255);\n  g = correctGamma(g / 255);\n  b = correctGamma(b / 255);\n\n  // Observer. = 2°, Illuminant = D65\n  return {\n    x: r * 0.4124 + g * 0.3576 + b * 0.1805,\n    y: r * 0.2126 + g * 0.7152 + b * 0.0722,\n    z: r * 0.0193 + g * 0.1192 + b * 0.9505,\n  };\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * rgb2hsl.ts - part of Image Quantization Library\n */\nimport { min3, max3 } from '../utils/arithmetic';\n\n/**\n * Calculate HSL from RGB\n * Hue is in degrees [0..360]\n * Lightness: [0..1]\n * Saturation: [0..1]\n * http://web.archive.org/web/20060914040436/http://local.wasp.uwa.edu.au/~pbourke/colour/hsl/\n */\nexport function rgb2hsl(r: number, g: number, b: number) {\n  const min = min3(r, g, b);\n  const max = max3(r, g, b);\n  const delta = max - min;\n  const l = (min + max) / 510;\n\n  let s = 0;\n  if (l > 0 && l < 1) s = delta / (l < 0.5 ? max + min : 510 - max - min);\n\n  let h = 0;\n  if (delta > 0) {\n    if (max === r) {\n      h = (g - b) / delta;\n    } else if (max === g) {\n      h = 2 + (b - r) / delta;\n    } else {\n      h = 4 + (r - g) / delta;\n    }\n\n    h *= 60;\n    if (h < 0) h += 360;\n  }\n  return { h, s, l };\n}\n","export function degrees2radians(n: number) {\n  return n * (Math.PI / 180);\n}\n\nexport function max3(a: number, b: number, c: number) {\n  let m = a;\n  if (m < b) m = b;\n  if (m < c) m = c;\n  return m;\n}\n\nexport function min3(a: number, b: number, c: number) {\n  let m = a;\n  if (m > b) m = b;\n  if (m > c) m = c;\n  return m;\n}\n\nexport function intInRange(value: number, low: number, high: number) {\n  if (value > high) value = high;\n  if (value < low) value = low;\n  return value | 0;\n}\n\nexport function inRange0to255Rounded(n: number) {\n  n = Math.round(n);\n  if (n > 255) n = 255;\n  else if (n < 0) n = 0;\n  return n;\n}\n\nexport function inRange0to255(n: number) {\n  if (n > 255) n = 255;\n  else if (n < 0) n = 0;\n  return n;\n}\n\nexport function stableSort<T>(\n  arrayToSort: T[],\n  callback: (a: T, b: T) => number,\n) {\n  const type = typeof arrayToSort[0];\n  let sorted: T[];\n\n  if (type === 'number' || type === 'string') {\n    const ord = Object.create(null); // tslint:disable-line:no-null-keyword\n    for (let i = 0, l = arrayToSort.length; i < l; i++) {\n      const val = (arrayToSort[i] as unknown) as string;\n      if (ord[val] || ord[val] === 0) continue;\n      ord[val] = i;\n    }\n\n    sorted = arrayToSort.sort((a, b) => callback(a, b) || ord[a] - ord[b]);\n  } else {\n    const ord2 = arrayToSort.slice(0);\n    sorted = arrayToSort.sort(\n      (a, b) => callback(a, b) || ord2.indexOf(a) - ord2.indexOf(b),\n    );\n  }\n\n  return sorted;\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * rgb2lab.ts - part of Image Quantization Library\n */\nimport { rgb2xyz } from './rgb2xyz';\nimport { xyz2lab } from './xyz2lab';\n\nexport function rgb2lab(r: number, g: number, b: number) {\n  const xyz = rgb2xyz(r, g, b);\n  return xyz2lab(xyz.x, xyz.y, xyz.z);\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * xyz2lab.ts - part of Image Quantization Library\n */\nconst refX = 0.95047; // ref_X =  95.047   Observer= 2°, Illuminant= D65\nconst refY = 1.0; // ref_Y = 100.000\nconst refZ = 1.08883; // ref_Z = 108.883\n\nfunction pivot(n: number) {\n  return n > 0.008856 ? n ** (1 / 3) : 7.787 * n + 16 / 116;\n}\n\nexport function xyz2lab(x: number, y: number, z: number) {\n  x = pivot(x / refX);\n  y = pivot(y / refY);\n  z = pivot(z / refZ);\n\n  if (116 * y - 16 < 0) throw new Error('xxx');\n  return {\n    L: Math.max(0, 116 * y - 16),\n    a: 500 * (x - y),\n    b: 200 * (y - z),\n  };\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * lab2xyz.ts - part of Image Quantization Library\n */\nconst refX = 0.95047; // ref_X =  95.047   Observer= 2°, Illuminant = D65\nconst refY = 1.0; // ref_Y = 100.000\nconst refZ = 1.08883; // ref_Z = 108.883\n\nfunction pivot(n: number) {\n  return n > 0.206893034 ? n ** 3 : (n - 16 / 116) / 7.787;\n}\n\n// tslint:disable-next-line:naming-convention\nexport function lab2xyz(L: number, a: number, b: number) {\n  const y = (L + 16) / 116;\n  const x = a / 500 + y;\n  const z = y - b / 200;\n\n  return {\n    x: refX * pivot(x),\n    y: refY * pivot(y),\n    z: refZ * pivot(z),\n  };\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * xyz2rgb.ts - part of Image Quantization Library\n */\nimport { inRange0to255Rounded } from '../utils/arithmetic';\n\n// gamma correction, see https://en.wikipedia.org/wiki/SRGB#The_reverse_transformation\nfunction correctGamma(n: number) {\n  return n > 0.0031308 ? 1.055 * n ** (1 / 2.4) - 0.055 : 12.92 * n;\n}\n\nexport function xyz2rgb(x: number, y: number, z: number) {\n  // Observer. = 2°, Illuminant = D65\n  const r = correctGamma(x * 3.2406 + y * -1.5372 + z * -0.4986);\n  const g = correctGamma(x * -0.9689 + y * 1.8758 + z * 0.0415);\n  const b = correctGamma(x * 0.0557 + y * -0.204 + z * 1.057);\n\n  return {\n    r: inRange0to255Rounded(r * 255),\n    g: inRange0to255Rounded(g * 255),\n    b: inRange0to255Rounded(b * 255),\n  };\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * common.ts - part of Image Quantization Library\n */\nimport { PointRGBA } from '../utils/point';\n\nexport abstract class AbstractDistanceCalculator {\n  protected _maxDistance!: number;\n  protected _whitePoint!: {\n    r: number;\n    g: number;\n    b: number;\n    a: number;\n  };\n\n  constructor() {\n    this._setDefaults();\n\n    // set default maximal color component deltas (255 - 0 = 255)\n    this.setWhitePoint(255, 255, 255, 255);\n  }\n\n  setWhitePoint(r: number, g: number, b: number, a: number) {\n    this._whitePoint = {\n      r: r > 0 ? 255 / r : 0,\n      g: g > 0 ? 255 / g : 0,\n      b: b > 0 ? 255 / b : 0,\n      a: a > 0 ? 255 / a : 0,\n    };\n    this._maxDistance = this.calculateRaw(r, g, b, a, 0, 0, 0, 0);\n  }\n\n  calculateNormalized(colorA: PointRGBA, colorB: PointRGBA) {\n    return (\n      this.calculateRaw(\n        colorA.r,\n        colorA.g,\n        colorA.b,\n        colorA.a,\n        colorB.r,\n        colorB.g,\n        colorB.b,\n        colorB.a,\n      ) / this._maxDistance\n    );\n  }\n\n  /**\n   * Calculate raw distance (non-normalized)\n   */\n  abstract calculateRaw(\n    r1: number,\n    g1: number,\n    b1: number,\n    a1: number,\n    r2: number,\n    g2: number,\n    b2: number,\n    a2: number,\n  ): number;\n\n  protected abstract _setDefaults(): void;\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * cie94.ts - part of Image Quantization Library\n */\nimport { AbstractDistanceCalculator } from './distanceCalculator';\nimport { rgb2lab } from '../conversion/rgb2lab';\nimport { inRange0to255 } from '../utils/arithmetic';\n\n/**\n * CIE94 method of delta-e\n * http://en.wikipedia.org/wiki/Color_difference#CIE94\n */\nexport abstract class AbstractCIE94 extends AbstractDistanceCalculator {\n  /**\n   * Weight in distance: 0.25\n   * Max DeltaE: 100\n   * Max DeltaA: 255\n   */\n  protected _kA!: number;\n  protected _Kl!: number; // tslint:disable-line:naming-convention\n  protected _K1!: number; // tslint:disable-line:naming-convention\n  protected _K2!: number; // tslint:disable-line:naming-convention\n\n  calculateRaw(\n    r1: number,\n    g1: number,\n    b1: number,\n    a1: number,\n    r2: number,\n    g2: number,\n    b2: number,\n    a2: number,\n  ) {\n    const lab1 = rgb2lab(\n      inRange0to255(r1 * this._whitePoint.r),\n      inRange0to255(g1 * this._whitePoint.g),\n      inRange0to255(b1 * this._whitePoint.b),\n    );\n    const lab2 = rgb2lab(\n      inRange0to255(r2 * this._whitePoint.r),\n      inRange0to255(g2 * this._whitePoint.g),\n      inRange0to255(b2 * this._whitePoint.b),\n    );\n\n    const dL = lab1.L - lab2.L;\n    const dA = lab1.a - lab2.a;\n    const dB = lab1.b - lab2.b;\n    const c1 = Math.sqrt(lab1.a * lab1.a + lab1.b * lab1.b);\n    const c2 = Math.sqrt(lab2.a * lab2.a + lab2.b * lab2.b);\n    const dC = c1 - c2;\n\n    let deltaH = dA * dA + dB * dB - dC * dC;\n    deltaH = deltaH < 0 ? 0 : Math.sqrt(deltaH);\n\n    const dAlpha = (a2 - a1) * this._whitePoint.a * this._kA;\n\n    // TODO: add alpha channel support\n    return Math.sqrt(\n      (dL / this._Kl) ** 2 +\n        (dC / (1.0 + this._K1 * c1)) ** 2 +\n        (deltaH / (1.0 + this._K2 * c1)) ** 2 +\n        dAlpha ** 2,\n    );\n  }\n}\n\nexport class CIE94Textiles extends AbstractCIE94 {\n  protected _setDefaults() {\n    this._Kl = 2.0;\n    this._K1 = 0.048;\n    this._K2 = 0.014;\n    this._kA = (0.25 * 50) / 255;\n  }\n}\n\nexport class CIE94GraphicArts extends AbstractCIE94 {\n  protected _setDefaults() {\n    this._Kl = 1.0;\n    this._K1 = 0.045;\n    this._K2 = 0.015;\n    this._kA = (0.25 * 100) / 255;\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * ciede2000.ts - part of Image Quantization Library\n */\nimport { AbstractDistanceCalculator } from './distanceCalculator';\nimport { rgb2lab } from '../conversion/rgb2lab';\nimport { degrees2radians, inRange0to255 } from '../utils/arithmetic';\n\n// tslint:disable:variable-name\n// tslint:disable:naming-convention\n\n/**\n * CIEDE2000 algorithm - Adapted from Sharma et al's MATLAB implementation at\n * http://www.ece.rochester.edu/~gsharma/ciede2000/\n */\nexport class CIEDE2000 extends AbstractDistanceCalculator {\n  /**\n   * Weight in distance: 0.25\n   * Max DeltaE: 100\n   * Max DeltaA: 255\n   */\n  private static readonly _kA = (0.25 * 100) / 255;\n  private static readonly _pow25to7 = 25 ** 7; // 1Math.pow(25, 7);\n  private static readonly _deg360InRad = degrees2radians(360);\n  private static readonly _deg180InRad = degrees2radians(180);\n  private static readonly _deg30InRad = degrees2radians(30);\n  private static readonly _deg6InRad = degrees2radians(6);\n  private static readonly _deg63InRad = degrees2radians(63);\n  private static readonly _deg275InRad = degrees2radians(275);\n  private static readonly _deg25InRad = degrees2radians(25);\n\n  protected _setDefaults() {}\n\n  private static _calculatehp(b: number, ap: number) {\n    const hp = Math.atan2(b, ap);\n    if (hp >= 0) return hp;\n    return hp + CIEDE2000._deg360InRad;\n  }\n\n  private static _calculateRT(ahp: number, aCp: number) {\n    const aCp_to_7 = aCp ** 7.0;\n    const R_C = 2.0 * Math.sqrt(aCp_to_7 / (aCp_to_7 + CIEDE2000._pow25to7)); // 25^7\n    const delta_theta =\n      CIEDE2000._deg30InRad *\n      Math.exp(\n        -(((ahp - CIEDE2000._deg275InRad) / CIEDE2000._deg25InRad) ** 2.0),\n      );\n    return -Math.sin(2.0 * delta_theta) * R_C;\n  }\n\n  private static _calculateT(ahp: number) {\n    return (\n      1.0 -\n      0.17 * Math.cos(ahp - CIEDE2000._deg30InRad) +\n      0.24 * Math.cos(ahp * 2.0) +\n      0.32 * Math.cos(ahp * 3.0 + CIEDE2000._deg6InRad) -\n      0.2 * Math.cos(ahp * 4.0 - CIEDE2000._deg63InRad)\n    );\n  }\n\n  private static _calculate_ahp(\n    C1pC2p: number,\n    h_bar: number,\n    h1p: number,\n    h2p: number,\n  ) {\n    const hpSum = h1p + h2p;\n    if (C1pC2p === 0) return hpSum;\n    if (h_bar <= CIEDE2000._deg180InRad) return hpSum / 2.0;\n    if (hpSum < CIEDE2000._deg360InRad) {\n      return (hpSum + CIEDE2000._deg360InRad) / 2.0;\n    }\n    return (hpSum - CIEDE2000._deg360InRad) / 2.0;\n  }\n\n  private static _calculate_dHp(\n    C1pC2p: number,\n    h_bar: number,\n    h2p: number,\n    h1p: number,\n  ) {\n    let dhp;\n    if (C1pC2p === 0) {\n      dhp = 0;\n    } else if (h_bar <= CIEDE2000._deg180InRad) {\n      dhp = h2p - h1p;\n    } else if (h2p <= h1p) {\n      dhp = h2p - h1p + CIEDE2000._deg360InRad;\n    } else {\n      dhp = h2p - h1p - CIEDE2000._deg360InRad;\n    }\n    return 2.0 * Math.sqrt(C1pC2p) * Math.sin(dhp / 2.0);\n  }\n\n  calculateRaw(\n    r1: number,\n    g1: number,\n    b1: number,\n    a1: number,\n    r2: number,\n    g2: number,\n    b2: number,\n    a2: number,\n  ) {\n    const lab1 = rgb2lab(\n      inRange0to255(r1 * this._whitePoint.r),\n      inRange0to255(g1 * this._whitePoint.g),\n      inRange0to255(b1 * this._whitePoint.b),\n    );\n    const lab2 = rgb2lab(\n      inRange0to255(r2 * this._whitePoint.r),\n      inRange0to255(g2 * this._whitePoint.g),\n      inRange0to255(b2 * this._whitePoint.b),\n    );\n    const dA = (a2 - a1) * this._whitePoint.a * CIEDE2000._kA;\n    const dE2 = this.calculateRawInLab(lab1, lab2);\n\n    return Math.sqrt(dE2 + dA * dA);\n  }\n\n  calculateRawInLab(\n    Lab1: { L: number; a: number; b: number },\n    Lab2: { L: number; a: number; b: number },\n  ) {\n    // Get L,a,b values for color 1\n    const L1 = Lab1.L;\n    const a1 = Lab1.a;\n    const b1 = Lab1.b;\n\n    // Get L,a,b values for color 2\n    const L2 = Lab2.L;\n    const a2 = Lab2.a;\n    const b2 = Lab2.b;\n\n    // Calculate Cprime1, Cprime2, Cabbar\n    const C1 = Math.sqrt(a1 * a1 + b1 * b1);\n    const C2 = Math.sqrt(a2 * a2 + b2 * b2);\n    const pow_a_C1_C2_to_7 = ((C1 + C2) / 2.0) ** 7.0;\n\n    const G =\n      0.5 *\n      (1.0 -\n        Math.sqrt(pow_a_C1_C2_to_7 / (pow_a_C1_C2_to_7 + CIEDE2000._pow25to7))); // 25^7\n    const a1p = (1.0 + G) * a1;\n    const a2p = (1.0 + G) * a2;\n\n    const C1p = Math.sqrt(a1p * a1p + b1 * b1);\n    const C2p = Math.sqrt(a2p * a2p + b2 * b2);\n    const C1pC2p = C1p * C2p;\n\n    // Angles in Degree.\n    const h1p = CIEDE2000._calculatehp(b1, a1p);\n    const h2p = CIEDE2000._calculatehp(b2, a2p);\n    const h_bar = Math.abs(h1p - h2p);\n    const dLp = L2 - L1;\n    const dCp = C2p - C1p;\n    const dHp = CIEDE2000._calculate_dHp(C1pC2p, h_bar, h2p, h1p);\n    const ahp = CIEDE2000._calculate_ahp(C1pC2p, h_bar, h1p, h2p);\n\n    const T = CIEDE2000._calculateT(ahp);\n\n    const aCp = (C1p + C2p) / 2.0;\n    const aLp_minus_50_square = ((L1 + L2) / 2.0 - 50.0) ** 2.0;\n    const S_L =\n      1.0 +\n      (0.015 * aLp_minus_50_square) / Math.sqrt(20.0 + aLp_minus_50_square);\n    const S_C = 1.0 + 0.045 * aCp;\n    const S_H = 1.0 + 0.015 * T * aCp;\n\n    const R_T = CIEDE2000._calculateRT(ahp, aCp);\n\n    const dLpSL = dLp / S_L; // S_L * kL, where kL is 1.0\n    const dCpSC = dCp / S_C; // S_C * kC, where kC is 1.0\n    const dHpSH = dHp / S_H; // S_H * kH, where kH is 1.0\n\n    return dLpSL ** 2 + dCpSC ** 2 + dHpSH ** 2 + R_T * dCpSC * dHpSH;\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * cmetric.ts - part of Image Quantization Library\n */\nimport { AbstractDistanceCalculator } from './distanceCalculator';\n\n/**\n * TODO: Name it: http://www.compuphase.com/cmetric.htm\n */\nexport class CMetric extends AbstractDistanceCalculator {\n  calculateRaw(\n    r1: number,\n    g1: number,\n    b1: number,\n    a1: number,\n    r2: number,\n    g2: number,\n    b2: number,\n    a2: number,\n  ) {\n    const rmean = ((r1 + r2) / 2) * this._whitePoint.r;\n    const r = (r1 - r2) * this._whitePoint.r;\n    const g = (g1 - g2) * this._whitePoint.g;\n    const b = (b1 - b2) * this._whitePoint.b;\n    const dE =\n      (((512 + rmean) * r * r) >> 8) +\n      4 * g * g +\n      (((767 - rmean) * b * b) >> 8);\n    const dA = (a2 - a1) * this._whitePoint.a;\n\n    return Math.sqrt(dE + dA * dA);\n  }\n\n  protected _setDefaults() {}\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * euclidean.ts - part of Image Quantization Library\n */\nimport { AbstractDistanceCalculator } from './distanceCalculator';\nimport { Y } from '../constants/bt709';\n\n/**\n * Euclidean color distance\n */\nexport abstract class AbstractEuclidean extends AbstractDistanceCalculator {\n  protected _kR!: number;\n  protected _kG!: number;\n  protected _kB!: number;\n  protected _kA!: number;\n\n  calculateRaw(\n    r1: number,\n    g1: number,\n    b1: number,\n    a1: number,\n    r2: number,\n    g2: number,\n    b2: number,\n    a2: number,\n  ) {\n    const dR = r2 - r1;\n    const dG = g2 - g1;\n    const dB = b2 - b1;\n    const dA = a2 - a1;\n    return Math.sqrt(\n      this._kR * dR * dR +\n        this._kG * dG * dG +\n        this._kB * dB * dB +\n        this._kA * dA * dA,\n    );\n  }\n}\n\nexport class Euclidean extends AbstractEuclidean {\n  protected _setDefaults() {\n    this._kR = 1;\n    this._kG = 1;\n    this._kB = 1;\n    this._kA = 1;\n  }\n}\n\n/**\n * Euclidean color distance (RGBQuant modification w Alpha)\n */\nexport class EuclideanBT709 extends AbstractEuclidean {\n  protected _setDefaults() {\n    this._kR = Y.RED;\n    this._kG = Y.GREEN;\n    this._kB = Y.BLUE;\n    // TODO: what is the best coefficient below?\n    this._kA = 1;\n  }\n}\n\n/**\n * Euclidean color distance (RGBQuant modification w/o Alpha)\n */\nexport class EuclideanBT709NoAlpha extends AbstractEuclidean {\n  protected _setDefaults() {\n    this._kR = Y.RED;\n    this._kG = Y.GREEN;\n    this._kB = Y.BLUE;\n    this._kA = 0;\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * manhattanNeuQuant.ts - part of Image Quantization Library\n */\nimport { AbstractDistanceCalculator } from './distanceCalculator';\nimport { Y } from '../constants/bt709';\n\n/**\n * Manhattan distance (NeuQuant modification) - w/o sRGB coefficients\n */\nexport abstract class AbstractManhattan extends AbstractDistanceCalculator {\n  protected _kR!: number;\n  protected _kG!: number;\n  protected _kB!: number;\n  protected _kA!: number;\n\n  calculateRaw(\n    r1: number,\n    g1: number,\n    b1: number,\n    a1: number,\n    r2: number,\n    g2: number,\n    b2: number,\n    a2: number,\n  ) {\n    let dR = r2 - r1;\n    let dG = g2 - g1;\n    let dB = b2 - b1;\n    let dA = a2 - a1;\n    if (dR < 0) dR = 0 - dR;\n    if (dG < 0) dG = 0 - dG;\n    if (dB < 0) dB = 0 - dB;\n    if (dA < 0) dA = 0 - dA;\n\n    return this._kR * dR + this._kG * dG + this._kB * dB + this._kA * dA;\n  }\n}\n\nexport class Manhattan extends AbstractManhattan {\n  protected _setDefaults() {\n    this._kR = 1;\n    this._kG = 1;\n    this._kB = 1;\n    this._kA = 1;\n  }\n}\n\n/**\n * Manhattan distance (Nommyde modification)\n * https://github.com/igor-bezkrovny/image-quantization/issues/4#issuecomment-235155320\n */\nexport class ManhattanNommyde extends AbstractManhattan {\n  protected _setDefaults() {\n    this._kR = 0.4984;\n    this._kG = 0.8625;\n    this._kB = 0.2979;\n    // TODO: what is the best coefficient below?\n    this._kA = 1;\n  }\n}\n\n/**\n * Manhattan distance (sRGB coefficients)\n */\nexport class ManhattanBT709 extends AbstractManhattan {\n  protected _setDefaults() {\n    this._kR = Y.RED;\n    this._kG = Y.GREEN;\n    this._kB = Y.BLUE;\n    // TODO: what is the best coefficient below?\n    this._kA = 1;\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * pngQuant.ts - part of Image Quantization Library\n */\nimport { AbstractDistanceCalculator } from './distanceCalculator';\n\n/**\n * TODO: check quality of this distance equation\n * TODO: ask author for usage rights\n * taken from:\n * {@link http://stackoverflow.com/questions/4754506/color-similarity-distance-in-rgba-color-space/8796867#8796867}\n * {@link https://github.com/pornel/pngquant/blob/cc39b47799a7ff2ef17b529f9415ff6e6b213b8f/lib/pam.h#L148}\n */\nexport class PNGQuant extends AbstractDistanceCalculator {\n  /**\n   * Author's comments\n   * px_b.rgb = px.rgb + 0*(1-px.a) // blend px on black\n   * px_b.a   = px.a   + 1*(1-px.a)\n   * px_w.rgb = px.rgb + 1*(1-px.a) // blend px on white\n   * px_w.a   = px.a   + 1*(1-px.a)\n   *\n   * px_b.rgb = px.rgb              // difference same as in opaque RGB\n   * px_b.a   = 1\n   * px_w.rgb = px.rgb - px.a       // difference simplifies to formula below\n   * px_w.a   = 1\n   *\n   * (px.rgb - px.a) - (py.rgb - py.a)\n   * (px.rgb - py.rgb) + (py.a - px.a)\n   *\n   */\n  calculateRaw(\n    r1: number,\n    g1: number,\n    b1: number,\n    a1: number,\n    r2: number,\n    g2: number,\n    b2: number,\n    a2: number,\n  ) {\n    const alphas = (a2 - a1) * this._whitePoint.a;\n    return (\n      this._colordifferenceCh(\n        r1 * this._whitePoint.r,\n        r2 * this._whitePoint.r,\n        alphas,\n      ) +\n      this._colordifferenceCh(\n        g1 * this._whitePoint.g,\n        g2 * this._whitePoint.g,\n        alphas,\n      ) +\n      this._colordifferenceCh(\n        b1 * this._whitePoint.b,\n        b2 * this._whitePoint.b,\n        alphas,\n      )\n    );\n  }\n\n  private _colordifferenceCh(x: number, y: number, alphas: number) {\n    // maximum of channel blended on white, and blended on black\n    // premultiplied alpha and backgrounds 0/1 shorten the formula\n    const black = x - y;\n    const white = black + alphas;\n\n    return black * black + white * white;\n  }\n\n  protected _setDefaults() {}\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * common.ts - part of Image Quantization Library\n */\nimport { PointContainer } from '../utils/pointContainer';\nimport { PaletteQuantizerYieldValue } from './paletteQuantizerYieldValue';\n\nexport abstract class AbstractPaletteQuantizer {\n  abstract sample(pointContainer: PointContainer): void;\n  abstract quantize(): IterableIterator<PaletteQuantizerYieldValue>;\n\n  quantizeSync() {\n    for (const value of this.quantize()) {\n      if (value.palette) {\n        return value.palette;\n      }\n    }\n\n    throw new Error('unreachable');\n  }\n}\n","/*\n * NeuQuant Neural-Net Quantization Algorithm\n * ------------------------------------------\n *\n * Copyright (c) 1994 Anthony Dekker\n *\n * NEUQUANT Neural-Net quantization algorithm by Anthony Dekker, 1994. See\n * \"Kohonen neural networks for optimal colour quantization\" in \"Network:\n * Computation in Neural Systems\" Vol. 5 (1994) pp 351-367. for a discussion of\n * the algorithm.\n *\n * Any party obtaining a copy of these files from the author, directly or\n * indirectly, is granted, free of charge, a full and unrestricted irrevocable,\n * world-wide, paid up, royalty-free, nonexclusive right and license to deal in\n * this software and documentation files (the \"Software\"), including without\n * limitation the rights to use, copy, modify, merge, publish, distribute,\n * sublicense, and/or sell copies of the Software, and to permit persons who\n * receive copies from any such party to do so, with the only requirement being\n * that this copyright notice remain intact.\n */\n\n/**\n * @preserve TypeScript port:\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * neuquant.ts - part of Image Quantization Library\n */\n\nimport { Palette } from '../../utils/palette';\nimport { Point } from '../../utils/point';\nimport { PointContainer } from '../../utils/pointContainer';\nimport { AbstractDistanceCalculator } from '../../distance/distanceCalculator';\nimport { AbstractPaletteQuantizer } from '../paletteQuantizer';\nimport { PaletteQuantizerYieldValue } from '../paletteQuantizerYieldValue';\nimport { ProgressTracker } from '../../utils';\n\n// bias for colour values\nconst networkBiasShift = 3;\n\nclass Neuron {\n  r: number;\n  g: number;\n  b: number;\n  a: number;\n\n  constructor(defaultValue: number) {\n    this.r = this.g = this.b = this.a = defaultValue;\n  }\n\n  /**\n   * There is a fix in original NEUQUANT by Anthony Dekker (http://members.ozemail.com.au/~dekker/NEUQUANT.HTML)\n   * @example\n   * r = Math.min(255, (neuron.r + (1 << (networkBiasShift - 1))) >> networkBiasShift);\n   */\n  toPoint() {\n    return Point.createByRGBA(\n      this.r >> networkBiasShift,\n      this.g >> networkBiasShift,\n      this.b >> networkBiasShift,\n      this.a >> networkBiasShift,\n    );\n  }\n\n  subtract(r: number, g: number, b: number, a: number) {\n    this.r -= r | 0;\n    this.g -= g | 0;\n    this.b -= b | 0;\n    this.a -= a | 0;\n  }\n\n  /*\n   public subtract(r : number, g : number, b : number, a : number) : void {\n   this.r = (-r + this.r) | 0;\n   this.g = (-g + this.g) | 0;\n   this.b = (-b + this.b) | 0;\n   this.a = (-a + this.a) | 0;\n\n   this.r -= r;\n   this.g -= g;\n   this.b -= b;\n   this.a -= a;\n\n   this.r -= r | 0;\n   this.g -= g | 0;\n   this.b -= b | 0;\n   this.a -= a | 0;\n   }\n   */\n}\n\nexport class NeuQuant extends AbstractPaletteQuantizer {\n  /*\n   four primes near 500 - assume no image has a length so large\n   that it is divisible by all four primes\n   */\n  private static readonly _prime1 = 499;\n  private static readonly _prime2 = 491;\n  private static readonly _prime3 = 487;\n  private static readonly _prime4 = 503;\n  private static readonly _minpicturebytes = NeuQuant._prime4;\n\n  // no. of learning cycles\n  private static readonly _nCycles = 100;\n\n  // defs for freq and bias\n  private static readonly _initialBiasShift = 16;\n\n  // bias for fractions\n  private static readonly _initialBias = 1 << NeuQuant._initialBiasShift;\n  private static readonly _gammaShift = 10;\n\n  // gamma = 1024\n  // TODO: why gamma is never used?\n  // private static _gamma : number     = (1 << NeuQuant._gammaShift);\n  private static readonly _betaShift = 10;\n  private static readonly _beta = NeuQuant._initialBias >> NeuQuant._betaShift;\n\n  // beta = 1/1024\n  private static readonly _betaGamma =\n    NeuQuant._initialBias << (NeuQuant._gammaShift - NeuQuant._betaShift);\n\n  /*\n   * for 256 cols, radius starts\n   */\n  private static readonly _radiusBiasShift = 6;\n\n  // at 32.0 biased by 6 bits\n  private static readonly _radiusBias = 1 << NeuQuant._radiusBiasShift;\n\n  // and decreases by a factor of 1/30 each cycle\n  private static readonly _radiusDecrease = 30;\n\n  /* defs for decreasing alpha factor */\n\n  // alpha starts at 1.0\n  private static readonly _alphaBiasShift = 10;\n\n  // biased by 10 bits\n  private static readonly _initAlpha = 1 << NeuQuant._alphaBiasShift;\n\n  /* radBias and alphaRadBias used for radpower calculation */\n  private static readonly _radBiasShift = 8;\n  private static readonly _radBias = 1 << NeuQuant._radBiasShift;\n  private static readonly _alphaRadBiasShift =\n    NeuQuant._alphaBiasShift + NeuQuant._radBiasShift;\n  private static readonly _alphaRadBias = 1 << NeuQuant._alphaRadBiasShift;\n\n  private _pointArray: Point[];\n  private readonly _networkSize: number;\n  private _network!: Neuron[];\n\n  /** sampling factor 1..30 */\n  private readonly _sampleFactor!: number;\n  private _radPower!: number[];\n\n  // bias and freq arrays for learning\n  private _freq!: number[];\n\n  /* for network lookup - really 256 */\n  private _bias!: number[];\n  private readonly _distance: AbstractDistanceCalculator;\n\n  constructor(\n    colorDistanceCalculator: AbstractDistanceCalculator,\n    colors = 256,\n  ) {\n    super();\n    this._distance = colorDistanceCalculator;\n    this._pointArray = [];\n    this._sampleFactor = 1;\n    this._networkSize = colors;\n\n    this._distance.setWhitePoint(\n      255 << networkBiasShift,\n      255 << networkBiasShift,\n      255 << networkBiasShift,\n      255 << networkBiasShift,\n    );\n  }\n\n  sample(pointContainer: PointContainer) {\n    this._pointArray = this._pointArray.concat(pointContainer.getPointArray());\n  }\n\n  *quantize(): IterableIterator<PaletteQuantizerYieldValue> {\n    this._init();\n\n    yield* this._learn();\n\n    yield {\n      palette: this._buildPalette(),\n      progress: 100,\n    };\n  }\n\n  private _init() {\n    this._freq = [];\n    this._bias = [];\n    this._radPower = [];\n    this._network = [];\n    for (let i = 0; i < this._networkSize; i++) {\n      this._network[i] = new Neuron(\n        ((i << (networkBiasShift + 8)) / this._networkSize) | 0,\n      );\n\n      // 1/this._networkSize\n      this._freq[i] = (NeuQuant._initialBias / this._networkSize) | 0;\n      this._bias[i] = 0;\n    }\n  }\n\n  /**\n   * Main Learning Loop\n   */\n  private *_learn() {\n    let sampleFactor = this._sampleFactor;\n    const pointsNumber = this._pointArray.length;\n    if (pointsNumber < NeuQuant._minpicturebytes) sampleFactor = 1;\n\n    const alphadec = (30 + (sampleFactor - 1) / 3) | 0;\n    const pointsToSample = (pointsNumber / sampleFactor) | 0;\n\n    let delta = (pointsToSample / NeuQuant._nCycles) | 0;\n    let alpha = NeuQuant._initAlpha;\n    let radius = (this._networkSize >> 3) * NeuQuant._radiusBias;\n\n    let rad = radius >> NeuQuant._radiusBiasShift;\n    if (rad <= 1) rad = 0;\n\n    for (let i = 0; i < rad; i++) {\n      this._radPower[i] =\n        (alpha * (((rad * rad - i * i) * NeuQuant._radBias) / (rad * rad))) >>>\n        0;\n    }\n\n    let step;\n    if (pointsNumber < NeuQuant._minpicturebytes) {\n      step = 1;\n    } else if (pointsNumber % NeuQuant._prime1 !== 0) {\n      step = NeuQuant._prime1;\n    } else if (pointsNumber % NeuQuant._prime2 !== 0) {\n      step = NeuQuant._prime2;\n    } else if (pointsNumber % NeuQuant._prime3 !== 0) {\n      step = NeuQuant._prime3;\n    } else {\n      step = NeuQuant._prime4;\n    }\n\n    const tracker = new ProgressTracker(pointsToSample, 99);\n    for (let i = 0, pointIndex = 0; i < pointsToSample; ) {\n      if (tracker.shouldNotify(i)) {\n        yield {\n          progress: tracker.progress,\n        };\n      }\n\n      const point = this._pointArray[pointIndex];\n      const b = point.b << networkBiasShift;\n      const g = point.g << networkBiasShift;\n      const r = point.r << networkBiasShift;\n      const a = point.a << networkBiasShift;\n      const neuronIndex = this._contest(b, g, r, a);\n\n      this._alterSingle(alpha, neuronIndex, b, g, r, a);\n      if (rad !== 0) this._alterNeighbour(rad, neuronIndex, b, g, r, a);\n\n      /* alter neighbours */\n      pointIndex += step;\n      if (pointIndex >= pointsNumber) pointIndex -= pointsNumber;\n      i++;\n\n      if (delta === 0) delta = 1;\n\n      if (i % delta === 0) {\n        alpha -= (alpha / alphadec) | 0;\n        radius -= (radius / NeuQuant._radiusDecrease) | 0;\n        rad = radius >> NeuQuant._radiusBiasShift;\n\n        if (rad <= 1) rad = 0;\n        for (let j = 0; j < rad; j++) {\n          this._radPower[j] =\n            (alpha *\n              (((rad * rad - j * j) * NeuQuant._radBias) / (rad * rad))) >>>\n            0;\n        }\n      }\n    }\n  }\n\n  private _buildPalette() {\n    const palette = new Palette();\n\n    this._network.forEach(neuron => {\n      palette.add(neuron.toPoint());\n    });\n\n    palette.sort();\n    return palette;\n  }\n\n  /**\n   * Move adjacent neurons by precomputed alpha*(1-((i-j)^2/[r]^2)) in radpower[|i-j|]\n   */\n  private _alterNeighbour(\n    rad: number,\n    i: number,\n    b: number,\n    g: number,\n    r: number,\n    al: number,\n  ) {\n    let lo = i - rad;\n    if (lo < -1) lo = -1;\n\n    let hi = i + rad;\n    if (hi > this._networkSize) hi = this._networkSize;\n\n    let j = i + 1;\n    let k = i - 1;\n    let m = 1;\n\n    while (j < hi || k > lo) {\n      const a = this._radPower[m++] / NeuQuant._alphaRadBias;\n      if (j < hi) {\n        const p = this._network[j++];\n        p.subtract(a * (p.r - r), a * (p.g - g), a * (p.b - b), a * (p.a - al));\n      }\n\n      if (k > lo) {\n        const p = this._network[k--];\n        p.subtract(a * (p.r - r), a * (p.g - g), a * (p.b - b), a * (p.a - al));\n      }\n    }\n  }\n\n  /**\n   * Move neuron i towards biased (b,g,r) by factor alpha\n   */\n  private _alterSingle(\n    alpha: number,\n    i: number,\n    b: number,\n    g: number,\n    r: number,\n    a: number,\n  ) {\n    alpha /= NeuQuant._initAlpha;\n\n    /* alter hit neuron */\n    const n = this._network[i];\n    n.subtract(\n      alpha * (n.r - r),\n      alpha * (n.g - g),\n      alpha * (n.b - b),\n      alpha * (n.a - a),\n    );\n  }\n\n  /**\n   * Search for biased BGR values\n   * description:\n   *    finds closest neuron (min dist) and updates freq\n   *    finds best neuron (min dist-bias) and returns position\n   *    for frequently chosen neurons, freq[i] is high and bias[i] is negative\n   *    bias[i] = _gamma*((1/this._networkSize)-freq[i])\n   *\n   * Original distance equation:\n   *        dist = abs(dR) + abs(dG) + abs(dB)\n   */\n  private _contest(b: number, g: number, r: number, a: number) {\n    const multiplier = (255 * 4) << networkBiasShift;\n\n    let bestd = ~(1 << 31);\n    let bestbiasd = bestd;\n    let bestpos = -1;\n    let bestbiaspos = bestpos;\n\n    for (let i = 0; i < this._networkSize; i++) {\n      const n = this._network[i];\n      const dist =\n        (this._distance.calculateNormalized(n, { r, g, b, a }) * multiplier) |\n        0;\n\n      if (dist < bestd) {\n        bestd = dist;\n        bestpos = i;\n      }\n\n      const biasdist =\n        dist -\n        (this._bias[i] >> (NeuQuant._initialBiasShift - networkBiasShift));\n      if (biasdist < bestbiasd) {\n        bestbiasd = biasdist;\n        bestbiaspos = i;\n      }\n      const betafreq = this._freq[i] >> NeuQuant._betaShift;\n      this._freq[i] -= betafreq;\n      this._bias[i] += betafreq << NeuQuant._gammaShift;\n    }\n    this._freq[bestpos] += NeuQuant._beta;\n    this._bias[bestpos] -= NeuQuant._betaGamma;\n    return bestbiaspos;\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * palette.ts - part of Image Quantization Library\n */\n\nimport { Point } from './point';\nimport { PointContainer } from './pointContainer';\nimport { AbstractDistanceCalculator } from '../distance/distanceCalculator';\nimport { rgb2hsl } from '../conversion/rgb2hsl';\n\n// TODO: make paletteArray via pointContainer, so, export will be available via pointContainer.exportXXX\n\nconst hueGroups = 10;\n\nexport function hueGroup(hue: number, segmentsNumber: number) {\n  const maxHue = 360;\n  const seg = maxHue / segmentsNumber;\n  const half = seg / 2;\n\n  for (let i = 1, mid = seg - half; i < segmentsNumber; i++, mid += seg) {\n    if (hue >= mid && hue < mid + seg) return i;\n  }\n  return 0;\n}\n\nexport class Palette {\n  private readonly _pointContainer: PointContainer;\n  private readonly _pointArray: Point[] = [];\n  private _i32idx: { [key: string]: number } = {};\n\n  constructor() {\n    this._pointContainer = new PointContainer();\n    this._pointContainer.setHeight(1);\n    this._pointArray = this._pointContainer.getPointArray();\n  }\n\n  add(color: Point) {\n    this._pointArray.push(color);\n    this._pointContainer.setWidth(this._pointArray.length);\n  }\n\n  has(color: Point) {\n    for (let i = this._pointArray.length - 1; i >= 0; i--) {\n      if (color.uint32 === this._pointArray[i].uint32) return true;\n    }\n\n    return false;\n  }\n\n  // TOTRY: use HUSL - http://boronine.com/husl/ http://www.husl-colors.org/ https://github.com/husl-colors/husl\n  getNearestColor(\n    colorDistanceCalculator: AbstractDistanceCalculator,\n    color: Point,\n  ) {\n    return this._pointArray[\n      this._getNearestIndex(colorDistanceCalculator, color) | 0\n    ];\n  }\n\n  getPointContainer() {\n    return this._pointContainer;\n  }\n\n  // TOTRY: use HUSL - http://boronine.com/husl/\n  /*\n   public nearestIndexByUint32(i32) {\n   var idx : number = this._nearestPointFromCache(\"\" + i32);\n   if (idx >= 0) return idx;\n\n   var min = 1000,\n   rgb = [\n   (i32 & 0xff),\n   (i32 >>> 8) & 0xff,\n   (i32 >>> 16) & 0xff,\n   (i32 >>> 24) & 0xff\n   ],\n   len = this._pointArray.length;\n\n   idx = 0;\n   for (var i = 0; i < len; i++) {\n   var dist = Utils.distEuclidean(rgb, this._pointArray[i].rgba);\n\n   if (dist < min) {\n   min = dist;\n   idx = i;\n   }\n   }\n\n   this._i32idx[i32] = idx;\n   return idx;\n   }\n   */\n\n  private _nearestPointFromCache(key: string) {\n    return typeof this._i32idx[key] === 'number' ? this._i32idx[key] : -1;\n  }\n\n  private _getNearestIndex(\n    colorDistanceCalculator: AbstractDistanceCalculator,\n    point: Point,\n  ) {\n    let idx = this._nearestPointFromCache('' + point.uint32); // eslint-disable-line prefer-template\n    if (idx >= 0) return idx;\n\n    let minimalDistance = Number.MAX_VALUE;\n\n    idx = 0;\n    for (let i = 0, l = this._pointArray.length; i < l; i++) {\n      const p = this._pointArray[i];\n      const distance = colorDistanceCalculator.calculateRaw(\n        point.r,\n        point.g,\n        point.b,\n        point.a,\n        p.r,\n        p.g,\n        p.b,\n        p.a,\n      );\n\n      if (distance < minimalDistance) {\n        minimalDistance = distance;\n        idx = i;\n      }\n    }\n\n    this._i32idx[point.uint32] = idx;\n    return idx;\n  }\n\n  /*\n   public reduce(histogram : ColorHistogram, colors : number) {\n   if (this._pointArray.length > colors) {\n   var idxi32 = histogram.getImportanceSortedColorsIDXI32();\n\n   // quantize histogram to existing palette\n   var keep = [], uniqueColors = 0, idx, pruned = false;\n\n   for (var i = 0, len = idxi32.length; i < len; i++) {\n   // palette length reached, unset all remaining colors (sparse palette)\n   if (uniqueColors >= colors) {\n   this.prunePal(keep);\n   pruned = true;\n   break;\n   } else {\n   idx = this.nearestIndexByUint32(idxi32[i]);\n   if (keep.indexOf(idx) < 0) {\n   keep.push(idx);\n   uniqueColors++;\n   }\n   }\n   }\n\n   if (!pruned) {\n   this.prunePal(keep);\n   }\n   }\n   }\n\n   // TODO: check usage, not tested!\n   public prunePal(keep : number[]) {\n   var colors = this._pointArray.length;\n   for (var colorIndex = colors - 1; colorIndex >= 0; colorIndex--) {\n   if (keep.indexOf(colorIndex) < 0) {\n\n   if(colorIndex + 1 < colors) {\n   this._pointArray[ colorIndex ] = this._pointArray [ colors - 1 ];\n   }\n   --colors;\n   //this._pointArray[colorIndex] = null;\n   }\n   }\n   console.log(\"colors pruned: \" + (this._pointArray.length - colors));\n   this._pointArray.length = colors;\n   this._i32idx = {};\n   }\n   */\n\n  // TODO: group very low lum and very high lum colors\n  // TODO: pass custom sort order\n  // TODO: sort criteria function should be placed to HueStats class\n  sort() {\n    this._i32idx = {};\n    this._pointArray.sort((a: Point, b: Point) => {\n      const hslA = rgb2hsl(a.r, a.g, a.b);\n      const hslB = rgb2hsl(b.r, b.g, b.b);\n\n      // sort all grays + whites together\n      const hueA =\n        a.r === a.g && a.g === a.b ? 0 : 1 + hueGroup(hslA.h, hueGroups);\n      const hueB =\n        b.r === b.g && b.g === b.b ? 0 : 1 + hueGroup(hslB.h, hueGroups);\n      /*\n       var hueA = (a.r === a.g && a.g === a.b) ? 0 : 1 + Utils.hueGroup(hslA.h, hueGroups);\n       var hueB = (b.r === b.g && b.g === b.b) ? 0 : 1 + Utils.hueGroup(hslB.h, hueGroups);\n       */\n\n      const hueDiff = hueB - hueA;\n      if (hueDiff) return -hueDiff;\n\n      /*\n       var lumDiff = Utils.lumGroup(+hslB.l.toFixed(2)) - Utils.lumGroup(+hslA.l.toFixed(2));\n       if (lumDiff) return -lumDiff;\n       */\n      const lA = a.getLuminosity(true);\n      const lB = b.getLuminosity(true);\n\n      if (lB - lA !== 0) return lB - lA;\n\n      const satDiff = ((hslB.s * 100) | 0) - ((hslA.s * 100) | 0);\n      if (satDiff) return -satDiff;\n\n      return 0;\n    });\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * pointContainer.ts - part of Image Quantization Library\n */\nimport { Point } from './point';\n\n/**\n * v8 optimizations done.\n * fromXXX methods are static to move out polymorphic code from class instance itself.\n */\nexport class PointContainer {\n  private readonly _pointArray: Point[];\n  private _width: number;\n  private _height: number;\n\n  constructor() {\n    this._width = 0;\n    this._height = 0;\n    this._pointArray = [];\n  }\n\n  getWidth() {\n    return this._width;\n  }\n\n  getHeight() {\n    return this._height;\n  }\n\n  setWidth(width: number) {\n    this._width = width;\n  }\n\n  setHeight(height: number) {\n    this._height = height;\n  }\n\n  getPointArray() {\n    return this._pointArray;\n  }\n\n  clone() {\n    const clone = new PointContainer();\n    clone._width = this._width;\n    clone._height = this._height;\n\n    for (let i = 0, l = this._pointArray.length; i < l; i++) {\n      clone._pointArray[i] = Point.createByUint32(\n        this._pointArray[i].uint32 | 0,\n      ); // \"| 0\" is added for v8 optimization\n    }\n\n    return clone;\n  }\n\n  toUint32Array() {\n    const l = this._pointArray.length;\n    const uint32Array = new Uint32Array(l);\n\n    for (let i = 0; i < l; i++) {\n      uint32Array[i] = this._pointArray[i].uint32;\n    }\n\n    return uint32Array;\n  }\n\n  toUint8Array() {\n    return new Uint8Array(this.toUint32Array().buffer);\n  }\n\n  static fromHTMLImageElement(img: HTMLImageElement) {\n    const width = img.naturalWidth;\n    const height = img.naturalHeight;\n\n    // eslint-disable-next-line no-undef\n    const canvas = document.createElement('canvas');\n    canvas.width = width;\n    canvas.height = height;\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const ctx = canvas.getContext('2d')!; // tslint:disable-line:no-non-null-assertion\n    ctx.drawImage(img, 0, 0, width, height, 0, 0, width, height);\n\n    return PointContainer.fromHTMLCanvasElement(canvas);\n  }\n\n  static fromHTMLCanvasElement(canvas: HTMLCanvasElement) {\n    const width = canvas.width;\n    const height = canvas.height;\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const ctx = canvas.getContext('2d')!; // tslint:disable-line:no-non-null-assertion\n    const imgData = ctx.getImageData(0, 0, width, height);\n\n    return PointContainer.fromImageData(imgData);\n  }\n\n  static fromImageData(imageData: ImageData) {\n    const width = imageData.width;\n    const height = imageData.height;\n\n    return PointContainer.fromUint8Array(imageData.data, width, height);\n  }\n\n  static fromUint8Array(\n    uint8Array: number[] | Uint8Array | Uint8ClampedArray,\n    width: number,\n    height: number,\n  ) {\n    switch (Object.prototype.toString.call(uint8Array)) {\n      case '[object Uint8ClampedArray]':\n      case '[object Uint8Array]':\n        break;\n\n      default:\n        uint8Array = new Uint8Array(uint8Array);\n    }\n\n    const uint32Array = new Uint32Array((uint8Array as Uint8Array).buffer);\n    return PointContainer.fromUint32Array(uint32Array, width, height);\n  }\n\n  static fromUint32Array(\n    uint32Array: Uint32Array,\n    width: number,\n    height: number,\n  ) {\n    const container = new PointContainer();\n\n    container._width = width;\n    container._height = height;\n\n    for (let i = 0, l = uint32Array.length; i < l; i++) {\n      container._pointArray[i] = Point.createByUint32(uint32Array[i] | 0); // \"| 0\" is added for v8 optimization\n    }\n\n    return container;\n  }\n\n  static fromBuffer(buffer: Buffer, width: number, height: number) {\n    const uint32Array = new Uint32Array(\n      buffer.buffer,\n      buffer.byteOffset,\n      buffer.byteLength / Uint32Array.BYTES_PER_ELEMENT,\n    );\n    return PointContainer.fromUint32Array(uint32Array, width, height);\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * point.ts - part of Image Quantization Library\n */\nimport { Y } from '../constants/bt709';\n\nexport interface PointRGBA {\n  r: number;\n  g: number;\n  b: number;\n  a: number;\n}\n\n/**\n * v8 optimized class\n * 1) \"constructor\" should have initialization with worst types\n * 2) \"set\" should have |0 / >>> 0\n */\nexport class Point implements PointRGBA {\n  r: number;\n  g: number;\n  b: number;\n  a: number;\n  uint32: number;\n  rgba: number[]; // TODO: better name is quadruplet or quad may be?\n  // Lab : { L : number; a : number; b : number };\n\n  static createByQuadruplet(quadruplet: number[]) {\n    const point = new Point();\n\n    point.r = quadruplet[0] | 0;\n    point.g = quadruplet[1] | 0;\n    point.b = quadruplet[2] | 0;\n    point.a = quadruplet[3] | 0;\n    point._loadUINT32();\n    point._loadQuadruplet();\n    // point._loadLab();\n    return point;\n  }\n\n  static createByRGBA(red: number, green: number, blue: number, alpha: number) {\n    const point = new Point();\n\n    point.r = red | 0;\n    point.g = green | 0;\n    point.b = blue | 0;\n    point.a = alpha | 0;\n    point._loadUINT32();\n    point._loadQuadruplet();\n    // point._loadLab();\n    return point;\n  }\n\n  static createByUint32(uint32: number) {\n    const point = new Point();\n\n    point.uint32 = uint32 >>> 0;\n    point._loadRGBA();\n    point._loadQuadruplet();\n    // point._loadLab();\n    return point;\n  }\n\n  constructor() {\n    this.uint32 = -1 >>> 0;\n    this.r = this.g = this.b = this.a = 0;\n    this.rgba = new Array(4);\n    this.rgba[0] = 0;\n    this.rgba[1] = 0;\n    this.rgba[2] = 0;\n    this.rgba[3] = 0;\n    /*\n     this.Lab = {\n     L : 0.0,\n     a : 0.0,\n     b : 0.0\n     };\n     */\n  }\n\n  from(point: Point) {\n    this.r = point.r;\n    this.g = point.g;\n    this.b = point.b;\n    this.a = point.a;\n    this.uint32 = point.uint32;\n    this.rgba[0] = point.r;\n    this.rgba[1] = point.g;\n    this.rgba[2] = point.b;\n    this.rgba[3] = point.a;\n\n    /*\n     this.Lab.L = point.Lab.L;\n     this.Lab.a = point.Lab.a;\n     this.Lab.b = point.Lab.b;\n     */\n  }\n\n  /*\n   * TODO:\n   Luminance from RGB:\n\n   Luminance (standard for certain colour spaces): (0.2126*R + 0.7152*G + 0.0722*B) [1]\n   Luminance (perceived option 1): (0.299*R + 0.587*G + 0.114*B) [2]\n   Luminance (perceived option 2, slower to calculate):  sqrt( 0.241*R^2 + 0.691*G^2 + 0.068*B^2 ) ? sqrt( 0.299*R^2 + 0.587*G^2 + 0.114*B^2 ) (thanks to @MatthewHerbst) [http://alienryderflex.com/hsp.html]\n   */\n  getLuminosity(useAlphaChannel: boolean) {\n    let r = this.r;\n    let g = this.g;\n    let b = this.b;\n\n    if (useAlphaChannel) {\n      r = Math.min(255, 255 - this.a + (this.a * r) / 255);\n      g = Math.min(255, 255 - this.a + (this.a * g) / 255);\n      b = Math.min(255, 255 - this.a + (this.a * b) / 255);\n    }\n\n    // var luma = this.r * Point._RED_COEFFICIENT + this.g * Point._GREEN_COEFFICIENT + this.b * Point._BLUE_COEFFICIENT;\n\n    /*\n     if(useAlphaChannel) {\n     luma = (luma * (255 - this.a)) / 255;\n     }\n     */\n\n    return r * Y.RED + g * Y.GREEN + b * Y.BLUE;\n  }\n\n  private _loadUINT32() {\n    this.uint32 =\n      ((this.a << 24) | (this.b << 16) | (this.g << 8) | this.r) >>> 0;\n  }\n\n  private _loadRGBA() {\n    this.r = this.uint32 & 0xff;\n    this.g = (this.uint32 >>> 8) & 0xff;\n    this.b = (this.uint32 >>> 16) & 0xff;\n    this.a = (this.uint32 >>> 24) & 0xff;\n  }\n\n  private _loadQuadruplet() {\n    this.rgba[0] = this.r;\n    this.rgba[1] = this.g;\n    this.rgba[2] = this.b;\n    this.rgba[3] = this.a;\n\n    /*\n     var xyz = rgb2xyz(this.r, this.g, this.b);\n     var lab = xyz2lab(xyz.x, xyz.y, xyz.z);\n     this.lab.l = lab.l;\n     this.lab.a = lab.a;\n     this.lab.b = lab.b;\n     */\n  }\n\n  /*\n   private _loadLab() : void {\n   var Lab = Color.Conversion.rgb2lab(this.r, this.g, this.b);\n   this.Lab.L = Lab.L;\n   this.Lab.a = Lab.a;\n   this.Lab.b = Lab.b;\n   }\n   */\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * hueStatistics.ts - part of Image Quantization Library\n */\nimport { rgb2hsl } from '../conversion/rgb2hsl';\nimport { hueGroup } from './palette';\n\nclass HueGroup {\n  num = 0;\n  cols: number[] = [];\n}\n\nexport class HueStatistics {\n  private _numGroups: number;\n  private _minCols: number;\n  private _stats: HueGroup[];\n  private _groupsFull: number;\n\n  constructor(numGroups: number, minCols: number) {\n    this._numGroups = numGroups;\n    this._minCols = minCols;\n    this._stats = [];\n\n    for (let i = 0; i <= numGroups; i++) {\n      this._stats[i] = new HueGroup();\n    }\n\n    this._groupsFull = 0;\n  }\n\n  check(i32: number) {\n    if (this._groupsFull === this._numGroups + 1) {\n      this.check = () => {};\n    }\n\n    const r = i32 & 0xff;\n    const g = (i32 >>> 8) & 0xff;\n    const b = (i32 >>> 16) & 0xff;\n    const hg =\n      r === g && g === b\n        ? 0\n        : 1 + hueGroup(rgb2hsl(r, g, b).h, this._numGroups);\n    const gr = this._stats[hg];\n    const min = this._minCols;\n\n    gr.num++;\n\n    if (gr.num > min) {\n      return;\n    }\n    if (gr.num === min) {\n      this._groupsFull++;\n    }\n\n    if (gr.num <= min) {\n      this._stats[hg].cols.push(i32);\n    }\n  }\n\n  injectIntoDictionary(histG: Record<string, number>) {\n    for (let i = 0; i <= this._numGroups; i++) {\n      if (this._stats[i].num <= this._minCols) {\n        this._stats[i].cols.forEach((col: number) => {\n          if (!histG[col]) {\n            histG[col] = 1;\n          } else {\n            histG[col]++;\n          }\n        });\n      }\n    }\n  }\n\n  injectIntoArray(histG: string[]) {\n    for (let i = 0; i <= this._numGroups; i++) {\n      if (this._stats[i].num <= this._minCols) {\n        this._stats[i].cols.forEach((col: unknown) => {\n          if (histG.indexOf(col as string) === -1) {\n            histG.push(col as string);\n          }\n        });\n      }\n    }\n  }\n}\n","export class ProgressTracker {\n  static readonly steps = 100;\n\n  progress: number;\n\n  private _step: number;\n  private _range: number;\n  private _last: number;\n  private _progressRange: number;\n\n  constructor(valueRange: number, progressRange: number) {\n    this._range = valueRange;\n    this._progressRange = progressRange;\n    this._step = Math.max(1, (this._range / (ProgressTracker.steps + 1)) | 0);\n    this._last = -this._step;\n    this.progress = 0;\n  }\n\n  shouldNotify(current: number) {\n    if (current - this._last >= this._step) {\n      this._last = current;\n      this.progress = Math.min(\n        (this._progressRange * this._last) / this._range,\n        this._progressRange,\n      );\n      return true;\n    }\n\n    return false;\n  }\n}\n","/*\n * NeuQuantFloat Neural-Net Quantization Algorithm\n * ------------------------------------------\n *\n * Copyright (c) 1994 Anthony Dekker\n *\n * NEUQUANT Neural-Net quantization algorithm by Anthony Dekker, 1994. See\n * \"Kohonen neural networks for optimal colour quantization\" in \"Network:\n * Computation in Neural Systems\" Vol. 5 (1994) pp 351-367. for a discussion of\n * the algorithm.\n *\n * Any party obtaining a copy of these files from the author, directly or\n * indirectly, is granted, free of charge, a full and unrestricted irrevocable,\n * world-wide, paid up, royalty-free, nonexclusive right and license to deal in\n * this software and documentation files (the \"Software\"), including without\n * limitation the rights to use, copy, modify, merge, publish, distribute,\n * sublicense, and/or sell copies of the Software, and to permit persons who\n * receive copies from any such party to do so, with the only requirement being\n * that this copyright notice remain intact.\n */\n/**\n * @preserve TypeScript port:\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * neuquant.ts - part of Image Quantization Library\n */\nimport { Palette } from '../../utils/palette';\nimport { Point } from '../../utils/point';\nimport { PointContainer } from '../../utils/pointContainer';\nimport { AbstractDistanceCalculator } from '../../distance/distanceCalculator';\nimport { AbstractPaletteQuantizer } from '../paletteQuantizer';\nimport { PaletteQuantizerYieldValue } from '../paletteQuantizerYieldValue';\nimport { ProgressTracker } from '../../utils';\n\n// bias for colour values\nconst networkBiasShift = 3;\n\nclass NeuronFloat {\n  r: number;\n  g: number;\n  b: number;\n  a: number;\n\n  constructor(defaultValue: number) {\n    this.r = this.g = this.b = this.a = defaultValue;\n  }\n\n  /**\n   * There is a fix in original NEUQUANT by Anthony Dekker (http://members.ozemail.com.au/~dekker/NEUQUANT.HTML)\n   * @example\n   * r = Math.min(255, (neuron.r + (1 << (networkBiasShift - 1))) >> networkBiasShift);\n   */\n  toPoint() {\n    return Point.createByRGBA(\n      this.r >> networkBiasShift,\n      this.g >> networkBiasShift,\n      this.b >> networkBiasShift,\n      this.a >> networkBiasShift,\n    );\n  }\n\n  subtract(r: number, g: number, b: number, a: number) {\n    this.r -= r;\n    this.g -= g;\n    this.b -= b;\n    this.a -= a;\n  }\n}\n\nexport class NeuQuantFloat extends AbstractPaletteQuantizer {\n  /*\n   four primes near 500 - assume no image has a length so large\n   that it is divisible by all four primes\n   */\n  private static readonly _prime1 = 499;\n  private static readonly _prime2 = 491;\n  private static readonly _prime3 = 487;\n  private static readonly _prime4 = 503;\n  private static readonly _minpicturebytes = NeuQuantFloat._prime4;\n\n  // no. of learning cycles\n  private static readonly _nCycles = 100;\n\n  // defs for freq and bias\n  private static readonly _initialBiasShift = 16;\n\n  // bias for fractions\n  private static readonly _initialBias = 1 << NeuQuantFloat._initialBiasShift;\n  private static readonly _gammaShift = 10;\n\n  // gamma = 1024\n  // TODO: why gamma is never used?\n  // private static _gamma : number     = (1 << NeuQuantFloat._gammaShift);\n  private static readonly _betaShift = 10;\n  private static readonly _beta =\n    NeuQuantFloat._initialBias >> NeuQuantFloat._betaShift;\n\n  // beta = 1/1024\n  private static readonly _betaGamma =\n    NeuQuantFloat._initialBias <<\n    (NeuQuantFloat._gammaShift - NeuQuantFloat._betaShift);\n\n  /*\n   * for 256 cols, radius starts\n   */\n  private static readonly _radiusBiasShift = 6;\n\n  // at 32.0 biased by 6 bits\n  private static readonly _radiusBias = 1 << NeuQuantFloat._radiusBiasShift;\n\n  // and decreases by a factor of 1/30 each cycle\n  private static readonly _radiusDecrease = 30;\n\n  /* defs for decreasing alpha factor */\n\n  // alpha starts at 1.0\n  private static readonly _alphaBiasShift = 10;\n\n  // biased by 10 bits\n  private static readonly _initAlpha = 1 << NeuQuantFloat._alphaBiasShift;\n\n  /* radBias and alphaRadBias used for radpower calculation */\n  private static readonly _radBiasShift = 8;\n  private static readonly _radBias = 1 << NeuQuantFloat._radBiasShift;\n  private static readonly _alphaRadBiasShift =\n    NeuQuantFloat._alphaBiasShift + NeuQuantFloat._radBiasShift;\n  private static readonly _alphaRadBias = 1 << NeuQuantFloat._alphaRadBiasShift;\n\n  private _pointArray!: Point[];\n  private readonly _networkSize!: number;\n  private _network!: NeuronFloat[];\n\n  /** sampling factor 1..30 */\n  private readonly _sampleFactor!: number;\n  private _radPower!: number[];\n\n  // bias and freq arrays for learning\n  private _freq!: number[];\n\n  /* for network lookup - really 256 */\n  private _bias!: number[];\n  private readonly _distance: AbstractDistanceCalculator;\n\n  constructor(\n    colorDistanceCalculator: AbstractDistanceCalculator,\n    colors = 256,\n  ) {\n    super();\n    this._distance = colorDistanceCalculator;\n    this._pointArray = [];\n    this._sampleFactor = 1;\n    this._networkSize = colors;\n\n    this._distance.setWhitePoint(\n      255 << networkBiasShift,\n      255 << networkBiasShift,\n      255 << networkBiasShift,\n      255 << networkBiasShift,\n    );\n  }\n\n  sample(pointContainer: PointContainer) {\n    this._pointArray = this._pointArray.concat(pointContainer.getPointArray());\n  }\n\n  *quantize() {\n    this._init();\n    yield* this._learn();\n\n    yield {\n      palette: this._buildPalette(),\n      progress: 100,\n    };\n  }\n\n  private _init() {\n    this._freq = [];\n    this._bias = [];\n    this._radPower = [];\n    this._network = [];\n    for (let i = 0; i < this._networkSize; i++) {\n      this._network[i] = new NeuronFloat(\n        (i << (networkBiasShift + 8)) / this._networkSize,\n      );\n\n      // 1/this._networkSize\n      this._freq[i] = NeuQuantFloat._initialBias / this._networkSize;\n      this._bias[i] = 0;\n    }\n  }\n\n  /**\n   * Main Learning Loop\n   */\n  private *_learn(): IterableIterator<PaletteQuantizerYieldValue> {\n    let sampleFactor = this._sampleFactor;\n\n    const pointsNumber = this._pointArray.length;\n    if (pointsNumber < NeuQuantFloat._minpicturebytes) sampleFactor = 1;\n\n    const alphadec = 30 + (sampleFactor - 1) / 3;\n    const pointsToSample = pointsNumber / sampleFactor;\n\n    let delta = (pointsToSample / NeuQuantFloat._nCycles) | 0;\n    let alpha = NeuQuantFloat._initAlpha;\n    let radius = (this._networkSize >> 3) * NeuQuantFloat._radiusBias;\n\n    let rad = radius >> NeuQuantFloat._radiusBiasShift;\n    if (rad <= 1) rad = 0;\n\n    for (let i = 0; i < rad; i++) {\n      this._radPower[i] =\n        alpha * (((rad * rad - i * i) * NeuQuantFloat._radBias) / (rad * rad));\n    }\n\n    let step;\n    if (pointsNumber < NeuQuantFloat._minpicturebytes) {\n      step = 1;\n    } else if (pointsNumber % NeuQuantFloat._prime1 !== 0) {\n      step = NeuQuantFloat._prime1;\n    } else if (pointsNumber % NeuQuantFloat._prime2 !== 0) {\n      step = NeuQuantFloat._prime2;\n    } else if (pointsNumber % NeuQuantFloat._prime3 !== 0) {\n      step = NeuQuantFloat._prime3;\n    } else {\n      step = NeuQuantFloat._prime4;\n    }\n\n    const tracker = new ProgressTracker(pointsToSample, 99);\n    for (let i = 0, pointIndex = 0; i < pointsToSample; ) {\n      if (tracker.shouldNotify(i)) {\n        yield {\n          progress: tracker.progress,\n        };\n      }\n\n      const point = this._pointArray[pointIndex];\n      const b = point.b << networkBiasShift;\n      const g = point.g << networkBiasShift;\n      const r = point.r << networkBiasShift;\n      const a = point.a << networkBiasShift;\n      const neuronIndex = this._contest(b, g, r, a);\n\n      this._alterSingle(alpha, neuronIndex, b, g, r, a);\n      if (rad !== 0) this._alterNeighbour(rad, neuronIndex, b, g, r, a);\n\n      /* alter neighbours */\n      pointIndex += step;\n      if (pointIndex >= pointsNumber) pointIndex -= pointsNumber;\n      i++;\n\n      if (delta === 0) delta = 1;\n\n      if (i % delta === 0) {\n        alpha -= alpha / alphadec;\n        radius -= radius / NeuQuantFloat._radiusDecrease;\n        rad = radius >> NeuQuantFloat._radiusBiasShift;\n\n        if (rad <= 1) rad = 0;\n        for (let j = 0; j < rad; j++) {\n          this._radPower[j] =\n            alpha *\n            (((rad * rad - j * j) * NeuQuantFloat._radBias) / (rad * rad));\n        }\n      }\n    }\n  }\n\n  private _buildPalette() {\n    const palette = new Palette();\n\n    this._network.forEach(neuron => {\n      palette.add(neuron.toPoint());\n    });\n\n    palette.sort();\n    return palette;\n  }\n\n  /**\n   * Move adjacent neurons by precomputed alpha*(1-((i-j)^2/[r]^2)) in radpower[|i-j|]\n   */\n  private _alterNeighbour(\n    rad: number,\n    i: number,\n    b: number,\n    g: number,\n    r: number,\n    al: number,\n  ) {\n    let lo = i - rad;\n    if (lo < -1) lo = -1;\n\n    let hi = i + rad;\n    if (hi > this._networkSize) hi = this._networkSize;\n\n    let j = i + 1;\n    let k = i - 1;\n    let m = 1;\n\n    while (j < hi || k > lo) {\n      const a = this._radPower[m++] / NeuQuantFloat._alphaRadBias;\n      if (j < hi) {\n        const p = this._network[j++];\n        p.subtract(a * (p.r - r), a * (p.g - g), a * (p.b - b), a * (p.a - al));\n      }\n\n      if (k > lo) {\n        const p = this._network[k--];\n        p.subtract(a * (p.r - r), a * (p.g - g), a * (p.b - b), a * (p.a - al));\n      }\n    }\n  }\n\n  /**\n   * Move neuron i towards biased (b,g,r) by factor alpha\n   */\n  private _alterSingle(\n    alpha: number,\n    i: number,\n    b: number,\n    g: number,\n    r: number,\n    a: number,\n  ) {\n    alpha /= NeuQuantFloat._initAlpha;\n\n    /* alter hit neuron */\n    const n = this._network[i];\n    n.subtract(\n      alpha * (n.r - r),\n      alpha * (n.g - g),\n      alpha * (n.b - b),\n      alpha * (n.a - a),\n    );\n  }\n\n  /**\n   * Search for biased BGR values\n   * description:\n   *    finds closest neuron (min dist) and updates freq\n   *    finds best neuron (min dist-bias) and returns position\n   *    for frequently chosen neurons, freq[i] is high and bias[i] is negative\n   *    bias[i] = _gamma*((1/this._networkSize)-freq[i])\n   *\n   * Original distance equation:\n   *        dist = abs(dR) + abs(dG) + abs(dB)\n   */\n  private _contest(b: number, g: number, r: number, al: number) {\n    const multiplier = (255 * 4) << networkBiasShift;\n\n    let bestd = ~(1 << 31);\n    let bestbiasd = bestd;\n    let bestpos = -1;\n    let bestbiaspos = bestpos;\n\n    for (let i = 0; i < this._networkSize; i++) {\n      const n = this._network[i];\n      const dist =\n        this._distance.calculateNormalized(n, { r, g, b, a: al }) * multiplier;\n\n      if (dist < bestd) {\n        bestd = dist;\n        bestpos = i;\n      }\n\n      const biasdist =\n        dist -\n        (this._bias[i] >> (NeuQuantFloat._initialBiasShift - networkBiasShift));\n      if (biasdist < bestbiasd) {\n        bestbiasd = biasdist;\n        bestbiaspos = i;\n      }\n      const betafreq = this._freq[i] >> NeuQuantFloat._betaShift;\n      this._freq[i] -= betafreq;\n      this._bias[i] += betafreq << NeuQuantFloat._gammaShift;\n    }\n    this._freq[bestpos] += NeuQuantFloat._beta;\n    this._bias[bestpos] -= NeuQuantFloat._betaGamma;\n    return bestbiaspos;\n  }\n}\n","/*\n * Copyright (c) 2015, Leon Sorokin\n * All rights reserved. (MIT Licensed)\n *\n * RGBQuant.js - an image quantization lib\n */\n\n/**\n * @preserve TypeScript port:\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * rgbquant.ts - part of Image Quantization Library\n */\n\nimport { Palette } from '../../utils/palette';\nimport { Point } from '../../utils/point';\nimport { PointContainer } from '../../utils/pointContainer';\nimport { AbstractDistanceCalculator } from '../../distance/distanceCalculator';\nimport { ColorHistogram } from './colorHistogram';\nimport { AbstractPaletteQuantizer } from '../paletteQuantizer';\nimport { PaletteQuantizerYieldValue } from '../paletteQuantizerYieldValue';\nimport { stableSort } from '../../utils/arithmetic';\nimport { ProgressTracker } from '../../utils';\n\nclass RemovedColor {\n  readonly index: number;\n  readonly color: Point;\n  readonly distance: number;\n\n  constructor(index: number, color: Point, distance: number) {\n    this.index = index;\n    this.color = color;\n    this.distance = distance;\n  }\n}\n\n// TODO: make input/output image and input/output palettes with instances of class Point only!\nexport class RGBQuant extends AbstractPaletteQuantizer {\n  // desired final palette size\n  private readonly _colors: number;\n\n  // color-distance threshold for initial reduction pass\n  private readonly _initialDistance: number;\n\n  // subsequent passes threshold\n  private readonly _distanceIncrement: number;\n\n  // accumulated histogram\n  private readonly _histogram: ColorHistogram;\n  private readonly _distance: AbstractDistanceCalculator;\n\n  constructor(\n    colorDistanceCalculator: AbstractDistanceCalculator,\n    colors = 256,\n    method = 2,\n  ) {\n    super();\n    this._distance = colorDistanceCalculator;\n    // desired final palette size\n    this._colors = colors;\n\n    // histogram to accumulate\n    this._histogram = new ColorHistogram(method, colors);\n\n    this._initialDistance = 0.01;\n    this._distanceIncrement = 0.005;\n  }\n\n  // gathers histogram info\n  sample(image: PointContainer) {\n    /*\n     var pointArray = image.getPointArray(), max = [0, 0, 0, 0], min = [255, 255, 255, 255];\n\n     for (var i = 0, l = pointArray.length; i < l; i++) {\n     var color = pointArray[i];\n     for (var componentIndex = 0; componentIndex < 4; componentIndex++) {\n     if (max[componentIndex] < color.rgba[componentIndex]) max[componentIndex] = color.rgba[componentIndex];\n     if (min[componentIndex] > color.rgba[componentIndex]) min[componentIndex] = color.rgba[componentIndex];\n     }\n     }\n     var rd = max[0] - min[0], gd = max[1] - min[1], bd = max[2] - min[2], ad = max[3] - min[3];\n     this._distance.setWhitePoint(rd, gd, bd, ad);\n\n     this._initialDistance = (Math.sqrt(rd * rd + gd * gd + bd * bd + ad * ad) / Math.sqrt(255 * 255 + 255 * 255 + 255 * 255)) * 0.01;\n     */\n\n    this._histogram.sample(image);\n  }\n\n  // reduces histogram to palette, remaps & memoizes reduced colors\n  *quantize() {\n    const idxi32 = this._histogram.getImportanceSortedColorsIDXI32();\n    if (idxi32.length === 0) {\n      throw new Error('No colors in image');\n    }\n\n    yield* this._buildPalette(idxi32);\n  }\n\n  // reduces similar colors from an importance-sorted Uint32 rgba array\n  private *_buildPalette(\n    idxi32: number[],\n  ): IterableIterator<PaletteQuantizerYieldValue> {\n    // reduce histogram to create initial palette\n    // build full rgb palette\n    const palette = new Palette();\n    const colorArray = palette.getPointContainer().getPointArray();\n    const usageArray = new Array(idxi32.length); // tslint:disable-line:prefer-array-literal\n\n    for (let i = 0; i < idxi32.length; i++) {\n      colorArray.push(Point.createByUint32(idxi32[i]));\n      usageArray[i] = 1;\n    }\n\n    const len = colorArray.length;\n    const memDist = [];\n\n    let palLen = len;\n    let thold = this._initialDistance;\n\n    // palette already at or below desired length\n    const tracker = new ProgressTracker(palLen - this._colors, 99);\n    while (palLen > this._colors) {\n      memDist.length = 0;\n\n      // iterate palette\n      for (let i = 0; i < len; i++) {\n        if (tracker.shouldNotify(len - palLen)) {\n          yield {\n            progress: tracker.progress,\n          };\n        }\n\n        if (usageArray[i] === 0) continue;\n        const pxi = colorArray[i];\n        // if (!pxi) continue;\n\n        for (let j = i + 1; j < len; j++) {\n          if (usageArray[j] === 0) continue;\n          const pxj = colorArray[j];\n          // if (!pxj) continue;\n\n          const dist = this._distance.calculateNormalized(pxi, pxj);\n          if (dist < thold) {\n            // store index,rgb,dist\n            memDist.push(new RemovedColor(j, pxj, dist));\n            usageArray[j] = 0;\n            palLen--;\n          }\n        }\n      }\n      // palette reduction pass\n      // console.log(\"palette length: \" + palLen);\n\n      // if palette is still much larger than target, increment by larger initDist\n      thold +=\n        palLen > this._colors * 3\n          ? this._initialDistance\n          : this._distanceIncrement;\n    }\n\n    // if palette is over-reduced, re-add removed colors with largest distances from last round\n    if (palLen < this._colors) {\n      // sort descending\n      stableSort(memDist, (a, b) => b.distance - a.distance);\n\n      let k = 0;\n      while (palLen < this._colors && k < memDist.length) {\n        const removedColor = memDist[k];\n        // re-inject rgb into final palette\n        usageArray[removedColor.index] = 1;\n        palLen++;\n        k++;\n      }\n    }\n\n    let colors = colorArray.length;\n    for (let colorIndex = colors - 1; colorIndex >= 0; colorIndex--) {\n      if (usageArray[colorIndex] === 0) {\n        if (colorIndex !== colors - 1) {\n          colorArray[colorIndex] = colorArray[colors - 1];\n        }\n        --colors;\n      }\n    }\n    colorArray.length = colors;\n\n    palette.sort();\n\n    yield {\n      palette,\n      progress: 100,\n    };\n  }\n}\n","/*\n * Copyright (c) 2015, Leon Sorokin\n * All rights reserved. (MIT Licensed)\n *\n * ColorHistogram.js - an image quantization lib\n */\n\n/**\n * @preserve TypeScript port:\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * colorHistogram.ts - part of Image Quantization Library\n */\nimport { HueStatistics } from '../../utils/hueStatistics';\nimport { PointContainer } from '../../utils/pointContainer';\nimport { stableSort } from '../../utils/arithmetic';\n\ninterface Box {\n  x: number;\n  y: number;\n  h: number;\n  w: number;\n}\n\nexport class ColorHistogram {\n  private static _boxSize = [64, 64];\n  private static _boxPixels = 2;\n  private static _hueGroups = 10;\n\n  // 1 = by global population, 2 = subregion population threshold\n  private _method: number;\n\n  // HueStatistics instance\n  private _hueStats: HueStatistics;\n\n  private _histogram: { [color: string]: number };\n\n  // # of highest-frequency colors to start with for palette reduction\n  private _initColors: number;\n\n  // if > 0, enables hues stats and min-color retention per group\n  private _minHueCols: number;\n\n  constructor(method: number, colors: number) {\n    // 1 = by global population, 2 = subregion population threshold\n    this._method = method;\n\n    // if > 0, enables hues stats and min-color retention per group\n    this._minHueCols = colors << 2; // opts.minHueCols || 0;\n\n    // # of highest-frequency colors to start with for palette reduction\n    this._initColors = colors << 2;\n\n    // HueStatistics instance\n    this._hueStats = new HueStatistics(\n      ColorHistogram._hueGroups,\n      this._minHueCols,\n    );\n\n    this._histogram = Object.create(null); // tslint:disable-line:no-null-keyword\n  }\n\n  sample(pointContainer: PointContainer) {\n    // eslint-disable-next-line default-case\n    switch (this._method) {\n      case 1:\n        this._colorStats1D(pointContainer);\n        break;\n      case 2:\n        this._colorStats2D(pointContainer);\n        break;\n    }\n  }\n\n  getImportanceSortedColorsIDXI32() {\n    // TODO: fix typing issue in stableSort func\n    const sorted = stableSort(\n      Object.keys(this._histogram),\n      (a, b) => this._histogram[b] - this._histogram[a],\n    );\n    if (sorted.length === 0) {\n      return [];\n    }\n\n    let idxi32;\n    switch (this._method) {\n      case 1:\n        const initialColorsLimit = Math.min(sorted.length, this._initColors);\n        const last = sorted[initialColorsLimit - 1];\n        const freq = this._histogram[last];\n\n        idxi32 = sorted.slice(0, initialColorsLimit);\n\n        // add any cut off colors with same freq as last\n        let pos = initialColorsLimit;\n        const len = sorted.length;\n        while (pos < len && this._histogram[sorted[pos]] === freq) {\n          idxi32.push(sorted[pos++]);\n        }\n\n        // inject min huegroup colors\n        this._hueStats.injectIntoArray(idxi32);\n        break;\n\n      case 2:\n        idxi32 = sorted;\n        break;\n\n      default:\n        // TODO: rethink errors\n        throw new Error('Incorrect method');\n    }\n\n    // int32-ify values\n    return idxi32.map(v => +v);\n  }\n\n  // global top-population\n  private _colorStats1D(pointContainer: PointContainer) {\n    const histG = this._histogram;\n    const pointArray = pointContainer.getPointArray();\n    const len = pointArray.length;\n\n    for (let i = 0; i < len; i++) {\n      const col = pointArray[i].uint32;\n\n      // collect hue stats\n      this._hueStats.check(col);\n\n      if (col in histG) {\n        histG[col]++;\n      } else {\n        histG[col] = 1;\n      }\n    }\n  }\n\n  // population threshold within subregions\n  // FIXME: this can over-reduce (few/no colors same?), need a way to keep\n  // important colors that dont ever reach local thresholds (gradients?)\n  private _colorStats2D(pointContainer: PointContainer) {\n    const width = pointContainer.getWidth();\n    const height = pointContainer.getHeight();\n    const pointArray = pointContainer.getPointArray();\n\n    const boxW = ColorHistogram._boxSize[0];\n    const boxH = ColorHistogram._boxSize[1];\n    const area = boxW * boxH;\n    const boxes = this._makeBoxes(width, height, boxW, boxH);\n    const histG = this._histogram;\n\n    boxes.forEach(box => {\n      let effc = Math.round((box.w * box.h) / area) * ColorHistogram._boxPixels;\n      if (effc < 2) effc = 2;\n\n      const histL: Record<string, number> = {};\n      this._iterateBox(box, width, i => {\n        const col = pointArray[i].uint32;\n\n        // collect hue stats\n        this._hueStats.check(col);\n\n        if (col in histG) {\n          histG[col]++;\n        } else if (col in histL) {\n          if (++histL[col] >= effc) {\n            histG[col] = histL[col];\n          }\n        } else {\n          histL[col] = 1;\n        }\n      });\n    });\n\n    // inject min huegroup colors\n    this._hueStats.injectIntoDictionary(histG);\n  }\n\n  // iterates @bbox within a parent rect of width @wid; calls @fn, passing index within parent\n  private _iterateBox(bbox: Box, wid: number, fn: (i: number) => void) {\n    const b = bbox;\n    const i0 = b.y * wid + b.x;\n    const i1 = (b.y + b.h - 1) * wid + (b.x + b.w - 1);\n    const incr = wid - b.w + 1;\n\n    let cnt = 0;\n    let i = i0;\n\n    do {\n      fn.call(this, i);\n      i += ++cnt % b.w === 0 ? incr : 1;\n    } while (i <= i1);\n  }\n\n  /**\n   *    partitions a rectangle of width x height into\n   *    array of boxes stepX x stepY (or less)\n   */\n  private _makeBoxes(\n    width: number,\n    height: number,\n    stepX: number,\n    stepY: number,\n  ) {\n    const wrem = width % stepX;\n    const hrem = height % stepY;\n    const xend = width - wrem;\n    const yend = height - hrem;\n    const boxesArray = [];\n\n    for (let y = 0; y < height; y += stepY) {\n      for (let x = 0; x < width; x += stepX) {\n        boxesArray.push({\n          x,\n          y,\n          w: x === xend ? wrem : stepX,\n          h: y === yend ? hrem : stepY,\n        });\n      }\n    }\n\n    return boxesArray;\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * wuQuant.ts - part of Image Quantization Library\n */\nimport { Palette } from '../../utils/palette';\nimport { Point } from '../../utils/point';\nimport { PointContainer } from '../../utils/pointContainer';\nimport { AbstractDistanceCalculator } from '../../distance/distanceCalculator';\nimport { AbstractPaletteQuantizer } from '../paletteQuantizer';\nimport { PaletteQuantizerYieldValue } from '../paletteQuantizerYieldValue';\nimport { ProgressTracker } from '../../utils';\n\nfunction createArray1D(dimension1: number) {\n  const a = [];\n  for (let k = 0; k < dimension1; k++) {\n    a[k] = 0;\n  }\n  return a;\n}\n\nfunction createArray4D(\n  dimension1: number,\n  dimension2: number,\n  dimension3: number,\n  dimension4: number,\n): number[][][][] {\n  const a = new Array(dimension1);\n  for (let i = 0; i < dimension1; i++) {\n    a[i] = new Array(dimension2);\n    for (let j = 0; j < dimension2; j++) {\n      a[i][j] = new Array(dimension3);\n      for (let k = 0; k < dimension3; k++) {\n        a[i][j][k] = new Array(dimension4);\n        for (let l = 0; l < dimension4; l++) {\n          a[i][j][k][l] = 0;\n        }\n      }\n    }\n  }\n  return a;\n}\n\nfunction createArray3D(\n  dimension1: number,\n  dimension2: number,\n  dimension3: number,\n): number[][][] {\n  const a = new Array(dimension1);\n  for (let i = 0; i < dimension1; i++) {\n    a[i] = new Array(dimension2);\n    for (let j = 0; j < dimension2; j++) {\n      a[i][j] = new Array(dimension3);\n      for (let k = 0; k < dimension3; k++) {\n        a[i][j][k] = 0;\n      }\n    }\n  }\n  return a;\n}\n\nfunction fillArray3D<T>(\n  a: T[][][],\n  dimension1: number,\n  dimension2: number,\n  dimension3: number,\n  value: T,\n) {\n  for (let i = 0; i < dimension1; i++) {\n    a[i] = [];\n    for (let j = 0; j < dimension2; j++) {\n      a[i][j] = [];\n      for (let k = 0; k < dimension3; k++) {\n        a[i][j][k] = value;\n      }\n    }\n  }\n}\n\nfunction fillArray1D<T>(a: T[], dimension1: number, value: T) {\n  for (let i = 0; i < dimension1; i++) {\n    a[i] = value;\n  }\n}\n\nexport class WuColorCube {\n  redMinimum!: number;\n  redMaximum!: number;\n  greenMinimum!: number;\n  greenMaximum!: number;\n  blueMinimum!: number;\n  blueMaximum!: number;\n  volume!: number;\n  alphaMinimum!: number;\n  alphaMaximum!: number;\n}\n\nexport class WuQuant extends AbstractPaletteQuantizer {\n  private static readonly _alpha = 3;\n  private static readonly _red = 2;\n  private static readonly _green = 1;\n  private static readonly _blue = 0;\n\n  private _reds!: number[];\n  private _greens!: number[];\n  private _blues!: number[];\n  private _alphas!: number[];\n  private _sums!: number[];\n\n  private _weights!: number[][][][];\n  private _momentsRed!: number[][][][];\n  private _momentsGreen!: number[][][][];\n  private _momentsBlue!: number[][][][];\n  private _momentsAlpha!: number[][][][];\n  private _moments!: number[][][][];\n  private _table!: number[];\n  private _pixels!: Point[];\n\n  private _cubes!: WuColorCube[];\n  private _colors!: number;\n\n  private _significantBitsPerChannel!: number;\n  private _maxSideIndex!: number;\n  private _alphaMaxSideIndex!: number;\n  private _sideSize!: number;\n  private _alphaSideSize!: number;\n\n  private readonly _distance: AbstractDistanceCalculator;\n\n  constructor(\n    colorDistanceCalculator: AbstractDistanceCalculator,\n    colors = 256,\n    significantBitsPerChannel = 5,\n  ) {\n    super();\n    this._distance = colorDistanceCalculator;\n    this._setQuality(significantBitsPerChannel);\n    this._initialize(colors);\n  }\n\n  sample(image: PointContainer) {\n    const pointArray = image.getPointArray();\n\n    for (let i = 0, l = pointArray.length; i < l; i++) {\n      this._addColor(pointArray[i]);\n    }\n\n    this._pixels = this._pixels.concat(pointArray);\n  }\n\n  *quantize() {\n    yield* this._preparePalette();\n\n    const palette = new Palette();\n\n    // generates palette\n    for (let paletteIndex = 0; paletteIndex < this._colors; paletteIndex++) {\n      if (this._sums[paletteIndex] > 0) {\n        const sum = this._sums[paletteIndex];\n        const r = this._reds[paletteIndex] / sum;\n        const g = this._greens[paletteIndex] / sum;\n        const b = this._blues[paletteIndex] / sum;\n        const a = this._alphas[paletteIndex] / sum;\n\n        const color = Point.createByRGBA(r | 0, g | 0, b | 0, a | 0);\n        palette.add(color);\n      }\n    }\n\n    palette.sort();\n\n    yield {\n      palette,\n      progress: 100,\n    };\n  }\n\n  private *_preparePalette() {\n    // preprocess the colors\n    yield* this._calculateMoments();\n\n    let next = 0;\n    const volumeVariance = createArray1D(this._colors);\n\n    // processes the cubes\n    for (let cubeIndex = 1; cubeIndex < this._colors; ++cubeIndex) {\n      // if cut is possible; make it\n      if (this._cut(this._cubes[next], this._cubes[cubeIndex])) {\n        volumeVariance[next] =\n          this._cubes[next].volume > 1\n            ? this._calculateVariance(this._cubes[next])\n            : 0.0;\n        volumeVariance[cubeIndex] =\n          this._cubes[cubeIndex].volume > 1\n            ? this._calculateVariance(this._cubes[cubeIndex])\n            : 0.0;\n      } else {\n        // the cut was not possible, revert the index\n        volumeVariance[next] = 0.0;\n        cubeIndex--;\n      }\n\n      next = 0;\n      let temp = volumeVariance[0];\n\n      for (let index = 1; index <= cubeIndex; ++index) {\n        if (volumeVariance[index] > temp) {\n          temp = volumeVariance[index];\n          next = index;\n        }\n      }\n\n      if (temp <= 0.0) {\n        this._colors = cubeIndex + 1;\n        break;\n      }\n    }\n\n    const lookupRed = [];\n    const lookupGreen = [];\n    const lookupBlue = [];\n    const lookupAlpha = [];\n\n    // precalculates lookup tables\n    for (let k = 0; k < this._colors; ++k) {\n      const weight = WuQuant._volume(this._cubes[k], this._weights);\n\n      if (weight > 0) {\n        lookupRed[k] =\n          (WuQuant._volume(this._cubes[k], this._momentsRed) / weight) | 0;\n        lookupGreen[k] =\n          (WuQuant._volume(this._cubes[k], this._momentsGreen) / weight) | 0;\n        lookupBlue[k] =\n          (WuQuant._volume(this._cubes[k], this._momentsBlue) / weight) | 0;\n        lookupAlpha[k] =\n          (WuQuant._volume(this._cubes[k], this._momentsAlpha) / weight) | 0;\n      } else {\n        lookupRed[k] = 0;\n        lookupGreen[k] = 0;\n        lookupBlue[k] = 0;\n        lookupAlpha[k] = 0;\n      }\n    }\n\n    this._reds = createArray1D(this._colors + 1);\n    this._greens = createArray1D(this._colors + 1);\n    this._blues = createArray1D(this._colors + 1);\n    this._alphas = createArray1D(this._colors + 1);\n    this._sums = createArray1D(this._colors + 1);\n\n    // scans and adds colors\n    for (let index = 0, l = this._pixels.length; index < l; index++) {\n      const color = this._pixels[index];\n\n      const match = -1;\n\n      let bestMatch = match;\n      let bestDistance = Number.MAX_VALUE;\n\n      for (let lookup = 0; lookup < this._colors; lookup++) {\n        const foundRed = lookupRed[lookup];\n        const foundGreen = lookupGreen[lookup];\n        const foundBlue = lookupBlue[lookup];\n        const foundAlpha = lookupAlpha[lookup];\n\n        const distance = this._distance.calculateRaw(\n          foundRed,\n          foundGreen,\n          foundBlue,\n          foundAlpha,\n          color.r,\n          color.g,\n          color.b,\n          color.a,\n        );\n\n        if (distance < bestDistance) {\n          bestDistance = distance;\n          bestMatch = lookup;\n        }\n      }\n\n      this._reds[bestMatch] += color.r;\n      this._greens[bestMatch] += color.g;\n      this._blues[bestMatch] += color.b;\n      this._alphas[bestMatch] += color.a;\n      this._sums[bestMatch]++;\n    }\n  }\n\n  private _addColor(color: Point) {\n    const bitsToRemove = 8 - this._significantBitsPerChannel;\n    const indexRed = (color.r >> bitsToRemove) + 1;\n    const indexGreen = (color.g >> bitsToRemove) + 1;\n    const indexBlue = (color.b >> bitsToRemove) + 1;\n    const indexAlpha = (color.a >> bitsToRemove) + 1;\n\n    // if(color.a > 10) {\n    this._weights[indexAlpha][indexRed][indexGreen][indexBlue]++;\n    this._momentsRed[indexAlpha][indexRed][indexGreen][indexBlue] += color.r;\n    this._momentsGreen[indexAlpha][indexRed][indexGreen][indexBlue] += color.g;\n    this._momentsBlue[indexAlpha][indexRed][indexGreen][indexBlue] += color.b;\n    this._momentsAlpha[indexAlpha][indexRed][indexGreen][indexBlue] += color.a;\n    this._moments[indexAlpha][indexRed][indexGreen][indexBlue] +=\n      this._table[color.r] +\n      this._table[color.g] +\n      this._table[color.b] +\n      this._table[color.a];\n    // }\n  }\n\n  /**\n   * Converts the histogram to a series of _moments.\n   */\n  private *_calculateMoments(): IterableIterator<PaletteQuantizerYieldValue> {\n    const area: number[] = [];\n    const areaRed: number[] = [];\n    const areaGreen: number[] = [];\n    const areaBlue: number[] = [];\n    const areaAlpha: number[] = [];\n    const area2: number[] = [];\n\n    const xarea = createArray3D(this._sideSize, this._sideSize, this._sideSize);\n    const xareaRed = createArray3D(\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n    const xareaGreen = createArray3D(\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n    const xareaBlue = createArray3D(\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n    const xareaAlpha = createArray3D(\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n    const xarea2 = createArray3D(\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n\n    let trackerProgress = 0;\n    const tracker = new ProgressTracker(\n      this._alphaMaxSideIndex * this._maxSideIndex,\n      99,\n    );\n\n    for (\n      let alphaIndex = 1;\n      alphaIndex <= this._alphaMaxSideIndex;\n      ++alphaIndex\n    ) {\n      fillArray3D<number>(\n        xarea,\n        this._sideSize,\n        this._sideSize,\n        this._sideSize,\n        0,\n      );\n      fillArray3D<number>(\n        xareaRed,\n        this._sideSize,\n        this._sideSize,\n        this._sideSize,\n        0,\n      );\n      fillArray3D<number>(\n        xareaGreen,\n        this._sideSize,\n        this._sideSize,\n        this._sideSize,\n        0,\n      );\n      fillArray3D<number>(\n        xareaBlue,\n        this._sideSize,\n        this._sideSize,\n        this._sideSize,\n        0,\n      );\n      fillArray3D<number>(\n        xareaAlpha,\n        this._sideSize,\n        this._sideSize,\n        this._sideSize,\n        0,\n      );\n      fillArray3D<number>(\n        xarea2,\n        this._sideSize,\n        this._sideSize,\n        this._sideSize,\n        0,\n      );\n\n      for (\n        let redIndex = 1;\n        redIndex <= this._maxSideIndex;\n        ++redIndex, ++trackerProgress\n      ) {\n        if (tracker.shouldNotify(trackerProgress)) {\n          yield {\n            progress: tracker.progress,\n          };\n        }\n\n        fillArray1D<number>(area, this._sideSize, 0);\n        fillArray1D<number>(areaRed, this._sideSize, 0);\n        fillArray1D<number>(areaGreen, this._sideSize, 0);\n        fillArray1D<number>(areaBlue, this._sideSize, 0);\n        fillArray1D<number>(areaAlpha, this._sideSize, 0);\n        fillArray1D<number>(area2, this._sideSize, 0);\n\n        for (\n          let greenIndex = 1;\n          greenIndex <= this._maxSideIndex;\n          ++greenIndex\n        ) {\n          let line = 0;\n          let lineRed = 0;\n          let lineGreen = 0;\n          let lineBlue = 0;\n          let lineAlpha = 0;\n          let line2 = 0.0;\n\n          for (\n            let blueIndex = 1;\n            blueIndex <= this._maxSideIndex;\n            ++blueIndex\n          ) {\n            line += this._weights[alphaIndex][redIndex][greenIndex][blueIndex];\n            lineRed += this._momentsRed[alphaIndex][redIndex][greenIndex][\n              blueIndex\n            ];\n            lineGreen += this._momentsGreen[alphaIndex][redIndex][greenIndex][\n              blueIndex\n            ];\n            lineBlue += this._momentsBlue[alphaIndex][redIndex][greenIndex][\n              blueIndex\n            ];\n            lineAlpha += this._momentsAlpha[alphaIndex][redIndex][greenIndex][\n              blueIndex\n            ];\n            line2 += this._moments[alphaIndex][redIndex][greenIndex][blueIndex];\n\n            area[blueIndex] += line;\n            areaRed[blueIndex] += lineRed;\n            areaGreen[blueIndex] += lineGreen;\n            areaBlue[blueIndex] += lineBlue;\n            areaAlpha[blueIndex] += lineAlpha;\n            area2[blueIndex] += line2;\n\n            xarea[redIndex][greenIndex][blueIndex] =\n              xarea[redIndex - 1][greenIndex][blueIndex] + area[blueIndex];\n            xareaRed[redIndex][greenIndex][blueIndex] =\n              xareaRed[redIndex - 1][greenIndex][blueIndex] +\n              areaRed[blueIndex];\n            xareaGreen[redIndex][greenIndex][blueIndex] =\n              xareaGreen[redIndex - 1][greenIndex][blueIndex] +\n              areaGreen[blueIndex];\n            xareaBlue[redIndex][greenIndex][blueIndex] =\n              xareaBlue[redIndex - 1][greenIndex][blueIndex] +\n              areaBlue[blueIndex];\n            xareaAlpha[redIndex][greenIndex][blueIndex] =\n              xareaAlpha[redIndex - 1][greenIndex][blueIndex] +\n              areaAlpha[blueIndex];\n            xarea2[redIndex][greenIndex][blueIndex] =\n              xarea2[redIndex - 1][greenIndex][blueIndex] + area2[blueIndex];\n\n            this._weights[alphaIndex][redIndex][greenIndex][blueIndex] =\n              this._weights[alphaIndex - 1][redIndex][greenIndex][blueIndex] +\n              xarea[redIndex][greenIndex][blueIndex];\n            this._momentsRed[alphaIndex][redIndex][greenIndex][blueIndex] =\n              this._momentsRed[alphaIndex - 1][redIndex][greenIndex][\n                blueIndex\n              ] + xareaRed[redIndex][greenIndex][blueIndex];\n            this._momentsGreen[alphaIndex][redIndex][greenIndex][blueIndex] =\n              this._momentsGreen[alphaIndex - 1][redIndex][greenIndex][\n                blueIndex\n              ] + xareaGreen[redIndex][greenIndex][blueIndex];\n            this._momentsBlue[alphaIndex][redIndex][greenIndex][blueIndex] =\n              this._momentsBlue[alphaIndex - 1][redIndex][greenIndex][\n                blueIndex\n              ] + xareaBlue[redIndex][greenIndex][blueIndex];\n            this._momentsAlpha[alphaIndex][redIndex][greenIndex][blueIndex] =\n              this._momentsAlpha[alphaIndex - 1][redIndex][greenIndex][\n                blueIndex\n              ] + xareaAlpha[redIndex][greenIndex][blueIndex];\n            this._moments[alphaIndex][redIndex][greenIndex][blueIndex] =\n              this._moments[alphaIndex - 1][redIndex][greenIndex][blueIndex] +\n              xarea2[redIndex][greenIndex][blueIndex];\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Computes the volume of the cube in a specific moment.\n   */\n  private static _volumeFloat(cube: WuColorCube, moment: number[][][][]) {\n    return (\n      moment[cube.alphaMaximum][cube.redMaximum][cube.greenMaximum][\n        cube.blueMaximum\n      ] -\n      moment[cube.alphaMaximum][cube.redMaximum][cube.greenMinimum][\n        cube.blueMaximum\n      ] -\n      moment[cube.alphaMaximum][cube.redMinimum][cube.greenMaximum][\n        cube.blueMaximum\n      ] +\n      moment[cube.alphaMaximum][cube.redMinimum][cube.greenMinimum][\n        cube.blueMaximum\n      ] -\n      moment[cube.alphaMinimum][cube.redMaximum][cube.greenMaximum][\n        cube.blueMaximum\n      ] +\n      moment[cube.alphaMinimum][cube.redMaximum][cube.greenMinimum][\n        cube.blueMaximum\n      ] +\n      moment[cube.alphaMinimum][cube.redMinimum][cube.greenMaximum][\n        cube.blueMaximum\n      ] -\n      moment[cube.alphaMinimum][cube.redMinimum][cube.greenMinimum][\n        cube.blueMaximum\n      ] -\n      (moment[cube.alphaMaximum][cube.redMaximum][cube.greenMaximum][\n        cube.blueMinimum\n      ] -\n        moment[cube.alphaMinimum][cube.redMaximum][cube.greenMaximum][\n          cube.blueMinimum\n        ] -\n        moment[cube.alphaMaximum][cube.redMaximum][cube.greenMinimum][\n          cube.blueMinimum\n        ] +\n        moment[cube.alphaMinimum][cube.redMaximum][cube.greenMinimum][\n          cube.blueMinimum\n        ] -\n        moment[cube.alphaMaximum][cube.redMinimum][cube.greenMaximum][\n          cube.blueMinimum\n        ] +\n        moment[cube.alphaMinimum][cube.redMinimum][cube.greenMaximum][\n          cube.blueMinimum\n        ] +\n        moment[cube.alphaMaximum][cube.redMinimum][cube.greenMinimum][\n          cube.blueMinimum\n        ] -\n        moment[cube.alphaMinimum][cube.redMinimum][cube.greenMinimum][\n          cube.blueMinimum\n        ])\n    );\n  }\n\n  /**\n   * Computes the volume of the cube in a specific moment.\n   */\n  private static _volume(cube: WuColorCube, moment: number[][][][]) {\n    return WuQuant._volumeFloat(cube, moment) | 0;\n  }\n\n  /**\n   * Splits the cube in given position][and color direction.\n   */\n  private static _top(\n    cube: WuColorCube,\n    direction: number,\n    position: number,\n    moment: number[][][][],\n  ) {\n    let result;\n    switch (direction) {\n      case WuQuant._alpha:\n        result =\n          moment[position][cube.redMaximum][cube.greenMaximum][\n            cube.blueMaximum\n          ] -\n          moment[position][cube.redMaximum][cube.greenMinimum][\n            cube.blueMaximum\n          ] -\n          moment[position][cube.redMinimum][cube.greenMaximum][\n            cube.blueMaximum\n          ] +\n          moment[position][cube.redMinimum][cube.greenMinimum][\n            cube.blueMaximum\n          ] -\n          (moment[position][cube.redMaximum][cube.greenMaximum][\n            cube.blueMinimum\n          ] -\n            moment[position][cube.redMaximum][cube.greenMinimum][\n              cube.blueMinimum\n            ] -\n            moment[position][cube.redMinimum][cube.greenMaximum][\n              cube.blueMinimum\n            ] +\n            moment[position][cube.redMinimum][cube.greenMinimum][\n              cube.blueMinimum\n            ]);\n        break;\n\n      case WuQuant._red:\n        result =\n          moment[cube.alphaMaximum][position][cube.greenMaximum][\n            cube.blueMaximum\n          ] -\n          moment[cube.alphaMaximum][position][cube.greenMinimum][\n            cube.blueMaximum\n          ] -\n          moment[cube.alphaMinimum][position][cube.greenMaximum][\n            cube.blueMaximum\n          ] +\n          moment[cube.alphaMinimum][position][cube.greenMinimum][\n            cube.blueMaximum\n          ] -\n          (moment[cube.alphaMaximum][position][cube.greenMaximum][\n            cube.blueMinimum\n          ] -\n            moment[cube.alphaMaximum][position][cube.greenMinimum][\n              cube.blueMinimum\n            ] -\n            moment[cube.alphaMinimum][position][cube.greenMaximum][\n              cube.blueMinimum\n            ] +\n            moment[cube.alphaMinimum][position][cube.greenMinimum][\n              cube.blueMinimum\n            ]);\n        break;\n\n      case WuQuant._green:\n        result =\n          moment[cube.alphaMaximum][cube.redMaximum][position][\n            cube.blueMaximum\n          ] -\n          moment[cube.alphaMaximum][cube.redMinimum][position][\n            cube.blueMaximum\n          ] -\n          moment[cube.alphaMinimum][cube.redMaximum][position][\n            cube.blueMaximum\n          ] +\n          moment[cube.alphaMinimum][cube.redMinimum][position][\n            cube.blueMaximum\n          ] -\n          (moment[cube.alphaMaximum][cube.redMaximum][position][\n            cube.blueMinimum\n          ] -\n            moment[cube.alphaMaximum][cube.redMinimum][position][\n              cube.blueMinimum\n            ] -\n            moment[cube.alphaMinimum][cube.redMaximum][position][\n              cube.blueMinimum\n            ] +\n            moment[cube.alphaMinimum][cube.redMinimum][position][\n              cube.blueMinimum\n            ]);\n        break;\n\n      case WuQuant._blue:\n        result =\n          moment[cube.alphaMaximum][cube.redMaximum][cube.greenMaximum][\n            position\n          ] -\n          moment[cube.alphaMaximum][cube.redMaximum][cube.greenMinimum][\n            position\n          ] -\n          moment[cube.alphaMaximum][cube.redMinimum][cube.greenMaximum][\n            position\n          ] +\n          moment[cube.alphaMaximum][cube.redMinimum][cube.greenMinimum][\n            position\n          ] -\n          (moment[cube.alphaMinimum][cube.redMaximum][cube.greenMaximum][\n            position\n          ] -\n            moment[cube.alphaMinimum][cube.redMaximum][cube.greenMinimum][\n              position\n            ] -\n            moment[cube.alphaMinimum][cube.redMinimum][cube.greenMaximum][\n              position\n            ] +\n            moment[cube.alphaMinimum][cube.redMinimum][cube.greenMinimum][\n              position\n            ]);\n        break;\n      default:\n        throw new Error('impossible');\n    }\n\n    return result | 0;\n  }\n\n  /**\n   * Splits the cube in a given color direction at its minimum.\n   */\n  private static _bottom(\n    cube: WuColorCube,\n    direction: number,\n    moment: number[][][][],\n  ) {\n    switch (direction) {\n      case WuQuant._alpha:\n        return (\n          -moment[cube.alphaMinimum][cube.redMaximum][cube.greenMaximum][\n            cube.blueMaximum\n          ] +\n          moment[cube.alphaMinimum][cube.redMaximum][cube.greenMinimum][\n            cube.blueMaximum\n          ] +\n          moment[cube.alphaMinimum][cube.redMinimum][cube.greenMaximum][\n            cube.blueMaximum\n          ] -\n          moment[cube.alphaMinimum][cube.redMinimum][cube.greenMinimum][\n            cube.blueMaximum\n          ] -\n          (-moment[cube.alphaMinimum][cube.redMaximum][cube.greenMaximum][\n            cube.blueMinimum\n          ] +\n            moment[cube.alphaMinimum][cube.redMaximum][cube.greenMinimum][\n              cube.blueMinimum\n            ] +\n            moment[cube.alphaMinimum][cube.redMinimum][cube.greenMaximum][\n              cube.blueMinimum\n            ] -\n            moment[cube.alphaMinimum][cube.redMinimum][cube.greenMinimum][\n              cube.blueMinimum\n            ])\n        );\n\n      case WuQuant._red:\n        return (\n          -moment[cube.alphaMaximum][cube.redMinimum][cube.greenMaximum][\n            cube.blueMaximum\n          ] +\n          moment[cube.alphaMaximum][cube.redMinimum][cube.greenMinimum][\n            cube.blueMaximum\n          ] +\n          moment[cube.alphaMinimum][cube.redMinimum][cube.greenMaximum][\n            cube.blueMaximum\n          ] -\n          moment[cube.alphaMinimum][cube.redMinimum][cube.greenMinimum][\n            cube.blueMaximum\n          ] -\n          (-moment[cube.alphaMaximum][cube.redMinimum][cube.greenMaximum][\n            cube.blueMinimum\n          ] +\n            moment[cube.alphaMaximum][cube.redMinimum][cube.greenMinimum][\n              cube.blueMinimum\n            ] +\n            moment[cube.alphaMinimum][cube.redMinimum][cube.greenMaximum][\n              cube.blueMinimum\n            ] -\n            moment[cube.alphaMinimum][cube.redMinimum][cube.greenMinimum][\n              cube.blueMinimum\n            ])\n        );\n\n      case WuQuant._green:\n        return (\n          -moment[cube.alphaMaximum][cube.redMaximum][cube.greenMinimum][\n            cube.blueMaximum\n          ] +\n          moment[cube.alphaMaximum][cube.redMinimum][cube.greenMinimum][\n            cube.blueMaximum\n          ] +\n          moment[cube.alphaMinimum][cube.redMaximum][cube.greenMinimum][\n            cube.blueMaximum\n          ] -\n          moment[cube.alphaMinimum][cube.redMinimum][cube.greenMinimum][\n            cube.blueMaximum\n          ] -\n          (-moment[cube.alphaMaximum][cube.redMaximum][cube.greenMinimum][\n            cube.blueMinimum\n          ] +\n            moment[cube.alphaMaximum][cube.redMinimum][cube.greenMinimum][\n              cube.blueMinimum\n            ] +\n            moment[cube.alphaMinimum][cube.redMaximum][cube.greenMinimum][\n              cube.blueMinimum\n            ] -\n            moment[cube.alphaMinimum][cube.redMinimum][cube.greenMinimum][\n              cube.blueMinimum\n            ])\n        );\n\n      case WuQuant._blue:\n        return (\n          -moment[cube.alphaMaximum][cube.redMaximum][cube.greenMaximum][\n            cube.blueMinimum\n          ] +\n          moment[cube.alphaMaximum][cube.redMaximum][cube.greenMinimum][\n            cube.blueMinimum\n          ] +\n          moment[cube.alphaMaximum][cube.redMinimum][cube.greenMaximum][\n            cube.blueMinimum\n          ] -\n          moment[cube.alphaMaximum][cube.redMinimum][cube.greenMinimum][\n            cube.blueMinimum\n          ] -\n          (-moment[cube.alphaMinimum][cube.redMaximum][cube.greenMaximum][\n            cube.blueMinimum\n          ] +\n            moment[cube.alphaMinimum][cube.redMaximum][cube.greenMinimum][\n              cube.blueMinimum\n            ] +\n            moment[cube.alphaMinimum][cube.redMinimum][cube.greenMaximum][\n              cube.blueMinimum\n            ] -\n            moment[cube.alphaMinimum][cube.redMinimum][cube.greenMinimum][\n              cube.blueMinimum\n            ])\n        );\n\n      default:\n        // TODO: why here is return 0, and in this._top there is no default at all (now it is throw error)?\n        return 0;\n    }\n  }\n\n  /**\n   * Calculates statistical variance for a given cube.\n   */\n  private _calculateVariance(cube: WuColorCube) {\n    const volumeRed = WuQuant._volume(cube, this._momentsRed);\n    const volumeGreen = WuQuant._volume(cube, this._momentsGreen);\n    const volumeBlue = WuQuant._volume(cube, this._momentsBlue);\n    const volumeAlpha = WuQuant._volume(cube, this._momentsAlpha);\n    const volumeMoment = WuQuant._volumeFloat(cube, this._moments);\n    const volumeWeight = WuQuant._volume(cube, this._weights);\n    const distance =\n      volumeRed * volumeRed +\n      volumeGreen * volumeGreen +\n      volumeBlue * volumeBlue +\n      volumeAlpha * volumeAlpha;\n\n    return volumeMoment - distance / volumeWeight;\n  }\n\n  /**\n   * Finds the optimal (maximal) position for the cut.\n   */\n  private _maximize(\n    cube: WuColorCube,\n    direction: number,\n    first: number,\n    last: number,\n    wholeRed: number,\n    wholeGreen: number,\n    wholeBlue: number,\n    wholeAlpha: number,\n    wholeWeight: number,\n  ) {\n    const bottomRed = WuQuant._bottom(cube, direction, this._momentsRed) | 0;\n    const bottomGreen =\n      WuQuant._bottom(cube, direction, this._momentsGreen) | 0;\n    const bottomBlue = WuQuant._bottom(cube, direction, this._momentsBlue) | 0;\n    const bottomAlpha =\n      WuQuant._bottom(cube, direction, this._momentsAlpha) | 0;\n    const bottomWeight = WuQuant._bottom(cube, direction, this._weights) | 0;\n\n    let result = 0.0;\n    let cutPosition = -1;\n\n    for (let position = first; position < last; ++position) {\n      // determines the cube cut at a certain position\n      let halfRed =\n        bottomRed + WuQuant._top(cube, direction, position, this._momentsRed);\n      let halfGreen =\n        bottomGreen +\n        WuQuant._top(cube, direction, position, this._momentsGreen);\n      let halfBlue =\n        bottomBlue + WuQuant._top(cube, direction, position, this._momentsBlue);\n      let halfAlpha =\n        bottomAlpha +\n        WuQuant._top(cube, direction, position, this._momentsAlpha);\n      let halfWeight =\n        bottomWeight + WuQuant._top(cube, direction, position, this._weights);\n\n      // the cube cannot be cut at bottom (this would lead to empty cube)\n      if (halfWeight !== 0) {\n        let halfDistance =\n          halfRed * halfRed +\n          halfGreen * halfGreen +\n          halfBlue * halfBlue +\n          halfAlpha * halfAlpha;\n        let temp = halfDistance / halfWeight;\n\n        halfRed = wholeRed - halfRed;\n        halfGreen = wholeGreen - halfGreen;\n        halfBlue = wholeBlue - halfBlue;\n        halfAlpha = wholeAlpha - halfAlpha;\n        halfWeight = wholeWeight - halfWeight;\n\n        if (halfWeight !== 0) {\n          halfDistance =\n            halfRed * halfRed +\n            halfGreen * halfGreen +\n            halfBlue * halfBlue +\n            halfAlpha * halfAlpha;\n          temp += halfDistance / halfWeight;\n\n          if (temp > result) {\n            result = temp;\n            cutPosition = position;\n          }\n        }\n      }\n    }\n\n    return { max: result, position: cutPosition };\n  }\n\n  // Cuts a cube with another one.\n  private _cut(first: WuColorCube, second: WuColorCube) {\n    let direction;\n\n    const wholeRed = WuQuant._volume(first, this._momentsRed);\n    const wholeGreen = WuQuant._volume(first, this._momentsGreen);\n    const wholeBlue = WuQuant._volume(first, this._momentsBlue);\n    const wholeAlpha = WuQuant._volume(first, this._momentsAlpha);\n    const wholeWeight = WuQuant._volume(first, this._weights);\n\n    const red = this._maximize(\n      first,\n      WuQuant._red,\n      first.redMinimum + 1,\n      first.redMaximum,\n      wholeRed,\n      wholeGreen,\n      wholeBlue,\n      wholeAlpha,\n      wholeWeight,\n    );\n    const green = this._maximize(\n      first,\n      WuQuant._green,\n      first.greenMinimum + 1,\n      first.greenMaximum,\n      wholeRed,\n      wholeGreen,\n      wholeBlue,\n      wholeAlpha,\n      wholeWeight,\n    );\n    const blue = this._maximize(\n      first,\n      WuQuant._blue,\n      first.blueMinimum + 1,\n      first.blueMaximum,\n      wholeRed,\n      wholeGreen,\n      wholeBlue,\n      wholeAlpha,\n      wholeWeight,\n    );\n    const alpha = this._maximize(\n      first,\n      WuQuant._alpha,\n      first.alphaMinimum + 1,\n      first.alphaMaximum,\n      wholeRed,\n      wholeGreen,\n      wholeBlue,\n      wholeAlpha,\n      wholeWeight,\n    );\n\n    if (\n      alpha.max >= red.max &&\n      alpha.max >= green.max &&\n      alpha.max >= blue.max\n    ) {\n      direction = WuQuant._alpha;\n\n      // cannot split empty cube\n      if (alpha.position < 0) return false;\n    } else if (\n      red.max >= alpha.max &&\n      red.max >= green.max &&\n      red.max >= blue.max\n    ) {\n      direction = WuQuant._red;\n    } else if (\n      green.max >= alpha.max &&\n      green.max >= red.max &&\n      green.max >= blue.max\n    ) {\n      direction = WuQuant._green;\n    } else {\n      direction = WuQuant._blue;\n    }\n\n    second.redMaximum = first.redMaximum;\n    second.greenMaximum = first.greenMaximum;\n    second.blueMaximum = first.blueMaximum;\n    second.alphaMaximum = first.alphaMaximum;\n\n    // cuts in a certain direction\n    // eslint-disable-next-line default-case\n    switch (direction) {\n      case WuQuant._red:\n        second.redMinimum = first.redMaximum = red.position;\n        second.greenMinimum = first.greenMinimum;\n        second.blueMinimum = first.blueMinimum;\n        second.alphaMinimum = first.alphaMinimum;\n        break;\n\n      case WuQuant._green:\n        second.greenMinimum = first.greenMaximum = green.position;\n        second.redMinimum = first.redMinimum;\n        second.blueMinimum = first.blueMinimum;\n        second.alphaMinimum = first.alphaMinimum;\n        break;\n\n      case WuQuant._blue:\n        second.blueMinimum = first.blueMaximum = blue.position;\n        second.redMinimum = first.redMinimum;\n        second.greenMinimum = first.greenMinimum;\n        second.alphaMinimum = first.alphaMinimum;\n        break;\n\n      case WuQuant._alpha:\n        second.alphaMinimum = first.alphaMaximum = alpha.position;\n        second.blueMinimum = first.blueMinimum;\n        second.redMinimum = first.redMinimum;\n        second.greenMinimum = first.greenMinimum;\n        break;\n    }\n\n    // determines the volumes after cut\n    first.volume =\n      (first.redMaximum - first.redMinimum) *\n      (first.greenMaximum - first.greenMinimum) *\n      (first.blueMaximum - first.blueMinimum) *\n      (first.alphaMaximum - first.alphaMinimum);\n    second.volume =\n      (second.redMaximum - second.redMinimum) *\n      (second.greenMaximum - second.greenMinimum) *\n      (second.blueMaximum - second.blueMinimum) *\n      (second.alphaMaximum - second.alphaMinimum);\n\n    // the cut was successful\n    return true;\n  }\n\n  private _initialize(colors: number) {\n    this._colors = colors;\n\n    // creates all the _cubes\n    this._cubes = [];\n\n    // initializes all the _cubes\n    for (let cubeIndex = 0; cubeIndex < colors; cubeIndex++) {\n      this._cubes[cubeIndex] = new WuColorCube();\n    }\n\n    // resets the reference minimums\n    this._cubes[0].redMinimum = 0;\n    this._cubes[0].greenMinimum = 0;\n    this._cubes[0].blueMinimum = 0;\n    this._cubes[0].alphaMinimum = 0;\n\n    // resets the reference maximums\n    this._cubes[0].redMaximum = this._maxSideIndex;\n    this._cubes[0].greenMaximum = this._maxSideIndex;\n    this._cubes[0].blueMaximum = this._maxSideIndex;\n    this._cubes[0].alphaMaximum = this._alphaMaxSideIndex;\n\n    this._weights = createArray4D(\n      this._alphaSideSize,\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n    this._momentsRed = createArray4D(\n      this._alphaSideSize,\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n    this._momentsGreen = createArray4D(\n      this._alphaSideSize,\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n    this._momentsBlue = createArray4D(\n      this._alphaSideSize,\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n    this._momentsAlpha = createArray4D(\n      this._alphaSideSize,\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n    this._moments = createArray4D(\n      this._alphaSideSize,\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n\n    this._table = [];\n    for (let tableIndex = 0; tableIndex < 256; ++tableIndex) {\n      this._table[tableIndex] = tableIndex * tableIndex;\n    }\n\n    this._pixels = [];\n  }\n\n  private _setQuality(significantBitsPerChannel = 5) {\n    this._significantBitsPerChannel = significantBitsPerChannel;\n    this._maxSideIndex = 1 << this._significantBitsPerChannel;\n    this._alphaMaxSideIndex = this._maxSideIndex;\n\n    this._sideSize = this._maxSideIndex + 1;\n    this._alphaSideSize = this._alphaMaxSideIndex + 1;\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * common.ts - part of Image Quantization Library\n */\nimport { PointContainer } from '../utils/pointContainer';\nimport { Palette } from '../utils/palette';\nimport { ImageQuantizerYieldValue } from './imageQuantizerYieldValue';\n\nexport abstract class AbstractImageQuantizer {\n  abstract quantize(\n    pointContainer: PointContainer,\n    palette: Palette,\n  ): IterableIterator<ImageQuantizerYieldValue>;\n\n  quantizeSync(pointContainer: PointContainer, palette: Palette) {\n    for (const value of this.quantize(pointContainer, palette)) {\n      if (value.pointContainer) {\n        return value.pointContainer;\n      }\n    }\n\n    throw new Error('unreachable');\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * nearestColor.ts - part of Image Quantization Library\n */\nimport { AbstractImageQuantizer } from './imageQuantizer';\nimport { AbstractDistanceCalculator } from '../distance/distanceCalculator';\nimport { PointContainer } from '../utils/pointContainer';\nimport { Palette } from '../utils/palette';\nimport { ImageQuantizerYieldValue } from './imageQuantizerYieldValue';\nimport { ProgressTracker } from '../utils/progressTracker';\n\nexport class NearestColor extends AbstractImageQuantizer {\n  private _distance: AbstractDistanceCalculator;\n\n  constructor(colorDistanceCalculator: AbstractDistanceCalculator) {\n    super();\n    this._distance = colorDistanceCalculator;\n  }\n\n  /**\n   * Mutates pointContainer\n   */\n  *quantize(\n    pointContainer: PointContainer,\n    palette: Palette,\n  ): IterableIterator<ImageQuantizerYieldValue> {\n    const pointArray = pointContainer.getPointArray();\n    const width = pointContainer.getWidth();\n    const height = pointContainer.getHeight();\n\n    const tracker = new ProgressTracker(height, 99);\n    for (let y = 0; y < height; y++) {\n      if (tracker.shouldNotify(y)) {\n        yield {\n          progress: tracker.progress,\n        };\n      }\n      for (let x = 0, idx = y * width; x < width; x++, idx++) {\n        // Image pixel\n        const point = pointArray[idx];\n        // Reduced pixel\n        point.from(palette.getNearestColor(this._distance, point));\n      }\n    }\n\n    yield {\n      pointContainer,\n      progress: 100,\n    };\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * ditherErrorDiffusionArray.ts - part of Image Quantization Library\n */\nimport { AbstractImageQuantizer } from './imageQuantizer';\nimport { AbstractDistanceCalculator } from '../distance/distanceCalculator';\nimport { PointContainer } from '../utils/pointContainer';\nimport { Palette } from '../utils/palette';\nimport { Point } from '../utils/point';\nimport { inRange0to255Rounded } from '../utils/arithmetic';\nimport { ImageQuantizerYieldValue } from './imageQuantizerYieldValue';\nimport { ProgressTracker } from '../utils/progressTracker';\n\n// TODO: is it the best name for this enum \"kernel\"?\nexport enum ErrorDiffusionArrayKernel {\n  FloydSteinberg = 0,\n  FalseFloydSteinberg,\n  Stucki,\n  Atkinson,\n  Jarvis,\n  Burkes,\n  Sierra,\n  TwoSierra,\n  SierraLite,\n}\n\n// http://www.tannerhelland.com/4660/dithering-eleven-algorithms-source-code/\nexport class ErrorDiffusionArray extends AbstractImageQuantizer {\n  private _minColorDistance: number;\n  private _serpentine: boolean;\n  private _kernel!: number[][];\n  /** true = GIMP, false = XNVIEW */\n  private _calculateErrorLikeGIMP: boolean;\n\n  private _distance: AbstractDistanceCalculator;\n\n  constructor(\n    colorDistanceCalculator: AbstractDistanceCalculator,\n    kernel: ErrorDiffusionArrayKernel,\n    serpentine = true,\n    minimumColorDistanceToDither = 0,\n    calculateErrorLikeGIMP = false,\n  ) {\n    super();\n    this._setKernel(kernel);\n\n    this._distance = colorDistanceCalculator;\n    this._minColorDistance = minimumColorDistanceToDither;\n    this._serpentine = serpentine;\n    this._calculateErrorLikeGIMP = calculateErrorLikeGIMP;\n  }\n\n  /**\n   * adapted from http://jsbin.com/iXofIji/2/edit by PAEz\n   * fixed version. it doesn't use image pixels as error storage, also it doesn't have 0.3 + 0.3 + 0.3 + 0.3 = 0 error\n   * Mutates pointContainer\n   */\n  *quantize(\n    pointContainer: PointContainer,\n    palette: Palette,\n  ): IterableIterator<ImageQuantizerYieldValue> {\n    const pointArray = pointContainer.getPointArray();\n    const originalPoint = new Point();\n    const width = pointContainer.getWidth();\n    const height = pointContainer.getHeight();\n    const errorLines: number[][][] = [];\n\n    let dir = 1;\n    let maxErrorLines = 1;\n\n    // initial error lines (number is taken from dithering kernel)\n    for (const kernel of this._kernel) {\n      const kernelErrorLines = kernel[2] + 1;\n      if (maxErrorLines < kernelErrorLines) maxErrorLines = kernelErrorLines;\n    }\n    for (let i = 0; i < maxErrorLines; i++) {\n      this._fillErrorLine((errorLines[i] = []), width);\n    }\n\n    const tracker = new ProgressTracker(height, 99);\n    for (let y = 0; y < height; y++) {\n      if (tracker.shouldNotify(y)) {\n        yield {\n          progress: tracker.progress,\n        };\n      }\n\n      // always serpentine\n      if (this._serpentine) dir *= -1;\n\n      const lni = y * width;\n      const xStart = dir === 1 ? 0 : width - 1;\n      const xEnd = dir === 1 ? width : -1;\n\n      // cyclic shift with erasing\n      this._fillErrorLine(errorLines[0], width);\n      // TODO: why it is needed to cast types here?\n      errorLines.push(errorLines.shift() as number[][]);\n\n      const errorLine = errorLines[0];\n      for (\n        let x = xStart, idx = lni + xStart;\n        x !== xEnd;\n        x += dir, idx += dir\n      ) {\n        // Image pixel\n        const point = pointArray[idx];\n        // originalPoint = new Utils.Point(),\n        const error = errorLine[x];\n\n        originalPoint.from(point);\n\n        const correctedPoint = Point.createByRGBA(\n          inRange0to255Rounded(point.r + error[0]),\n          inRange0to255Rounded(point.g + error[1]),\n          inRange0to255Rounded(point.b + error[2]),\n          inRange0to255Rounded(point.a + error[3]),\n        );\n\n        // Reduced pixel\n        const palettePoint = palette.getNearestColor(\n          this._distance,\n          correctedPoint,\n        );\n        point.from(palettePoint);\n\n        // dithering strength\n        if (this._minColorDistance) {\n          const dist = this._distance.calculateNormalized(point, palettePoint);\n          if (dist < this._minColorDistance) continue;\n        }\n\n        // Component distance\n        let er;\n        let eg;\n        let eb;\n        let ea;\n        if (this._calculateErrorLikeGIMP) {\n          er = correctedPoint.r - palettePoint.r;\n          eg = correctedPoint.g - palettePoint.g;\n          eb = correctedPoint.b - palettePoint.b;\n          ea = correctedPoint.a - palettePoint.a;\n        } else {\n          er = originalPoint.r - palettePoint.r;\n          eg = originalPoint.g - palettePoint.g;\n          eb = originalPoint.b - palettePoint.b;\n          ea = originalPoint.a - palettePoint.a;\n        }\n\n        const dStart = dir === 1 ? 0 : this._kernel.length - 1;\n        const dEnd = dir === 1 ? this._kernel.length : -1;\n\n        for (let i = dStart; i !== dEnd; i += dir) {\n          const x1 = this._kernel[i][1] * dir;\n          const y1 = this._kernel[i][2];\n\n          if (x1 + x >= 0 && x1 + x < width && y1 + y >= 0 && y1 + y < height) {\n            const d = this._kernel[i][0];\n            const e = errorLines[y1][x1 + x];\n\n            e[0] += er * d;\n            e[1] += eg * d;\n            e[2] += eb * d;\n            e[3] += ea * d;\n          }\n        }\n      }\n    }\n\n    yield {\n      pointContainer,\n      progress: 100,\n    };\n  }\n\n  private _fillErrorLine(errorLine: number[][], width: number) {\n    // shrink\n    if (errorLine.length > width) {\n      errorLine.length = width;\n    }\n\n    // reuse existing arrays\n    const l = errorLine.length;\n    for (let i = 0; i < l; i++) {\n      const error = errorLine[i];\n      error[0] = error[1] = error[2] = error[3] = 0;\n    }\n\n    // create missing arrays\n    for (let i = l; i < width; i++) {\n      errorLine[i] = [0.0, 0.0, 0.0, 0.0];\n    }\n  }\n\n  private _setKernel(kernel: ErrorDiffusionArrayKernel) {\n    switch (kernel) {\n      case ErrorDiffusionArrayKernel.FloydSteinberg:\n        this._kernel = [\n          [7 / 16, 1, 0],\n          [3 / 16, -1, 1],\n          [5 / 16, 0, 1],\n          [1 / 16, 1, 1],\n        ];\n        break;\n\n      case ErrorDiffusionArrayKernel.FalseFloydSteinberg:\n        this._kernel = [[3 / 8, 1, 0], [3 / 8, 0, 1], [2 / 8, 1, 1]];\n        break;\n\n      case ErrorDiffusionArrayKernel.Stucki:\n        this._kernel = [\n          [8 / 42, 1, 0],\n          [4 / 42, 2, 0],\n          [2 / 42, -2, 1],\n          [4 / 42, -1, 1],\n          [8 / 42, 0, 1],\n          [4 / 42, 1, 1],\n          [2 / 42, 2, 1],\n          [1 / 42, -2, 2],\n          [2 / 42, -1, 2],\n          [4 / 42, 0, 2],\n          [2 / 42, 1, 2],\n          [1 / 42, 2, 2],\n        ];\n        break;\n\n      case ErrorDiffusionArrayKernel.Atkinson:\n        this._kernel = [\n          [1 / 8, 1, 0],\n          [1 / 8, 2, 0],\n          [1 / 8, -1, 1],\n          [1 / 8, 0, 1],\n          [1 / 8, 1, 1],\n          [1 / 8, 0, 2],\n        ];\n        break;\n\n      case ErrorDiffusionArrayKernel.Jarvis:\n        this._kernel = [\n          // Jarvis, Judice, and Ninke / JJN?\n          [7 / 48, 1, 0],\n          [5 / 48, 2, 0],\n          [3 / 48, -2, 1],\n          [5 / 48, -1, 1],\n          [7 / 48, 0, 1],\n          [5 / 48, 1, 1],\n          [3 / 48, 2, 1],\n          [1 / 48, -2, 2],\n          [3 / 48, -1, 2],\n          [5 / 48, 0, 2],\n          [3 / 48, 1, 2],\n          [1 / 48, 2, 2],\n        ];\n        break;\n\n      case ErrorDiffusionArrayKernel.Burkes:\n        this._kernel = [\n          [8 / 32, 1, 0],\n          [4 / 32, 2, 0],\n          [2 / 32, -2, 1],\n          [4 / 32, -1, 1],\n          [8 / 32, 0, 1],\n          [4 / 32, 1, 1],\n          [2 / 32, 2, 1],\n        ];\n        break;\n\n      case ErrorDiffusionArrayKernel.Sierra:\n        this._kernel = [\n          [5 / 32, 1, 0],\n          [3 / 32, 2, 0],\n          [2 / 32, -2, 1],\n          [4 / 32, -1, 1],\n          [5 / 32, 0, 1],\n          [4 / 32, 1, 1],\n          [2 / 32, 2, 1],\n          [2 / 32, -1, 2],\n          [3 / 32, 0, 2],\n          [2 / 32, 1, 2],\n        ];\n        break;\n\n      case ErrorDiffusionArrayKernel.TwoSierra:\n        this._kernel = [\n          [4 / 16, 1, 0],\n          [3 / 16, 2, 0],\n          [1 / 16, -2, 1],\n          [2 / 16, -1, 1],\n          [3 / 16, 0, 1],\n          [2 / 16, 1, 1],\n          [1 / 16, 2, 1],\n        ];\n        break;\n\n      case ErrorDiffusionArrayKernel.SierraLite:\n        this._kernel = [[2 / 4, 1, 0], [1 / 4, -1, 1], [1 / 4, 0, 1]];\n        break;\n\n      default:\n        throw new Error(`ErrorDiffusionArray: unknown kernel = ${kernel}`);\n    }\n  }\n}\n","/**\n * @preserve\n * MIT License\n *\n * Copyright 2015-2018 Igor Bezkrovnyi\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n *\n * riemersma.ts - part of Image Quantization Library\n */\nimport { AbstractImageQuantizer } from './imageQuantizer';\nimport { hilbertCurve } from './spaceFillingCurves/hilbertCurve';\nimport { AbstractDistanceCalculator } from '../distance/distanceCalculator';\nimport { PointContainer } from '../utils/pointContainer';\nimport { Palette } from '../utils/palette';\nimport { Point } from '../utils/point';\nimport { inRange0to255Rounded } from '../utils/arithmetic';\n\nexport class ErrorDiffusionRiemersma extends AbstractImageQuantizer {\n  private _distance: AbstractDistanceCalculator;\n  private _weights: number[];\n  private _errorQueueSize: number;\n\n  constructor(\n    colorDistanceCalculator: AbstractDistanceCalculator,\n    errorQueueSize = 16,\n    errorPropagation = 1,\n  ) {\n    super();\n    this._distance = colorDistanceCalculator;\n    this._errorQueueSize = errorQueueSize;\n    this._weights = ErrorDiffusionRiemersma._createWeights(\n      errorPropagation,\n      errorQueueSize,\n    );\n  }\n\n  /**\n   * Mutates pointContainer\n   */\n  *quantize(pointContainer: PointContainer, palette: Palette) {\n    const pointArray = pointContainer.getPointArray();\n    const width = pointContainer.getWidth();\n    const height = pointContainer.getHeight();\n    const errorQueue: Array<{\n      r: number;\n      g: number;\n      b: number;\n      a: number;\n    }> = [];\n\n    let head = 0;\n\n    for (let i = 0; i < this._errorQueueSize; i++) {\n      errorQueue[i] = { r: 0, g: 0, b: 0, a: 0 };\n    }\n\n    yield* hilbertCurve(width, height, (x, y) => {\n      const p = pointArray[x + y * width];\n      let { r, g, b, a } = p;\n      for (let i = 0; i < this._errorQueueSize; i++) {\n        const weight = this._weights[i];\n        const e = errorQueue[(i + head) % this._errorQueueSize];\n\n        r += e.r * weight;\n        g += e.g * weight;\n        b += e.b * weight;\n        a += e.a * weight;\n      }\n\n      const correctedPoint = Point.createByRGBA(\n        inRange0to255Rounded(r),\n        inRange0to255Rounded(g),\n        inRange0to255Rounded(b),\n        inRange0to255Rounded(a),\n      );\n\n      const quantizedPoint = palette.getNearestColor(\n        this._distance,\n        correctedPoint,\n      );\n\n      // update head and calculate tail\n      head = (head + 1) % this._errorQueueSize;\n      const tail = (head + this._errorQueueSize - 1) % this._errorQueueSize;\n\n      // update error with new value\n      errorQueue[tail].r = p.r - quantizedPoint.r;\n      errorQueue[tail].g = p.g - quantizedPoint.g;\n      errorQueue[tail].b = p.b - quantizedPoint.b;\n      errorQueue[tail].a = p.a - quantizedPoint.a;\n\n      // update point\n      p.from(quantizedPoint);\n    });\n\n    yield {\n      pointContainer,\n      progress: 100,\n    };\n  }\n\n  private static _createWeights(\n    errorPropagation: number,\n    errorQueueSize: number,\n  ) {\n    const weights = [];\n\n    const multiplier = Math.exp(\n      Math.log(errorQueueSize) / (errorQueueSize - 1),\n    );\n    for (let i = 0, next = 1; i < errorQueueSize; i++) {\n      weights[i] = (((next + 0.5) | 0) / errorQueueSize) * errorPropagation;\n      next *= multiplier;\n    }\n\n    return weights;\n  }\n}\n","import { ProgressTracker } from '../../utils/progressTracker';\nimport { ImageQuantizerYieldValue } from '../imageQuantizerYieldValue';\n\nenum Direction {\n  NONE = 0,\n  UP,\n  LEFT,\n  RIGHT,\n  DOWN,\n}\n\ninterface Data {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  level: number;\n  index: number;\n  tracker: ProgressTracker;\n  callback(x: number, y: number): void;\n}\n\nexport function* hilbertCurve(\n  width: number,\n  height: number,\n  callback: (x: number, y: number) => void,\n) {\n  const maxBound = Math.max(width, height);\n  const level = Math.floor(Math.log(maxBound) / Math.log(2) + 1);\n  const tracker = new ProgressTracker(width * height, 99);\n  const data = {\n    width,\n    height,\n    level,\n    callback,\n    tracker,\n    index: 0,\n    x: 0,\n    y: 0,\n  };\n  yield* walkHilbert(data, Direction.UP);\n  visit(data, Direction.NONE);\n}\n\nfunction* walkHilbert(\n  data: Data,\n  direction: Direction,\n): IterableIterator<ImageQuantizerYieldValue> {\n  if (data.level < 1) return;\n\n  if (data.tracker.shouldNotify(data.index)) {\n    yield { progress: data.tracker.progress };\n  }\n  data.level--;\n  switch (direction) {\n    case Direction.LEFT:\n      yield* walkHilbert(data, Direction.UP);\n      visit(data, Direction.RIGHT);\n      yield* walkHilbert(data, Direction.LEFT);\n      visit(data, Direction.DOWN);\n      yield* walkHilbert(data, Direction.LEFT);\n      visit(data, Direction.LEFT);\n      yield* walkHilbert(data, Direction.DOWN);\n      break;\n\n    case Direction.RIGHT:\n      yield* walkHilbert(data, Direction.DOWN);\n      visit(data, Direction.LEFT);\n      yield* walkHilbert(data, Direction.RIGHT);\n      visit(data, Direction.UP);\n      yield* walkHilbert(data, Direction.RIGHT);\n      visit(data, Direction.RIGHT);\n      yield* walkHilbert(data, Direction.UP);\n      break;\n\n    case Direction.UP:\n      yield* walkHilbert(data, Direction.LEFT);\n      visit(data, Direction.DOWN);\n      yield* walkHilbert(data, Direction.UP);\n      visit(data, Direction.RIGHT);\n      yield* walkHilbert(data, Direction.UP);\n      visit(data, Direction.UP);\n      yield* walkHilbert(data, Direction.RIGHT);\n      break;\n\n    case Direction.DOWN:\n      yield* walkHilbert(data, Direction.RIGHT);\n      visit(data, Direction.UP);\n      yield* walkHilbert(data, Direction.DOWN);\n      visit(data, Direction.LEFT);\n      yield* walkHilbert(data, Direction.DOWN);\n      visit(data, Direction.DOWN);\n      yield* walkHilbert(data, Direction.LEFT);\n      break;\n\n    default:\n      break;\n  }\n  data.level++;\n}\n\nfunction visit(data: Data, direction: Direction) {\n  if (\n    data.x >= 0 &&\n    data.x < data.width &&\n    data.y >= 0 &&\n    data.y < data.height\n  ) {\n    data.callback(data.x, data.y);\n    data.index++;\n  }\n  // eslint-disable-next-line default-case\n  switch (direction) {\n    case Direction.LEFT:\n      data.x--;\n      break;\n    case Direction.RIGHT:\n      data.x++;\n      break;\n    case Direction.UP:\n      data.y--;\n      break;\n    case Direction.DOWN:\n      data.y++;\n      break;\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * helper.ts - part of Image Quantization Library\n */\nimport 'setimmediate';\nimport * as distance from './distance';\nimport * as image from './image';\nimport * as palette from './palette';\nimport { AbstractDistanceCalculator } from './distance/distanceCalculator';\nimport { PointContainer } from './utils/pointContainer';\nimport { Palette } from './utils/palette';\n\nexport type ColorDistanceFormula =\n  | 'cie94-textiles'\n  | 'cie94-graphic-arts'\n  | 'ciede2000'\n  | 'color-metric'\n  | 'euclidean'\n  | 'euclidean-bt709-noalpha'\n  | 'euclidean-bt709'\n  | 'manhattan'\n  | 'manhattan-bt709'\n  | 'manhattan-nommyde'\n  | 'pngquant';\n\nexport type PaletteQuantization =\n  | 'neuquant'\n  | 'neuquant-float'\n  | 'rgbquant'\n  | 'wuquant';\n\nexport type ImageQuantization =\n  | 'nearest'\n  | 'riemersma'\n  | 'floyd-steinberg'\n  | 'false-floyd-steinberg'\n  | 'stucki'\n  | 'atkinson'\n  | 'jarvis'\n  | 'burkes'\n  | 'sierra'\n  | 'two-sierra'\n  | 'sierra-lite';\n\nexport interface ProgressOptions {\n  onProgress?: (progress: number) => void;\n}\n\nexport interface ApplyPaletteOptions {\n  colorDistanceFormula?: ColorDistanceFormula;\n  imageQuantization?: ImageQuantization;\n}\n\nexport interface BuildPaletteOptions {\n  colorDistanceFormula?: ColorDistanceFormula;\n  paletteQuantization?: PaletteQuantization;\n  colors?: number;\n}\n\nexport function buildPaletteSync(\n  images: PointContainer[],\n  {\n    colorDistanceFormula,\n    paletteQuantization,\n    colors,\n  }: BuildPaletteOptions = {},\n) {\n  const distanceCalculator = colorDistanceFormulaToColorDistance(\n    colorDistanceFormula,\n  );\n  const paletteQuantizer = paletteQuantizationToPaletteQuantizer(\n    distanceCalculator,\n    paletteQuantization,\n    colors,\n  );\n  images.forEach(image => paletteQuantizer.sample(image));\n  return paletteQuantizer.quantizeSync();\n}\n\nexport async function buildPalette(\n  images: PointContainer[],\n  {\n    colorDistanceFormula,\n    paletteQuantization,\n    colors,\n    onProgress,\n  }: BuildPaletteOptions & ProgressOptions = {},\n) {\n  return new Promise<Palette>((resolve, reject) => {\n    const distanceCalculator = colorDistanceFormulaToColorDistance(\n      colorDistanceFormula,\n    );\n    const paletteQuantizer = paletteQuantizationToPaletteQuantizer(\n      distanceCalculator,\n      paletteQuantization,\n      colors,\n    );\n    images.forEach(image => paletteQuantizer.sample(image));\n\n    let palette: Palette;\n    let timerId: NodeJS.Immediate;\n    const iterator = paletteQuantizer.quantize();\n    const next = () => {\n      try {\n        const result = iterator.next();\n        if (result.done) {\n          resolve(palette);\n        } else {\n          if (result.value.palette) palette = result.value.palette;\n          if (onProgress) onProgress(result.value.progress);\n          timerId = setImmediate(next);\n        }\n      } catch (error) {\n        clearImmediate(timerId);\n        reject(error);\n      }\n    };\n    timerId = setImmediate(next);\n  });\n}\n\nexport function applyPaletteSync(\n  image: PointContainer,\n  palette: Palette,\n  { colorDistanceFormula, imageQuantization }: ApplyPaletteOptions = {},\n) {\n  const distanceCalculator = colorDistanceFormulaToColorDistance(\n    colorDistanceFormula,\n  );\n  const imageQuantizer = imageQuantizationToImageQuantizer(\n    distanceCalculator,\n    imageQuantization,\n  );\n  return imageQuantizer.quantizeSync(image, palette);\n}\n\nexport async function applyPalette(\n  image: PointContainer,\n  palette: Palette,\n  {\n    colorDistanceFormula,\n    imageQuantization,\n    onProgress,\n  }: ApplyPaletteOptions & ProgressOptions = {},\n) {\n  return new Promise<PointContainer>((resolve, reject) => {\n    const distanceCalculator = colorDistanceFormulaToColorDistance(\n      colorDistanceFormula,\n    );\n    const imageQuantizer = imageQuantizationToImageQuantizer(\n      distanceCalculator,\n      imageQuantization,\n    );\n\n    let outPointContainer: PointContainer;\n    let timerId: NodeJS.Immediate;\n    const iterator = imageQuantizer.quantize(image, palette);\n    const next = () => {\n      try {\n        const result = iterator.next();\n        if (result.done) {\n          resolve(outPointContainer);\n        } else {\n          if (result.value.pointContainer) {\n            outPointContainer = result.value.pointContainer;\n          }\n          if (onProgress) onProgress(result.value.progress);\n          timerId = setImmediate(next);\n        }\n      } catch (error) {\n        clearImmediate(timerId);\n        reject(error);\n      }\n    };\n    timerId = setImmediate(next);\n  });\n}\n\nfunction colorDistanceFormulaToColorDistance(\n  colorDistanceFormula: ColorDistanceFormula = 'euclidean-bt709',\n) {\n  switch (colorDistanceFormula) {\n    case 'cie94-graphic-arts':\n      return new distance.CIE94GraphicArts();\n    case 'cie94-textiles':\n      return new distance.CIE94Textiles();\n    case 'ciede2000':\n      return new distance.CIEDE2000();\n    case 'color-metric':\n      return new distance.CMetric();\n    case 'euclidean':\n      return new distance.Euclidean();\n    case 'euclidean-bt709':\n      return new distance.EuclideanBT709();\n    case 'euclidean-bt709-noalpha':\n      return new distance.EuclideanBT709NoAlpha();\n    case 'manhattan':\n      return new distance.Manhattan();\n    case 'manhattan-bt709':\n      return new distance.ManhattanBT709();\n    case 'manhattan-nommyde':\n      return new distance.ManhattanNommyde();\n    case 'pngquant':\n      return new distance.PNGQuant();\n    default:\n      throw new Error(`Unknown colorDistanceFormula ${colorDistanceFormula}`);\n  }\n}\n\nfunction imageQuantizationToImageQuantizer(\n  distanceCalculator: AbstractDistanceCalculator,\n  imageQuantization: ImageQuantization = 'floyd-steinberg',\n) {\n  switch (imageQuantization) {\n    case 'nearest':\n      return new image.NearestColor(distanceCalculator);\n    case 'riemersma':\n      return new image.ErrorDiffusionRiemersma(distanceCalculator);\n    case 'floyd-steinberg':\n      return new image.ErrorDiffusionArray(\n        distanceCalculator,\n        image.ErrorDiffusionArrayKernel.FloydSteinberg,\n      );\n    case 'false-floyd-steinberg':\n      return new image.ErrorDiffusionArray(\n        distanceCalculator,\n        image.ErrorDiffusionArrayKernel.FalseFloydSteinberg,\n      );\n    case 'stucki':\n      return new image.ErrorDiffusionArray(\n        distanceCalculator,\n        image.ErrorDiffusionArrayKernel.Stucki,\n      );\n    case 'atkinson':\n      return new image.ErrorDiffusionArray(\n        distanceCalculator,\n        image.ErrorDiffusionArrayKernel.Atkinson,\n      );\n    case 'jarvis':\n      return new image.ErrorDiffusionArray(\n        distanceCalculator,\n        image.ErrorDiffusionArrayKernel.Jarvis,\n      );\n    case 'burkes':\n      return new image.ErrorDiffusionArray(\n        distanceCalculator,\n        image.ErrorDiffusionArrayKernel.Burkes,\n      );\n    case 'sierra':\n      return new image.ErrorDiffusionArray(\n        distanceCalculator,\n        image.ErrorDiffusionArrayKernel.Sierra,\n      );\n    case 'two-sierra':\n      return new image.ErrorDiffusionArray(\n        distanceCalculator,\n        image.ErrorDiffusionArrayKernel.TwoSierra,\n      );\n    case 'sierra-lite':\n      return new image.ErrorDiffusionArray(\n        distanceCalculator,\n        image.ErrorDiffusionArrayKernel.SierraLite,\n      );\n    default:\n      throw new Error(`Unknown imageQuantization ${imageQuantization}`);\n  }\n}\n\nfunction paletteQuantizationToPaletteQuantizer(\n  distanceCalculator: AbstractDistanceCalculator,\n  paletteQuantization: PaletteQuantization = 'wuquant',\n  colors = 256,\n) {\n  switch (paletteQuantization) {\n    case 'neuquant':\n      return new palette.NeuQuant(distanceCalculator, colors);\n    case 'rgbquant':\n      return new palette.RGBQuant(distanceCalculator, colors);\n    case 'wuquant':\n      return new palette.WuQuant(distanceCalculator, colors);\n    case 'neuquant-float':\n      return new palette.NeuQuantFloat(distanceCalculator, colors);\n    default:\n      throw new Error(`Unknown paletteQuantization ${paletteQuantization}`);\n  }\n}\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","\n/**\n * Rounds equivalently to PHP_ROUND_HALF_UP in PHP.\n * @param n input number\n * @returns rounded result\n */\nexport function round_half_up(n: number): number {\n    if(n < 0) {\n        /* Ugly hack that makes sure -1.5 rounds to -2 */\n        n -= 0.0000001;\n    }\n    return Math.round(n);\n}\n\nexport function str_pad(str: string, n: number, padding: string, left?: boolean): string {\n    if(left) {\n        return str.padStart(n, padding);\n    } else\n        return str.padEnd(n, padding);\n}\n\nexport function dechex(n: number): string {\n    return n.toString(16);\n}","// Currently in sync with Node.js lib/assert.js\n// https://github.com/nodejs/node/commit/2a51ae424a513ec9a6aa3466baa0cc1d55dd4f3b\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _require = require('./internal/errors'),\n    _require$codes = _require.codes,\n    ERR_AMBIGUOUS_ARGUMENT = _require$codes.ERR_AMBIGUOUS_ARGUMENT,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_INVALID_ARG_VALUE = _require$codes.ERR_INVALID_ARG_VALUE,\n    ERR_INVALID_RETURN_VALUE = _require$codes.ERR_INVALID_RETURN_VALUE,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS;\n\nvar AssertionError = require('./internal/assert/assertion_error');\n\nvar _require2 = require('util/'),\n    inspect = _require2.inspect;\n\nvar _require$types = require('util/').types,\n    isPromise = _require$types.isPromise,\n    isRegExp = _require$types.isRegExp;\n\nvar objectAssign = Object.assign ? Object.assign : require('es6-object-assign').assign;\nvar objectIs = Object.is ? Object.is : require('object-is');\nvar errorCache = new Map();\nvar isDeepEqual;\nvar isDeepStrictEqual;\nvar parseExpressionAt;\nvar findNodeAround;\nvar decoder;\n\nfunction lazyLoadComparison() {\n  var comparison = require('./internal/util/comparisons');\n\n  isDeepEqual = comparison.isDeepEqual;\n  isDeepStrictEqual = comparison.isDeepStrictEqual;\n} // Escape control characters but not \\n and \\t to keep the line breaks and\n// indentation intact.\n// eslint-disable-next-line no-control-regex\n\n\nvar escapeSequencesRegExp = /[\\x00-\\x08\\x0b\\x0c\\x0e-\\x1f]/g;\nvar meta = [\"\\\\u0000\", \"\\\\u0001\", \"\\\\u0002\", \"\\\\u0003\", \"\\\\u0004\", \"\\\\u0005\", \"\\\\u0006\", \"\\\\u0007\", '\\\\b', '', '', \"\\\\u000b\", '\\\\f', '', \"\\\\u000e\", \"\\\\u000f\", \"\\\\u0010\", \"\\\\u0011\", \"\\\\u0012\", \"\\\\u0013\", \"\\\\u0014\", \"\\\\u0015\", \"\\\\u0016\", \"\\\\u0017\", \"\\\\u0018\", \"\\\\u0019\", \"\\\\u001a\", \"\\\\u001b\", \"\\\\u001c\", \"\\\\u001d\", \"\\\\u001e\", \"\\\\u001f\"];\n\nvar escapeFn = function escapeFn(str) {\n  return meta[str.charCodeAt(0)];\n};\n\nvar warned = false; // The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\nvar NO_EXCEPTION_SENTINEL = {}; // All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided. All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction innerFail(obj) {\n  if (obj.message instanceof Error) throw obj.message;\n  throw new AssertionError(obj);\n}\n\nfunction fail(actual, expected, message, operator, stackStartFn) {\n  var argsLen = arguments.length;\n  var internalMessage;\n\n  if (argsLen === 0) {\n    internalMessage = 'Failed';\n  } else if (argsLen === 1) {\n    message = actual;\n    actual = undefined;\n  } else {\n    if (warned === false) {\n      warned = true;\n      var warn = process.emitWarning ? process.emitWarning : console.warn.bind(console);\n      warn('assert.fail() with more than one argument is deprecated. ' + 'Please use assert.strictEqual() instead or only pass a message.', 'DeprecationWarning', 'DEP0094');\n    }\n\n    if (argsLen === 2) operator = '!=';\n  }\n\n  if (message instanceof Error) throw message;\n  var errArgs = {\n    actual: actual,\n    expected: expected,\n    operator: operator === undefined ? 'fail' : operator,\n    stackStartFn: stackStartFn || fail\n  };\n\n  if (message !== undefined) {\n    errArgs.message = message;\n  }\n\n  var err = new AssertionError(errArgs);\n\n  if (internalMessage) {\n    err.message = internalMessage;\n    err.generatedMessage = true;\n  }\n\n  throw err;\n}\n\nassert.fail = fail; // The AssertionError is defined in internal/error.\n\nassert.AssertionError = AssertionError;\n\nfunction innerOk(fn, argLen, value, message) {\n  if (!value) {\n    var generatedMessage = false;\n\n    if (argLen === 0) {\n      generatedMessage = true;\n      message = 'No value argument passed to `assert.ok()`';\n    } else if (message instanceof Error) {\n      throw message;\n    }\n\n    var err = new AssertionError({\n      actual: value,\n      expected: true,\n      message: message,\n      operator: '==',\n      stackStartFn: fn\n    });\n    err.generatedMessage = generatedMessage;\n    throw err;\n  }\n} // Pure assertion tests whether a value is truthy, as determined\n// by !!value.\n\n\nfunction ok() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  innerOk.apply(void 0, [ok, args.length].concat(args));\n}\n\nassert.ok = ok; // The equality assertion tests shallow, coercive equality with ==.\n\n/* eslint-disable no-restricted-properties */\n\nassert.equal = function equal(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  } // eslint-disable-next-line eqeqeq\n\n\n  if (actual != expected) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: '==',\n      stackStartFn: equal\n    });\n  }\n}; // The non-equality assertion tests for whether two objects are not\n// equal with !=.\n\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  } // eslint-disable-next-line eqeqeq\n\n\n  if (actual == expected) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: '!=',\n      stackStartFn: notEqual\n    });\n  }\n}; // The equivalence assertion tests a deep equality relation.\n\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (isDeepEqual === undefined) lazyLoadComparison();\n\n  if (!isDeepEqual(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'deepEqual',\n      stackStartFn: deepEqual\n    });\n  }\n}; // The non-equivalence assertion tests for any deep inequality.\n\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (isDeepEqual === undefined) lazyLoadComparison();\n\n  if (isDeepEqual(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'notDeepEqual',\n      stackStartFn: notDeepEqual\n    });\n  }\n};\n/* eslint-enable */\n\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (isDeepEqual === undefined) lazyLoadComparison();\n\n  if (!isDeepStrictEqual(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'deepStrictEqual',\n      stackStartFn: deepStrictEqual\n    });\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\n\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (isDeepEqual === undefined) lazyLoadComparison();\n\n  if (isDeepStrictEqual(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'notDeepStrictEqual',\n      stackStartFn: notDeepStrictEqual\n    });\n  }\n}\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (!objectIs(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'strictEqual',\n      stackStartFn: strictEqual\n    });\n  }\n};\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (objectIs(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'notStrictEqual',\n      stackStartFn: notStrictEqual\n    });\n  }\n};\n\nvar Comparison = function Comparison(obj, keys, actual) {\n  var _this = this;\n\n  _classCallCheck(this, Comparison);\n\n  keys.forEach(function (key) {\n    if (key in obj) {\n      if (actual !== undefined && typeof actual[key] === 'string' && isRegExp(obj[key]) && obj[key].test(actual[key])) {\n        _this[key] = actual[key];\n      } else {\n        _this[key] = obj[key];\n      }\n    }\n  });\n};\n\nfunction compareExceptionKey(actual, expected, key, message, keys, fn) {\n  if (!(key in actual) || !isDeepStrictEqual(actual[key], expected[key])) {\n    if (!message) {\n      // Create placeholder objects to create a nice output.\n      var a = new Comparison(actual, keys);\n      var b = new Comparison(expected, keys, actual);\n      var err = new AssertionError({\n        actual: a,\n        expected: b,\n        operator: 'deepStrictEqual',\n        stackStartFn: fn\n      });\n      err.actual = actual;\n      err.expected = expected;\n      err.operator = fn.name;\n      throw err;\n    }\n\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: fn.name,\n      stackStartFn: fn\n    });\n  }\n}\n\nfunction expectedException(actual, expected, msg, fn) {\n  if (typeof expected !== 'function') {\n    if (isRegExp(expected)) return expected.test(actual); // assert.doesNotThrow does not accept objects.\n\n    if (arguments.length === 2) {\n      throw new ERR_INVALID_ARG_TYPE('expected', ['Function', 'RegExp'], expected);\n    } // Handle primitives properly.\n\n\n    if (_typeof(actual) !== 'object' || actual === null) {\n      var err = new AssertionError({\n        actual: actual,\n        expected: expected,\n        message: msg,\n        operator: 'deepStrictEqual',\n        stackStartFn: fn\n      });\n      err.operator = fn.name;\n      throw err;\n    }\n\n    var keys = Object.keys(expected); // Special handle errors to make sure the name and the message are compared\n    // as well.\n\n    if (expected instanceof Error) {\n      keys.push('name', 'message');\n    } else if (keys.length === 0) {\n      throw new ERR_INVALID_ARG_VALUE('error', expected, 'may not be an empty object');\n    }\n\n    if (isDeepEqual === undefined) lazyLoadComparison();\n    keys.forEach(function (key) {\n      if (typeof actual[key] === 'string' && isRegExp(expected[key]) && expected[key].test(actual[key])) {\n        return;\n      }\n\n      compareExceptionKey(actual, expected, key, msg, keys, fn);\n    });\n    return true;\n  } // Guard instanceof against arrow functions as they don't have a prototype.\n\n\n  if (expected.prototype !== undefined && actual instanceof expected) {\n    return true;\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction getActual(fn) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', 'Function', fn);\n  }\n\n  try {\n    fn();\n  } catch (e) {\n    return e;\n  }\n\n  return NO_EXCEPTION_SENTINEL;\n}\n\nfunction checkIsPromise(obj) {\n  // Accept native ES6 promises and promises that are implemented in a similar\n  // way. Do not accept thenables that use a function as `obj` and that have no\n  // `catch` handler.\n  // TODO: thenables are checked up until they have the correct methods,\n  // but according to documentation, the `then` method should receive\n  // the `fulfill` and `reject` arguments as well or it may be never resolved.\n  return isPromise(obj) || obj !== null && _typeof(obj) === 'object' && typeof obj.then === 'function' && typeof obj.catch === 'function';\n}\n\nfunction waitForActual(promiseFn) {\n  return Promise.resolve().then(function () {\n    var resultPromise;\n\n    if (typeof promiseFn === 'function') {\n      // Return a rejected promise if `promiseFn` throws synchronously.\n      resultPromise = promiseFn(); // Fail in case no promise is returned.\n\n      if (!checkIsPromise(resultPromise)) {\n        throw new ERR_INVALID_RETURN_VALUE('instance of Promise', 'promiseFn', resultPromise);\n      }\n    } else if (checkIsPromise(promiseFn)) {\n      resultPromise = promiseFn;\n    } else {\n      throw new ERR_INVALID_ARG_TYPE('promiseFn', ['Function', 'Promise'], promiseFn);\n    }\n\n    return Promise.resolve().then(function () {\n      return resultPromise;\n    }).then(function () {\n      return NO_EXCEPTION_SENTINEL;\n    }).catch(function (e) {\n      return e;\n    });\n  });\n}\n\nfunction expectsError(stackStartFn, actual, error, message) {\n  if (typeof error === 'string') {\n    if (arguments.length === 4) {\n      throw new ERR_INVALID_ARG_TYPE('error', ['Object', 'Error', 'Function', 'RegExp'], error);\n    }\n\n    if (_typeof(actual) === 'object' && actual !== null) {\n      if (actual.message === error) {\n        throw new ERR_AMBIGUOUS_ARGUMENT('error/message', \"The error message \\\"\".concat(actual.message, \"\\\" is identical to the message.\"));\n      }\n    } else if (actual === error) {\n      throw new ERR_AMBIGUOUS_ARGUMENT('error/message', \"The error \\\"\".concat(actual, \"\\\" is identical to the message.\"));\n    }\n\n    message = error;\n    error = undefined;\n  } else if (error != null && _typeof(error) !== 'object' && typeof error !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('error', ['Object', 'Error', 'Function', 'RegExp'], error);\n  }\n\n  if (actual === NO_EXCEPTION_SENTINEL) {\n    var details = '';\n\n    if (error && error.name) {\n      details += \" (\".concat(error.name, \")\");\n    }\n\n    details += message ? \": \".concat(message) : '.';\n    var fnType = stackStartFn.name === 'rejects' ? 'rejection' : 'exception';\n    innerFail({\n      actual: undefined,\n      expected: error,\n      operator: stackStartFn.name,\n      message: \"Missing expected \".concat(fnType).concat(details),\n      stackStartFn: stackStartFn\n    });\n  }\n\n  if (error && !expectedException(actual, error, message, stackStartFn)) {\n    throw actual;\n  }\n}\n\nfunction expectsNoError(stackStartFn, actual, error, message) {\n  if (actual === NO_EXCEPTION_SENTINEL) return;\n\n  if (typeof error === 'string') {\n    message = error;\n    error = undefined;\n  }\n\n  if (!error || expectedException(actual, error)) {\n    var details = message ? \": \".concat(message) : '.';\n    var fnType = stackStartFn.name === 'doesNotReject' ? 'rejection' : 'exception';\n    innerFail({\n      actual: actual,\n      expected: error,\n      operator: stackStartFn.name,\n      message: \"Got unwanted \".concat(fnType).concat(details, \"\\n\") + \"Actual message: \\\"\".concat(actual && actual.message, \"\\\"\"),\n      stackStartFn: stackStartFn\n    });\n  }\n\n  throw actual;\n}\n\nassert.throws = function throws(promiseFn) {\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  expectsError.apply(void 0, [throws, getActual(promiseFn)].concat(args));\n};\n\nassert.rejects = function rejects(promiseFn) {\n  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    args[_key3 - 1] = arguments[_key3];\n  }\n\n  return waitForActual(promiseFn).then(function (result) {\n    return expectsError.apply(void 0, [rejects, result].concat(args));\n  });\n};\n\nassert.doesNotThrow = function doesNotThrow(fn) {\n  for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    args[_key4 - 1] = arguments[_key4];\n  }\n\n  expectsNoError.apply(void 0, [doesNotThrow, getActual(fn)].concat(args));\n};\n\nassert.doesNotReject = function doesNotReject(fn) {\n  for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n    args[_key5 - 1] = arguments[_key5];\n  }\n\n  return waitForActual(fn).then(function (result) {\n    return expectsNoError.apply(void 0, [doesNotReject, result].concat(args));\n  });\n};\n\nassert.ifError = function ifError(err) {\n  if (err !== null && err !== undefined) {\n    var message = 'ifError got unwanted exception: ';\n\n    if (_typeof(err) === 'object' && typeof err.message === 'string') {\n      if (err.message.length === 0 && err.constructor) {\n        message += err.constructor.name;\n      } else {\n        message += err.message;\n      }\n    } else {\n      message += inspect(err);\n    }\n\n    var newErr = new AssertionError({\n      actual: err,\n      expected: null,\n      operator: 'ifError',\n      message: message,\n      stackStartFn: ifError\n    }); // Make sure we actually have a stack trace!\n\n    var origStack = err.stack;\n\n    if (typeof origStack === 'string') {\n      // This will remove any duplicated frames from the error frames taken\n      // from within `ifError` and add the original error frames to the newly\n      // created ones.\n      var tmp2 = origStack.split('\\n');\n      tmp2.shift(); // Filter all frames existing in err.stack.\n\n      var tmp1 = newErr.stack.split('\\n');\n\n      for (var i = 0; i < tmp2.length; i++) {\n        // Find the first occurrence of the frame.\n        var pos = tmp1.indexOf(tmp2[i]);\n\n        if (pos !== -1) {\n          // Only keep new frames.\n          tmp1 = tmp1.slice(0, pos);\n          break;\n        }\n      }\n\n      newErr.stack = \"\".concat(tmp1.join('\\n'), \"\\n\").concat(tmp2.join('\\n'));\n    }\n\n    throw newErr;\n  }\n}; // Expose a strict only variant of assert\n\n\nfunction strict() {\n  for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    args[_key6] = arguments[_key6];\n  }\n\n  innerOk.apply(void 0, [strict, args.length].concat(args));\n}\n\nassert.strict = objectAssign(strict, assert, {\n  equal: assert.strictEqual,\n  deepEqual: assert.deepStrictEqual,\n  notEqual: assert.notStrictEqual,\n  notDeepEqual: assert.notDeepStrictEqual\n});\nassert.strict.strict = assert.strict;","// Currently in sync with Node.js lib/internal/errors.js\n// https://github.com/nodejs/node/commit/3b044962c48fe313905877a96b5d0894a5404f6f\n\n/* eslint node-core/documented-errors: \"error\" */\n\n/* eslint node-core/alphabetize-errors: \"error\" */\n\n/* eslint node-core/prefer-util-format-errors: \"error\" */\n'use strict'; // The whole point behind this internal module is to allow Node.js to no\n// longer be forced to treat every error message change as a semver-major\n// change. The NodeError classes here all expose a `code` property whose\n// value statically and permanently identifies the error. While the error\n// message may change, the code should not.\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar codes = {}; // Lazy loaded\n\nvar assert;\nvar util;\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inherits(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      var _this;\n\n      _classCallCheck(this, NodeError);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(NodeError).call(this, getMessage(arg1, arg2, arg3)));\n      _this.code = code;\n      return _this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_AMBIGUOUS_ARGUMENT', 'The \"%s\" argument is ambiguous. %s', TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  if (assert === undefined) assert = require('../assert');\n  assert(typeof name === 'string', \"'name' must be a string\"); // determiner: 'must be' or 'must not be'\n\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } // TODO(BridgeAR): Improve the output by showing `null` and similar.\n\n\n  msg += \". Received type \".concat(_typeof(actual));\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_VALUE', function (name, value) {\n  var reason = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'is invalid';\n  if (util === undefined) util = require('util/');\n  var inspected = util.inspect(value);\n\n  if (inspected.length > 128) {\n    inspected = \"\".concat(inspected.slice(0, 128), \"...\");\n  }\n\n  return \"The argument '\".concat(name, \"' \").concat(reason, \". Received \").concat(inspected);\n}, TypeError, RangeError);\ncreateErrorType('ERR_INVALID_RETURN_VALUE', function (input, name, value) {\n  var type;\n\n  if (value && value.constructor && value.constructor.name) {\n    type = \"instance of \".concat(value.constructor.name);\n  } else {\n    type = \"type \".concat(_typeof(value));\n  }\n\n  return \"Expected \".concat(input, \" to be returned from the \\\"\").concat(name, \"\\\"\") + \" function but got \".concat(type, \".\");\n}, TypeError);\ncreateErrorType('ERR_MISSING_ARGS', function () {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  if (assert === undefined) assert = require('../assert');\n  assert(args.length > 0, 'At least one arg needs to be specified');\n  var msg = 'The ';\n  var len = args.length;\n  args = args.map(function (a) {\n    return \"\\\"\".concat(a, \"\\\"\");\n  });\n\n  switch (len) {\n    case 1:\n      msg += \"\".concat(args[0], \" argument\");\n      break;\n\n    case 2:\n      msg += \"\".concat(args[0], \" and \").concat(args[1], \" arguments\");\n      break;\n\n    default:\n      msg += args.slice(0, len - 1).join(', ');\n      msg += \", and \".concat(args[len - 1], \" arguments\");\n      break;\n  }\n\n  return \"\".concat(msg, \" must be specified\");\n}, TypeError);\nmodule.exports.codes = codes;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnvRegex = /^$/;\n\nif (process.env.NODE_DEBUG) {\n  var debugEnv = process.env.NODE_DEBUG;\n  debugEnv = debugEnv.replace(/[|\\\\{}()[\\]^$+?.]/g, '\\\\$&')\n    .replace(/\\*/g, '.*')\n    .replace(/,/g, '$|^')\n    .toUpperCase();\n  debugEnvRegex = new RegExp('^' + debugEnv + '$', 'i');\n}\nexports.debuglog = function(set) {\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (debugEnvRegex.test(set)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nexports.types = require('./support/types');\n\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\nexports.types.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\nexports.types.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\nexports.types.isNativeError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb.bind(null, null, ret)) },\n            function(rej) { process.nextTick(callbackifyOnRejected.bind(null, rej, cb)) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","// Currently in sync with Node.js lib/internal/util/types.js\n// https://github.com/nodejs/node/commit/112cc7c27551254aa2b17098fb774867f05ed0d9\n\n'use strict';\n\nvar isArgumentsObject = require('is-arguments');\nvar isGeneratorFunction = require('is-generator-function');\nvar whichTypedArray = require('which-typed-array');\nvar isTypedArray = require('is-typed-array');\n\nfunction uncurryThis(f) {\n  return f.call.bind(f);\n}\n\nvar BigIntSupported = typeof BigInt !== 'undefined';\nvar SymbolSupported = typeof Symbol !== 'undefined';\n\nvar ObjectToString = uncurryThis(Object.prototype.toString);\n\nvar numberValue = uncurryThis(Number.prototype.valueOf);\nvar stringValue = uncurryThis(String.prototype.valueOf);\nvar booleanValue = uncurryThis(Boolean.prototype.valueOf);\n\nif (BigIntSupported) {\n  var bigIntValue = uncurryThis(BigInt.prototype.valueOf);\n}\n\nif (SymbolSupported) {\n  var symbolValue = uncurryThis(Symbol.prototype.valueOf);\n}\n\nfunction checkBoxedPrimitive(value, prototypeValueOf) {\n  if (typeof value !== 'object') {\n    return false;\n  }\n  try {\n    prototypeValueOf(value);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n\nexports.isArgumentsObject = isArgumentsObject;\nexports.isGeneratorFunction = isGeneratorFunction;\nexports.isTypedArray = isTypedArray;\n\n// Taken from here and modified for better browser support\n// https://github.com/sindresorhus/p-is-promise/blob/cda35a513bda03f977ad5cde3a079d237e82d7ef/index.js\nfunction isPromise(input) {\n\treturn (\n\t\t(\n\t\t\ttypeof Promise !== 'undefined' &&\n\t\t\tinput instanceof Promise\n\t\t) ||\n\t\t(\n\t\t\tinput !== null &&\n\t\t\ttypeof input === 'object' &&\n\t\t\ttypeof input.then === 'function' &&\n\t\t\ttypeof input.catch === 'function'\n\t\t)\n\t);\n}\nexports.isPromise = isPromise;\n\nfunction isArrayBufferView(value) {\n  if (typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView) {\n    return ArrayBuffer.isView(value);\n  }\n\n  return (\n    isTypedArray(value) ||\n    isDataView(value)\n  );\n}\nexports.isArrayBufferView = isArrayBufferView;\n\n\nfunction isUint8Array(value) {\n  return whichTypedArray(value) === 'Uint8Array';\n}\nexports.isUint8Array = isUint8Array;\n\nfunction isUint8ClampedArray(value) {\n  return whichTypedArray(value) === 'Uint8ClampedArray';\n}\nexports.isUint8ClampedArray = isUint8ClampedArray;\n\nfunction isUint16Array(value) {\n  return whichTypedArray(value) === 'Uint16Array';\n}\nexports.isUint16Array = isUint16Array;\n\nfunction isUint32Array(value) {\n  return whichTypedArray(value) === 'Uint32Array';\n}\nexports.isUint32Array = isUint32Array;\n\nfunction isInt8Array(value) {\n  return whichTypedArray(value) === 'Int8Array';\n}\nexports.isInt8Array = isInt8Array;\n\nfunction isInt16Array(value) {\n  return whichTypedArray(value) === 'Int16Array';\n}\nexports.isInt16Array = isInt16Array;\n\nfunction isInt32Array(value) {\n  return whichTypedArray(value) === 'Int32Array';\n}\nexports.isInt32Array = isInt32Array;\n\nfunction isFloat32Array(value) {\n  return whichTypedArray(value) === 'Float32Array';\n}\nexports.isFloat32Array = isFloat32Array;\n\nfunction isFloat64Array(value) {\n  return whichTypedArray(value) === 'Float64Array';\n}\nexports.isFloat64Array = isFloat64Array;\n\nfunction isBigInt64Array(value) {\n  return whichTypedArray(value) === 'BigInt64Array';\n}\nexports.isBigInt64Array = isBigInt64Array;\n\nfunction isBigUint64Array(value) {\n  return whichTypedArray(value) === 'BigUint64Array';\n}\nexports.isBigUint64Array = isBigUint64Array;\n\nfunction isMapToString(value) {\n  return ObjectToString(value) === '[object Map]';\n}\nisMapToString.working = (\n  typeof Map !== 'undefined' &&\n  isMapToString(new Map())\n);\n\nfunction isMap(value) {\n  if (typeof Map === 'undefined') {\n    return false;\n  }\n\n  return isMapToString.working\n    ? isMapToString(value)\n    : value instanceof Map;\n}\nexports.isMap = isMap;\n\nfunction isSetToString(value) {\n  return ObjectToString(value) === '[object Set]';\n}\nisSetToString.working = (\n  typeof Set !== 'undefined' &&\n  isSetToString(new Set())\n);\nfunction isSet(value) {\n  if (typeof Set === 'undefined') {\n    return false;\n  }\n\n  return isSetToString.working\n    ? isSetToString(value)\n    : value instanceof Set;\n}\nexports.isSet = isSet;\n\nfunction isWeakMapToString(value) {\n  return ObjectToString(value) === '[object WeakMap]';\n}\nisWeakMapToString.working = (\n  typeof WeakMap !== 'undefined' &&\n  isWeakMapToString(new WeakMap())\n);\nfunction isWeakMap(value) {\n  if (typeof WeakMap === 'undefined') {\n    return false;\n  }\n\n  return isWeakMapToString.working\n    ? isWeakMapToString(value)\n    : value instanceof WeakMap;\n}\nexports.isWeakMap = isWeakMap;\n\nfunction isWeakSetToString(value) {\n  return ObjectToString(value) === '[object WeakSet]';\n}\nisWeakSetToString.working = (\n  typeof WeakSet !== 'undefined' &&\n  isWeakSetToString(new WeakSet())\n);\nfunction isWeakSet(value) {\n  return isWeakSetToString(value);\n}\nexports.isWeakSet = isWeakSet;\n\nfunction isArrayBufferToString(value) {\n  return ObjectToString(value) === '[object ArrayBuffer]';\n}\nisArrayBufferToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  isArrayBufferToString(new ArrayBuffer())\n);\nfunction isArrayBuffer(value) {\n  if (typeof ArrayBuffer === 'undefined') {\n    return false;\n  }\n\n  return isArrayBufferToString.working\n    ? isArrayBufferToString(value)\n    : value instanceof ArrayBuffer;\n}\nexports.isArrayBuffer = isArrayBuffer;\n\nfunction isDataViewToString(value) {\n  return ObjectToString(value) === '[object DataView]';\n}\nisDataViewToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  typeof DataView !== 'undefined' &&\n  isDataViewToString(new DataView(new ArrayBuffer(1), 0, 1))\n);\nfunction isDataView(value) {\n  if (typeof DataView === 'undefined') {\n    return false;\n  }\n\n  return isDataViewToString.working\n    ? isDataViewToString(value)\n    : value instanceof DataView;\n}\nexports.isDataView = isDataView;\n\n// Store a copy of SharedArrayBuffer in case it's deleted elsewhere\nvar SharedArrayBufferCopy = typeof SharedArrayBuffer !== 'undefined' ? SharedArrayBuffer : undefined;\nfunction isSharedArrayBufferToString(value) {\n  return ObjectToString(value) === '[object SharedArrayBuffer]';\n}\nfunction isSharedArrayBuffer(value) {\n  if (typeof SharedArrayBufferCopy === 'undefined') {\n    return false;\n  }\n\n  if (typeof isSharedArrayBufferToString.working === 'undefined') {\n    isSharedArrayBufferToString.working = isSharedArrayBufferToString(new SharedArrayBufferCopy());\n  }\n\n  return isSharedArrayBufferToString.working\n    ? isSharedArrayBufferToString(value)\n    : value instanceof SharedArrayBufferCopy;\n}\nexports.isSharedArrayBuffer = isSharedArrayBuffer;\n\nfunction isAsyncFunction(value) {\n  return ObjectToString(value) === '[object AsyncFunction]';\n}\nexports.isAsyncFunction = isAsyncFunction;\n\nfunction isMapIterator(value) {\n  return ObjectToString(value) === '[object Map Iterator]';\n}\nexports.isMapIterator = isMapIterator;\n\nfunction isSetIterator(value) {\n  return ObjectToString(value) === '[object Set Iterator]';\n}\nexports.isSetIterator = isSetIterator;\n\nfunction isGeneratorObject(value) {\n  return ObjectToString(value) === '[object Generator]';\n}\nexports.isGeneratorObject = isGeneratorObject;\n\nfunction isWebAssemblyCompiledModule(value) {\n  return ObjectToString(value) === '[object WebAssembly.Module]';\n}\nexports.isWebAssemblyCompiledModule = isWebAssemblyCompiledModule;\n\nfunction isNumberObject(value) {\n  return checkBoxedPrimitive(value, numberValue);\n}\nexports.isNumberObject = isNumberObject;\n\nfunction isStringObject(value) {\n  return checkBoxedPrimitive(value, stringValue);\n}\nexports.isStringObject = isStringObject;\n\nfunction isBooleanObject(value) {\n  return checkBoxedPrimitive(value, booleanValue);\n}\nexports.isBooleanObject = isBooleanObject;\n\nfunction isBigIntObject(value) {\n  return BigIntSupported && checkBoxedPrimitive(value, bigIntValue);\n}\nexports.isBigIntObject = isBigIntObject;\n\nfunction isSymbolObject(value) {\n  return SymbolSupported && checkBoxedPrimitive(value, symbolValue);\n}\nexports.isSymbolObject = isSymbolObject;\n\nfunction isBoxedPrimitive(value) {\n  return (\n    isNumberObject(value) ||\n    isStringObject(value) ||\n    isBooleanObject(value) ||\n    isBigIntObject(value) ||\n    isSymbolObject(value)\n  );\n}\nexports.isBoxedPrimitive = isBoxedPrimitive;\n\nfunction isAnyArrayBuffer(value) {\n  return typeof Uint8Array !== 'undefined' && (\n    isArrayBuffer(value) ||\n    isSharedArrayBuffer(value)\n  );\n}\nexports.isAnyArrayBuffer = isAnyArrayBuffer;\n\n['isProxy', 'isExternal', 'isModuleNamespaceObject'].forEach(function(method) {\n  Object.defineProperty(exports, method, {\n    enumerable: false,\n    value: function() {\n      throw new Error(method + ' is not supported in userland');\n    }\n  });\n});\n","'use strict';\n\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\n\nvar isStandardArguments = function isArguments(value) {\n\tif (hasToStringTag && value && typeof value === 'object' && Symbol.toStringTag in value) {\n\t\treturn false;\n\t}\n\treturn $toString(value) === '[object Arguments]';\n};\n\nvar isLegacyArguments = function isArguments(value) {\n\tif (isStandardArguments(value)) {\n\t\treturn true;\n\t}\n\treturn value !== null &&\n\t\ttypeof value === 'object' &&\n\t\ttypeof value.length === 'number' &&\n\t\tvalue.length >= 0 &&\n\t\t$toString(value) !== '[object Array]' &&\n\t\t$toString(value.callee) === '[object Function]';\n};\n\nvar supportsStandardArguments = (function () {\n\treturn isStandardArguments(arguments);\n}());\n\nisStandardArguments.isLegacyArguments = isLegacyArguments; // for tests\n\nmodule.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;\n","'use strict';\n\nvar hasSymbols = require('has-symbols/shams');\n\nmodule.exports = function hasToStringTagShams() {\n\treturn hasSymbols() && !!Symbol.toStringTag;\n};\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('has');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\nvar $max = GetIntrinsic('%Math.max%');\n\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = null;\n\t}\n}\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = $reflectApply(bind, $call, arguments);\n\tif ($gOPD && $defineProperty) {\n\t\tvar desc = $gOPD(func, 'length');\n\t\tif (desc.configurable) {\n\t\t\t// original length, plus the receiver, minus any additional arguments (after the receiver)\n\t\t\t$defineProperty(\n\t\t\t\tfunc,\n\t\t\t\t'length',\n\t\t\t\t{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }\n\t\t\t);\n\t\t}\n\t}\n\treturn func;\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","'use strict';\n\nvar toStr = Object.prototype.toString;\nvar fnToStr = Function.prototype.toString;\nvar isFnRegex = /^\\s*(?:function)?\\*/;\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar getProto = Object.getPrototypeOf;\nvar getGeneratorFunc = function () { // eslint-disable-line consistent-return\n\tif (!hasToStringTag) {\n\t\treturn false;\n\t}\n\ttry {\n\t\treturn Function('return function*() {}')();\n\t} catch (e) {\n\t}\n};\nvar GeneratorFunction;\n\nmodule.exports = function isGeneratorFunction(fn) {\n\tif (typeof fn !== 'function') {\n\t\treturn false;\n\t}\n\tif (isFnRegex.test(fnToStr.call(fn))) {\n\t\treturn true;\n\t}\n\tif (!hasToStringTag) {\n\t\tvar str = toStr.call(fn);\n\t\treturn str === '[object GeneratorFunction]';\n\t}\n\tif (!getProto) {\n\t\treturn false;\n\t}\n\tif (typeof GeneratorFunction === 'undefined') {\n\t\tvar generatorFunc = getGeneratorFunc();\n\t\tGeneratorFunction = generatorFunc ? getProto(generatorFunc) : false;\n\t}\n\treturn getProto(fn) === GeneratorFunction;\n};\n","'use strict';\n\nvar forEach = require('foreach');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\nvar typedArrays = availableTypedArrays();\n\nvar $slice = callBound('String.prototype.slice');\nvar toStrTags = {};\nvar gOPD = require('es-abstract/helpers/getOwnPropertyDescriptor');\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tif (typeof g[typedArray] === 'function') {\n\t\t\tvar arr = new g[typedArray]();\n\t\t\tif (Symbol.toStringTag in arr) {\n\t\t\t\tvar proto = getPrototypeOf(arr);\n\t\t\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\t\t\tif (!descriptor) {\n\t\t\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t\t\t}\n\t\t\t\ttoStrTags[typedArray] = descriptor.get;\n\t\t\t}\n\t\t}\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar foundName = false;\n\tforEach(toStrTags, function (getter, typedArray) {\n\t\tif (!foundName) {\n\t\t\ttry {\n\t\t\t\tvar name = getter.call(value);\n\t\t\t\tif (name === typedArray) {\n\t\t\t\t\tfoundName = name;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t}\n\t});\n\treturn foundName;\n};\n\nvar isTypedArray = require('is-typed-array');\n\nmodule.exports = function whichTypedArray(value) {\n\tif (!isTypedArray(value)) { return false; }\n\tif (!hasToStringTag || !(Symbol.toStringTag in value)) { return $slice($toString(value), 8, -1); }\n\treturn tryTypedArrays(value);\n};\n","\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\n\nmodule.exports = function forEach (obj, fn, ctx) {\n    if (toString.call(fn) !== '[object Function]') {\n        throw new TypeError('iterator must be a function');\n    }\n    var l = obj.length;\n    if (l === +l) {\n        for (var i = 0; i < l; i++) {\n            fn.call(ctx, obj[i], i, obj);\n        }\n    } else {\n        for (var k in obj) {\n            if (hasOwn.call(obj, k)) {\n                fn.call(ctx, obj[k], k, obj);\n            }\n        }\n    }\n};\n\n","'use strict';\n\nvar possibleNames = [\n\t'BigInt64Array',\n\t'BigUint64Array',\n\t'Float32Array',\n\t'Float64Array',\n\t'Int16Array',\n\t'Int32Array',\n\t'Int8Array',\n\t'Uint16Array',\n\t'Uint32Array',\n\t'Uint8Array',\n\t'Uint8ClampedArray'\n];\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\n\nmodule.exports = function availableTypedArrays() {\n\tvar out = [];\n\tfor (var i = 0; i < possibleNames.length; i++) {\n\t\tif (typeof g[possibleNames[i]] === 'function') {\n\t\t\tout[out.length] = possibleNames[i];\n\t\t}\n\t}\n\treturn out;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\nvar forEach = require('foreach');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\nvar typedArrays = availableTypedArrays();\n\nvar $indexOf = callBound('Array.prototype.indexOf', true) || function indexOf(array, value) {\n\tfor (var i = 0; i < array.length; i += 1) {\n\t\tif (array[i] === value) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n};\nvar $slice = callBound('String.prototype.slice');\nvar toStrTags = {};\nvar gOPD = require('es-abstract/helpers/getOwnPropertyDescriptor');\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tvar arr = new g[typedArray]();\n\t\tif (Symbol.toStringTag in arr) {\n\t\t\tvar proto = getPrototypeOf(arr);\n\t\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\t\tif (!descriptor) {\n\t\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t\t}\n\t\t\ttoStrTags[typedArray] = descriptor.get;\n\t\t}\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar anyTrue = false;\n\tforEach(toStrTags, function (getter, typedArray) {\n\t\tif (!anyTrue) {\n\t\t\ttry {\n\t\t\t\tanyTrue = getter.call(value) === typedArray;\n\t\t\t} catch (e) { /**/ }\n\t\t}\n\t});\n\treturn anyTrue;\n};\n\nmodule.exports = function isTypedArray(value) {\n\tif (!value || typeof value !== 'object') { return false; }\n\tif (!hasToStringTag || !(Symbol.toStringTag in value)) {\n\t\tvar tag = $slice($toString(value), 8, -1);\n\t\treturn $indexOf(typedArrays, tag) > -1;\n\t}\n\tif (!gOPD) { return false; }\n\treturn tryTypedArrays(value);\n};\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","// Currently in sync with Node.js lib/internal/assert/assertion_error.js\n// https://github.com/nodejs/node/commit/0817840f775032169ddd70c85ac059f18ffcc81c\n'use strict';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _require = require('util/'),\n    inspect = _require.inspect;\n\nvar _require2 = require('../errors'),\n    ERR_INVALID_ARG_TYPE = _require2.codes.ERR_INVALID_ARG_TYPE; // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/repeat\n\n\nfunction repeat(str, count) {\n  count = Math.floor(count);\n  if (str.length == 0 || count == 0) return '';\n  var maxCount = str.length * count;\n  count = Math.floor(Math.log(count) / Math.log(2));\n\n  while (count) {\n    str += str;\n    count--;\n  }\n\n  str += str.substring(0, maxCount - str.length);\n  return str;\n}\n\nvar blue = '';\nvar green = '';\nvar red = '';\nvar white = '';\nvar kReadableOperator = {\n  deepStrictEqual: 'Expected values to be strictly deep-equal:',\n  strictEqual: 'Expected values to be strictly equal:',\n  strictEqualObject: 'Expected \"actual\" to be reference-equal to \"expected\":',\n  deepEqual: 'Expected values to be loosely deep-equal:',\n  equal: 'Expected values to be loosely equal:',\n  notDeepStrictEqual: 'Expected \"actual\" not to be strictly deep-equal to:',\n  notStrictEqual: 'Expected \"actual\" to be strictly unequal to:',\n  notStrictEqualObject: 'Expected \"actual\" not to be reference-equal to \"expected\":',\n  notDeepEqual: 'Expected \"actual\" not to be loosely deep-equal to:',\n  notEqual: 'Expected \"actual\" to be loosely unequal to:',\n  notIdentical: 'Values identical but not reference-equal:'\n}; // Comparing short primitives should just show === / !== instead of using the\n// diff.\n\nvar kMaxShortLength = 10;\n\nfunction copyError(source) {\n  var keys = Object.keys(source);\n  var target = Object.create(Object.getPrototypeOf(source));\n  keys.forEach(function (key) {\n    target[key] = source[key];\n  });\n  Object.defineProperty(target, 'message', {\n    value: source.message\n  });\n  return target;\n}\n\nfunction inspectValue(val) {\n  // The util.inspect default values could be changed. This makes sure the\n  // error messages contain the necessary information nevertheless.\n  return inspect(val, {\n    compact: false,\n    customInspect: false,\n    depth: 1000,\n    maxArrayLength: Infinity,\n    // Assert compares only enumerable properties (with a few exceptions).\n    showHidden: false,\n    // Having a long line as error is better than wrapping the line for\n    // comparison for now.\n    // TODO(BridgeAR): `breakLength` should be limited as soon as soon as we\n    // have meta information about the inspected properties (i.e., know where\n    // in what line the property starts and ends).\n    breakLength: Infinity,\n    // Assert does not detect proxies currently.\n    showProxy: false,\n    sorted: true,\n    // Inspect getters as we also check them when comparing entries.\n    getters: true\n  });\n}\n\nfunction createErrDiff(actual, expected, operator) {\n  var other = '';\n  var res = '';\n  var lastPos = 0;\n  var end = '';\n  var skipped = false;\n  var actualInspected = inspectValue(actual);\n  var actualLines = actualInspected.split('\\n');\n  var expectedLines = inspectValue(expected).split('\\n');\n  var i = 0;\n  var indicator = ''; // In case both values are objects explicitly mark them as not reference equal\n  // for the `strictEqual` operator.\n\n  if (operator === 'strictEqual' && _typeof(actual) === 'object' && _typeof(expected) === 'object' && actual !== null && expected !== null) {\n    operator = 'strictEqualObject';\n  } // If \"actual\" and \"expected\" fit on a single line and they are not strictly\n  // equal, check further special handling.\n\n\n  if (actualLines.length === 1 && expectedLines.length === 1 && actualLines[0] !== expectedLines[0]) {\n    var inputLength = actualLines[0].length + expectedLines[0].length; // If the character length of \"actual\" and \"expected\" together is less than\n    // kMaxShortLength and if neither is an object and at least one of them is\n    // not `zero`, use the strict equal comparison to visualize the output.\n\n    if (inputLength <= kMaxShortLength) {\n      if ((_typeof(actual) !== 'object' || actual === null) && (_typeof(expected) !== 'object' || expected === null) && (actual !== 0 || expected !== 0)) {\n        // -0 === +0\n        return \"\".concat(kReadableOperator[operator], \"\\n\\n\") + \"\".concat(actualLines[0], \" !== \").concat(expectedLines[0], \"\\n\");\n      }\n    } else if (operator !== 'strictEqualObject') {\n      // If the stderr is a tty and the input length is lower than the current\n      // columns per line, add a mismatch indicator below the output. If it is\n      // not a tty, use a default value of 80 characters.\n      var maxLength = process.stderr && process.stderr.isTTY ? process.stderr.columns : 80;\n\n      if (inputLength < maxLength) {\n        while (actualLines[0][i] === expectedLines[0][i]) {\n          i++;\n        } // Ignore the first characters.\n\n\n        if (i > 2) {\n          // Add position indicator for the first mismatch in case it is a\n          // single line and the input length is less than the column length.\n          indicator = \"\\n  \".concat(repeat(' ', i), \"^\");\n          i = 0;\n        }\n      }\n    }\n  } // Remove all ending lines that match (this optimizes the output for\n  // readability by reducing the number of total changed lines).\n\n\n  var a = actualLines[actualLines.length - 1];\n  var b = expectedLines[expectedLines.length - 1];\n\n  while (a === b) {\n    if (i++ < 2) {\n      end = \"\\n  \".concat(a).concat(end);\n    } else {\n      other = a;\n    }\n\n    actualLines.pop();\n    expectedLines.pop();\n    if (actualLines.length === 0 || expectedLines.length === 0) break;\n    a = actualLines[actualLines.length - 1];\n    b = expectedLines[expectedLines.length - 1];\n  }\n\n  var maxLines = Math.max(actualLines.length, expectedLines.length); // Strict equal with identical objects that are not identical by reference.\n  // E.g., assert.deepStrictEqual({ a: Symbol() }, { a: Symbol() })\n\n  if (maxLines === 0) {\n    // We have to get the result again. The lines were all removed before.\n    var _actualLines = actualInspected.split('\\n'); // Only remove lines in case it makes sense to collapse those.\n    // TODO: Accept env to always show the full error.\n\n\n    if (_actualLines.length > 30) {\n      _actualLines[26] = \"\".concat(blue, \"...\").concat(white);\n\n      while (_actualLines.length > 27) {\n        _actualLines.pop();\n      }\n    }\n\n    return \"\".concat(kReadableOperator.notIdentical, \"\\n\\n\").concat(_actualLines.join('\\n'), \"\\n\");\n  }\n\n  if (i > 3) {\n    end = \"\\n\".concat(blue, \"...\").concat(white).concat(end);\n    skipped = true;\n  }\n\n  if (other !== '') {\n    end = \"\\n  \".concat(other).concat(end);\n    other = '';\n  }\n\n  var printedLines = 0;\n  var msg = kReadableOperator[operator] + \"\\n\".concat(green, \"+ actual\").concat(white, \" \").concat(red, \"- expected\").concat(white);\n  var skippedMsg = \" \".concat(blue, \"...\").concat(white, \" Lines skipped\");\n\n  for (i = 0; i < maxLines; i++) {\n    // Only extra expected lines exist\n    var cur = i - lastPos;\n\n    if (actualLines.length < i + 1) {\n      // If the last diverging line is more than one line above and the\n      // current line is at least line three, add some of the former lines and\n      // also add dots to indicate skipped entries.\n      if (cur > 1 && i > 2) {\n        if (cur > 4) {\n          res += \"\\n\".concat(blue, \"...\").concat(white);\n          skipped = true;\n        } else if (cur > 3) {\n          res += \"\\n  \".concat(expectedLines[i - 2]);\n          printedLines++;\n        }\n\n        res += \"\\n  \".concat(expectedLines[i - 1]);\n        printedLines++;\n      } // Mark the current line as the last diverging one.\n\n\n      lastPos = i; // Add the expected line to the cache.\n\n      other += \"\\n\".concat(red, \"-\").concat(white, \" \").concat(expectedLines[i]);\n      printedLines++; // Only extra actual lines exist\n    } else if (expectedLines.length < i + 1) {\n      // If the last diverging line is more than one line above and the\n      // current line is at least line three, add some of the former lines and\n      // also add dots to indicate skipped entries.\n      if (cur > 1 && i > 2) {\n        if (cur > 4) {\n          res += \"\\n\".concat(blue, \"...\").concat(white);\n          skipped = true;\n        } else if (cur > 3) {\n          res += \"\\n  \".concat(actualLines[i - 2]);\n          printedLines++;\n        }\n\n        res += \"\\n  \".concat(actualLines[i - 1]);\n        printedLines++;\n      } // Mark the current line as the last diverging one.\n\n\n      lastPos = i; // Add the actual line to the result.\n\n      res += \"\\n\".concat(green, \"+\").concat(white, \" \").concat(actualLines[i]);\n      printedLines++; // Lines diverge\n    } else {\n      var expectedLine = expectedLines[i];\n      var actualLine = actualLines[i]; // If the lines diverge, specifically check for lines that only diverge by\n      // a trailing comma. In that case it is actually identical and we should\n      // mark it as such.\n\n      var divergingLines = actualLine !== expectedLine && (!endsWith(actualLine, ',') || actualLine.slice(0, -1) !== expectedLine); // If the expected line has a trailing comma but is otherwise identical,\n      // add a comma at the end of the actual line. Otherwise the output could\n      // look weird as in:\n      //\n      //   [\n      //     1         // No comma at the end!\n      // +   2\n      //   ]\n      //\n\n      if (divergingLines && endsWith(expectedLine, ',') && expectedLine.slice(0, -1) === actualLine) {\n        divergingLines = false;\n        actualLine += ',';\n      }\n\n      if (divergingLines) {\n        // If the last diverging line is more than one line above and the\n        // current line is at least line three, add some of the former lines and\n        // also add dots to indicate skipped entries.\n        if (cur > 1 && i > 2) {\n          if (cur > 4) {\n            res += \"\\n\".concat(blue, \"...\").concat(white);\n            skipped = true;\n          } else if (cur > 3) {\n            res += \"\\n  \".concat(actualLines[i - 2]);\n            printedLines++;\n          }\n\n          res += \"\\n  \".concat(actualLines[i - 1]);\n          printedLines++;\n        } // Mark the current line as the last diverging one.\n\n\n        lastPos = i; // Add the actual line to the result and cache the expected diverging\n        // line so consecutive diverging lines show up as +++--- and not +-+-+-.\n\n        res += \"\\n\".concat(green, \"+\").concat(white, \" \").concat(actualLine);\n        other += \"\\n\".concat(red, \"-\").concat(white, \" \").concat(expectedLine);\n        printedLines += 2; // Lines are identical\n      } else {\n        // Add all cached information to the result before adding other things\n        // and reset the cache.\n        res += other;\n        other = ''; // If the last diverging line is exactly one line above or if it is the\n        // very first line, add the line to the result.\n\n        if (cur === 1 || i === 0) {\n          res += \"\\n  \".concat(actualLine);\n          printedLines++;\n        }\n      }\n    } // Inspected object to big (Show ~20 rows max)\n\n\n    if (printedLines > 20 && i < maxLines - 2) {\n      return \"\".concat(msg).concat(skippedMsg, \"\\n\").concat(res, \"\\n\").concat(blue, \"...\").concat(white).concat(other, \"\\n\") + \"\".concat(blue, \"...\").concat(white);\n    }\n  }\n\n  return \"\".concat(msg).concat(skipped ? skippedMsg : '', \"\\n\").concat(res).concat(other).concat(end).concat(indicator);\n}\n\nvar AssertionError =\n/*#__PURE__*/\nfunction (_Error) {\n  _inherits(AssertionError, _Error);\n\n  function AssertionError(options) {\n    var _this;\n\n    _classCallCheck(this, AssertionError);\n\n    if (_typeof(options) !== 'object' || options === null) {\n      throw new ERR_INVALID_ARG_TYPE('options', 'Object', options);\n    }\n\n    var message = options.message,\n        operator = options.operator,\n        stackStartFn = options.stackStartFn;\n    var actual = options.actual,\n        expected = options.expected;\n    var limit = Error.stackTraceLimit;\n    Error.stackTraceLimit = 0;\n\n    if (message != null) {\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, String(message)));\n    } else {\n      if (process.stderr && process.stderr.isTTY) {\n        // Reset on each call to make sure we handle dynamically set environment\n        // variables correct.\n        if (process.stderr && process.stderr.getColorDepth && process.stderr.getColorDepth() !== 1) {\n          blue = \"\\x1B[34m\";\n          green = \"\\x1B[32m\";\n          white = \"\\x1B[39m\";\n          red = \"\\x1B[31m\";\n        } else {\n          blue = '';\n          green = '';\n          white = '';\n          red = '';\n        }\n      } // Prevent the error stack from being visible by duplicating the error\n      // in a very close way to the original in case both sides are actually\n      // instances of Error.\n\n\n      if (_typeof(actual) === 'object' && actual !== null && _typeof(expected) === 'object' && expected !== null && 'stack' in actual && actual instanceof Error && 'stack' in expected && expected instanceof Error) {\n        actual = copyError(actual);\n        expected = copyError(expected);\n      }\n\n      if (operator === 'deepStrictEqual' || operator === 'strictEqual') {\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, createErrDiff(actual, expected, operator)));\n      } else if (operator === 'notDeepStrictEqual' || operator === 'notStrictEqual') {\n        // In case the objects are equal but the operator requires unequal, show\n        // the first object and say A equals B\n        var base = kReadableOperator[operator];\n        var res = inspectValue(actual).split('\\n'); // In case \"actual\" is an object, it should not be reference equal.\n\n        if (operator === 'notStrictEqual' && _typeof(actual) === 'object' && actual !== null) {\n          base = kReadableOperator.notStrictEqualObject;\n        } // Only remove lines in case it makes sense to collapse those.\n        // TODO: Accept env to always show the full error.\n\n\n        if (res.length > 30) {\n          res[26] = \"\".concat(blue, \"...\").concat(white);\n\n          while (res.length > 27) {\n            res.pop();\n          }\n        } // Only print a single input.\n\n\n        if (res.length === 1) {\n          _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, \"\".concat(base, \" \").concat(res[0])));\n        } else {\n          _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, \"\".concat(base, \"\\n\\n\").concat(res.join('\\n'), \"\\n\")));\n        }\n      } else {\n        var _res = inspectValue(actual);\n\n        var other = '';\n        var knownOperators = kReadableOperator[operator];\n\n        if (operator === 'notDeepEqual' || operator === 'notEqual') {\n          _res = \"\".concat(kReadableOperator[operator], \"\\n\\n\").concat(_res);\n\n          if (_res.length > 1024) {\n            _res = \"\".concat(_res.slice(0, 1021), \"...\");\n          }\n        } else {\n          other = \"\".concat(inspectValue(expected));\n\n          if (_res.length > 512) {\n            _res = \"\".concat(_res.slice(0, 509), \"...\");\n          }\n\n          if (other.length > 512) {\n            other = \"\".concat(other.slice(0, 509), \"...\");\n          }\n\n          if (operator === 'deepEqual' || operator === 'equal') {\n            _res = \"\".concat(knownOperators, \"\\n\\n\").concat(_res, \"\\n\\nshould equal\\n\\n\");\n          } else {\n            other = \" \".concat(operator, \" \").concat(other);\n          }\n        }\n\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, \"\".concat(_res).concat(other)));\n      }\n    }\n\n    Error.stackTraceLimit = limit;\n    _this.generatedMessage = !message;\n    Object.defineProperty(_assertThisInitialized(_this), 'name', {\n      value: 'AssertionError [ERR_ASSERTION]',\n      enumerable: false,\n      writable: true,\n      configurable: true\n    });\n    _this.code = 'ERR_ASSERTION';\n    _this.actual = actual;\n    _this.expected = expected;\n    _this.operator = operator;\n\n    if (Error.captureStackTrace) {\n      // eslint-disable-next-line no-restricted-syntax\n      Error.captureStackTrace(_assertThisInitialized(_this), stackStartFn);\n    } // Create error message including the error code in the name.\n\n\n    _this.stack; // Reset the name.\n\n    _this.name = 'AssertionError';\n    return _possibleConstructorReturn(_this);\n  }\n\n  _createClass(AssertionError, [{\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(this.name, \" [\").concat(this.code, \"]: \").concat(this.message);\n    }\n  }, {\n    key: inspect.custom,\n    value: function value(recurseTimes, ctx) {\n      // This limits the `actual` and `expected` property default inspection to\n      // the minimum depth. Otherwise those values would be too verbose compared\n      // to the actual error message which contains a combined view of these two\n      // input values.\n      return inspect(this, _objectSpread({}, ctx, {\n        customInspect: false,\n        depth: 0\n      }));\n    }\n  }]);\n\n  return AssertionError;\n}(_wrapNativeSuper(Error));\n\nmodule.exports = AssertionError;","/**\n * Code refactored from Mozilla Developer Network:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n */\n\n'use strict';\n\nfunction assign(target, firstSource) {\n  if (target === undefined || target === null) {\n    throw new TypeError('Cannot convert first argument to object');\n  }\n\n  var to = Object(target);\n  for (var i = 1; i < arguments.length; i++) {\n    var nextSource = arguments[i];\n    if (nextSource === undefined || nextSource === null) {\n      continue;\n    }\n\n    var keysArray = Object.keys(Object(nextSource));\n    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n      var nextKey = keysArray[nextIndex];\n      var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n      if (desc !== undefined && desc.enumerable) {\n        to[nextKey] = nextSource[nextKey];\n      }\n    }\n  }\n  return to;\n}\n\nfunction polyfill() {\n  if (!Object.assign) {\n    Object.defineProperty(Object, 'assign', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: assign\n    });\n  }\n}\n\nmodule.exports = {\n  assign: assign,\n  polyfill: polyfill\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar callBind = require('call-bind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = callBind(getPolyfill(), Object);\n\ndefine(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n","'use strict';\n\nvar keys = require('object-keys');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar origDefineProperty = Object.defineProperty;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar arePropertyDescriptorsSupported = function () {\n\tvar obj = {};\n\ttry {\n\t\torigDefineProperty(obj, 'x', { enumerable: false, value: obj });\n\t\t// eslint-disable-next-line no-unused-vars, no-restricted-syntax\n\t\tfor (var _ in obj) { // jscs:ignore disallowUnusedVariables\n\t\t\treturn false;\n\t\t}\n\t\treturn obj.x === obj;\n\t} catch (e) { /* this is IE 8. */\n\t\treturn false;\n\t}\n};\nvar supportsDescriptors = origDefineProperty && arePropertyDescriptorsSupported();\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object && (!isFunction(predicate) || !predicate())) {\n\t\treturn;\n\t}\n\tif (supportsDescriptors) {\n\t\torigDefineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value;\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = concat.call(props, Object.getOwnPropertySymbols(map));\n\t}\n\tfor (var i = 0; i < props.length; i += 1) {\n\t\tdefineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n\t}\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar numberIsNaN = function (value) {\n\treturn value !== value;\n};\n\nmodule.exports = function is(a, b) {\n\tif (a === 0 && b === 0) {\n\t\treturn 1 / a === 1 / b;\n\t}\n\tif (a === b) {\n\t\treturn true;\n\t}\n\tif (numberIsNaN(a) && numberIsNaN(b)) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\treturn typeof Object.is === 'function' ? Object.is : implementation;\n};\n","'use strict';\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimObjectIs() {\n\tvar polyfill = getPolyfill();\n\tdefine(Object, { is: polyfill }, {\n\t\tis: function testObjectIs() {\n\t\t\treturn Object.is !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","// Currently in sync with Node.js lib/internal/util/comparisons.js\n// https://github.com/nodejs/node/commit/112cc7c27551254aa2b17098fb774867f05ed0d9\n'use strict';\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar regexFlagsSupported = /a/g.flags !== undefined;\n\nvar arrayFromSet = function arrayFromSet(set) {\n  var array = [];\n  set.forEach(function (value) {\n    return array.push(value);\n  });\n  return array;\n};\n\nvar arrayFromMap = function arrayFromMap(map) {\n  var array = [];\n  map.forEach(function (value, key) {\n    return array.push([key, value]);\n  });\n  return array;\n};\n\nvar objectIs = Object.is ? Object.is : require('object-is');\nvar objectGetOwnPropertySymbols = Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols : function () {\n  return [];\n};\nvar numberIsNaN = Number.isNaN ? Number.isNaN : require('is-nan');\n\nfunction uncurryThis(f) {\n  return f.call.bind(f);\n}\n\nvar hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\nvar propertyIsEnumerable = uncurryThis(Object.prototype.propertyIsEnumerable);\nvar objectToString = uncurryThis(Object.prototype.toString);\n\nvar _require$types = require('util/').types,\n    isAnyArrayBuffer = _require$types.isAnyArrayBuffer,\n    isArrayBufferView = _require$types.isArrayBufferView,\n    isDate = _require$types.isDate,\n    isMap = _require$types.isMap,\n    isRegExp = _require$types.isRegExp,\n    isSet = _require$types.isSet,\n    isNativeError = _require$types.isNativeError,\n    isBoxedPrimitive = _require$types.isBoxedPrimitive,\n    isNumberObject = _require$types.isNumberObject,\n    isStringObject = _require$types.isStringObject,\n    isBooleanObject = _require$types.isBooleanObject,\n    isBigIntObject = _require$types.isBigIntObject,\n    isSymbolObject = _require$types.isSymbolObject,\n    isFloat32Array = _require$types.isFloat32Array,\n    isFloat64Array = _require$types.isFloat64Array;\n\nfunction isNonIndex(key) {\n  if (key.length === 0 || key.length > 10) return true;\n\n  for (var i = 0; i < key.length; i++) {\n    var code = key.charCodeAt(i);\n    if (code < 48 || code > 57) return true;\n  } // The maximum size for an array is 2 ** 32 -1.\n\n\n  return key.length === 10 && key >= Math.pow(2, 32);\n}\n\nfunction getOwnNonIndexProperties(value) {\n  return Object.keys(value).filter(isNonIndex).concat(objectGetOwnPropertySymbols(value).filter(Object.prototype.propertyIsEnumerable.bind(value)));\n} // Taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\n\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n\n  if (y < x) {\n    return 1;\n  }\n\n  return 0;\n}\n\nvar ONLY_ENUMERABLE = undefined;\nvar kStrict = true;\nvar kLoose = false;\nvar kNoIterator = 0;\nvar kIsArray = 1;\nvar kIsSet = 2;\nvar kIsMap = 3; // Check if they have the same source and flags\n\nfunction areSimilarRegExps(a, b) {\n  return regexFlagsSupported ? a.source === b.source && a.flags === b.flags : RegExp.prototype.toString.call(a) === RegExp.prototype.toString.call(b);\n}\n\nfunction areSimilarFloatArrays(a, b) {\n  if (a.byteLength !== b.byteLength) {\n    return false;\n  }\n\n  for (var offset = 0; offset < a.byteLength; offset++) {\n    if (a[offset] !== b[offset]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction areSimilarTypedArrays(a, b) {\n  if (a.byteLength !== b.byteLength) {\n    return false;\n  }\n\n  return compare(new Uint8Array(a.buffer, a.byteOffset, a.byteLength), new Uint8Array(b.buffer, b.byteOffset, b.byteLength)) === 0;\n}\n\nfunction areEqualArrayBuffers(buf1, buf2) {\n  return buf1.byteLength === buf2.byteLength && compare(new Uint8Array(buf1), new Uint8Array(buf2)) === 0;\n}\n\nfunction isEqualBoxedPrimitive(val1, val2) {\n  if (isNumberObject(val1)) {\n    return isNumberObject(val2) && objectIs(Number.prototype.valueOf.call(val1), Number.prototype.valueOf.call(val2));\n  }\n\n  if (isStringObject(val1)) {\n    return isStringObject(val2) && String.prototype.valueOf.call(val1) === String.prototype.valueOf.call(val2);\n  }\n\n  if (isBooleanObject(val1)) {\n    return isBooleanObject(val2) && Boolean.prototype.valueOf.call(val1) === Boolean.prototype.valueOf.call(val2);\n  }\n\n  if (isBigIntObject(val1)) {\n    return isBigIntObject(val2) && BigInt.prototype.valueOf.call(val1) === BigInt.prototype.valueOf.call(val2);\n  }\n\n  return isSymbolObject(val2) && Symbol.prototype.valueOf.call(val1) === Symbol.prototype.valueOf.call(val2);\n} // Notes: Type tags are historical [[Class]] properties that can be set by\n// FunctionTemplate::SetClassName() in C++ or Symbol.toStringTag in JS\n// and retrieved using Object.prototype.toString.call(obj) in JS\n// See https://tc39.github.io/ecma262/#sec-object.prototype.tostring\n// for a list of tags pre-defined in the spec.\n// There are some unspecified tags in the wild too (e.g. typed array tags).\n// Since tags can be altered, they only serve fast failures\n//\n// Typed arrays and buffers are checked by comparing the content in their\n// underlying ArrayBuffer. This optimization requires that it's\n// reasonable to interpret their underlying memory in the same way,\n// which is checked by comparing their type tags.\n// (e.g. a Uint8Array and a Uint16Array with the same memory content\n// could still be different because they will be interpreted differently).\n//\n// For strict comparison, objects should have\n// a) The same built-in type tags\n// b) The same prototypes.\n\n\nfunction innerDeepEqual(val1, val2, strict, memos) {\n  // All identical values are equivalent, as determined by ===.\n  if (val1 === val2) {\n    if (val1 !== 0) return true;\n    return strict ? objectIs(val1, val2) : true;\n  } // Check more closely if val1 and val2 are equal.\n\n\n  if (strict) {\n    if (_typeof(val1) !== 'object') {\n      return typeof val1 === 'number' && numberIsNaN(val1) && numberIsNaN(val2);\n    }\n\n    if (_typeof(val2) !== 'object' || val1 === null || val2 === null) {\n      return false;\n    }\n\n    if (Object.getPrototypeOf(val1) !== Object.getPrototypeOf(val2)) {\n      return false;\n    }\n  } else {\n    if (val1 === null || _typeof(val1) !== 'object') {\n      if (val2 === null || _typeof(val2) !== 'object') {\n        // eslint-disable-next-line eqeqeq\n        return val1 == val2;\n      }\n\n      return false;\n    }\n\n    if (val2 === null || _typeof(val2) !== 'object') {\n      return false;\n    }\n  }\n\n  var val1Tag = objectToString(val1);\n  var val2Tag = objectToString(val2);\n\n  if (val1Tag !== val2Tag) {\n    return false;\n  }\n\n  if (Array.isArray(val1)) {\n    // Check for sparse arrays and general fast path\n    if (val1.length !== val2.length) {\n      return false;\n    }\n\n    var keys1 = getOwnNonIndexProperties(val1, ONLY_ENUMERABLE);\n    var keys2 = getOwnNonIndexProperties(val2, ONLY_ENUMERABLE);\n\n    if (keys1.length !== keys2.length) {\n      return false;\n    }\n\n    return keyCheck(val1, val2, strict, memos, kIsArray, keys1);\n  } // [browserify] This triggers on certain types in IE (Map/Set) so we don't\n  // wan't to early return out of the rest of the checks. However we can check\n  // if the second value is one of these values and the first isn't.\n\n\n  if (val1Tag === '[object Object]') {\n    // return keyCheck(val1, val2, strict, memos, kNoIterator);\n    if (!isMap(val1) && isMap(val2) || !isSet(val1) && isSet(val2)) {\n      return false;\n    }\n  }\n\n  if (isDate(val1)) {\n    if (!isDate(val2) || Date.prototype.getTime.call(val1) !== Date.prototype.getTime.call(val2)) {\n      return false;\n    }\n  } else if (isRegExp(val1)) {\n    if (!isRegExp(val2) || !areSimilarRegExps(val1, val2)) {\n      return false;\n    }\n  } else if (isNativeError(val1) || val1 instanceof Error) {\n    // Do not compare the stack as it might differ even though the error itself\n    // is otherwise identical.\n    if (val1.message !== val2.message || val1.name !== val2.name) {\n      return false;\n    }\n  } else if (isArrayBufferView(val1)) {\n    if (!strict && (isFloat32Array(val1) || isFloat64Array(val1))) {\n      if (!areSimilarFloatArrays(val1, val2)) {\n        return false;\n      }\n    } else if (!areSimilarTypedArrays(val1, val2)) {\n      return false;\n    } // Buffer.compare returns true, so val1.length === val2.length. If they both\n    // only contain numeric keys, we don't need to exam further than checking\n    // the symbols.\n\n\n    var _keys = getOwnNonIndexProperties(val1, ONLY_ENUMERABLE);\n\n    var _keys2 = getOwnNonIndexProperties(val2, ONLY_ENUMERABLE);\n\n    if (_keys.length !== _keys2.length) {\n      return false;\n    }\n\n    return keyCheck(val1, val2, strict, memos, kNoIterator, _keys);\n  } else if (isSet(val1)) {\n    if (!isSet(val2) || val1.size !== val2.size) {\n      return false;\n    }\n\n    return keyCheck(val1, val2, strict, memos, kIsSet);\n  } else if (isMap(val1)) {\n    if (!isMap(val2) || val1.size !== val2.size) {\n      return false;\n    }\n\n    return keyCheck(val1, val2, strict, memos, kIsMap);\n  } else if (isAnyArrayBuffer(val1)) {\n    if (!areEqualArrayBuffers(val1, val2)) {\n      return false;\n    }\n  } else if (isBoxedPrimitive(val1) && !isEqualBoxedPrimitive(val1, val2)) {\n    return false;\n  }\n\n  return keyCheck(val1, val2, strict, memos, kNoIterator);\n}\n\nfunction getEnumerables(val, keys) {\n  return keys.filter(function (k) {\n    return propertyIsEnumerable(val, k);\n  });\n}\n\nfunction keyCheck(val1, val2, strict, memos, iterationType, aKeys) {\n  // For all remaining Object pairs, including Array, objects and Maps,\n  // equivalence is determined by having:\n  // a) The same number of owned enumerable properties\n  // b) The same set of keys/indexes (although not necessarily the same order)\n  // c) Equivalent values for every corresponding key/index\n  // d) For Sets and Maps, equal contents\n  // Note: this accounts for both named and indexed properties on Arrays.\n  if (arguments.length === 5) {\n    aKeys = Object.keys(val1);\n    var bKeys = Object.keys(val2); // The pair must have the same number of owned properties.\n\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n  } // Cheap key test\n\n\n  var i = 0;\n\n  for (; i < aKeys.length; i++) {\n    if (!hasOwnProperty(val2, aKeys[i])) {\n      return false;\n    }\n  }\n\n  if (strict && arguments.length === 5) {\n    var symbolKeysA = objectGetOwnPropertySymbols(val1);\n\n    if (symbolKeysA.length !== 0) {\n      var count = 0;\n\n      for (i = 0; i < symbolKeysA.length; i++) {\n        var key = symbolKeysA[i];\n\n        if (propertyIsEnumerable(val1, key)) {\n          if (!propertyIsEnumerable(val2, key)) {\n            return false;\n          }\n\n          aKeys.push(key);\n          count++;\n        } else if (propertyIsEnumerable(val2, key)) {\n          return false;\n        }\n      }\n\n      var symbolKeysB = objectGetOwnPropertySymbols(val2);\n\n      if (symbolKeysA.length !== symbolKeysB.length && getEnumerables(val2, symbolKeysB).length !== count) {\n        return false;\n      }\n    } else {\n      var _symbolKeysB = objectGetOwnPropertySymbols(val2);\n\n      if (_symbolKeysB.length !== 0 && getEnumerables(val2, _symbolKeysB).length !== 0) {\n        return false;\n      }\n    }\n  }\n\n  if (aKeys.length === 0 && (iterationType === kNoIterator || iterationType === kIsArray && val1.length === 0 || val1.size === 0)) {\n    return true;\n  } // Use memos to handle cycles.\n\n\n  if (memos === undefined) {\n    memos = {\n      val1: new Map(),\n      val2: new Map(),\n      position: 0\n    };\n  } else {\n    // We prevent up to two map.has(x) calls by directly retrieving the value\n    // and checking for undefined. The map can only contain numbers, so it is\n    // safe to check for undefined only.\n    var val2MemoA = memos.val1.get(val1);\n\n    if (val2MemoA !== undefined) {\n      var val2MemoB = memos.val2.get(val2);\n\n      if (val2MemoB !== undefined) {\n        return val2MemoA === val2MemoB;\n      }\n    }\n\n    memos.position++;\n  }\n\n  memos.val1.set(val1, memos.position);\n  memos.val2.set(val2, memos.position);\n  var areEq = objEquiv(val1, val2, strict, aKeys, memos, iterationType);\n  memos.val1.delete(val1);\n  memos.val2.delete(val2);\n  return areEq;\n}\n\nfunction setHasEqualElement(set, val1, strict, memo) {\n  // Go looking.\n  var setValues = arrayFromSet(set);\n\n  for (var i = 0; i < setValues.length; i++) {\n    var val2 = setValues[i];\n\n    if (innerDeepEqual(val1, val2, strict, memo)) {\n      // Remove the matching element to make sure we do not check that again.\n      set.delete(val2);\n      return true;\n    }\n  }\n\n  return false;\n} // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness#Loose_equality_using\n// Sadly it is not possible to detect corresponding values properly in case the\n// type is a string, number, bigint or boolean. The reason is that those values\n// can match lots of different string values (e.g., 1n == '+00001').\n\n\nfunction findLooseMatchingPrimitives(prim) {\n  switch (_typeof(prim)) {\n    case 'undefined':\n      return null;\n\n    case 'object':\n      // Only pass in null as object!\n      return undefined;\n\n    case 'symbol':\n      return false;\n\n    case 'string':\n      prim = +prim;\n    // Loose equal entries exist only if the string is possible to convert to\n    // a regular number and not NaN.\n    // Fall through\n\n    case 'number':\n      if (numberIsNaN(prim)) {\n        return false;\n      }\n\n  }\n\n  return true;\n}\n\nfunction setMightHaveLoosePrim(a, b, prim) {\n  var altValue = findLooseMatchingPrimitives(prim);\n  if (altValue != null) return altValue;\n  return b.has(altValue) && !a.has(altValue);\n}\n\nfunction mapMightHaveLoosePrim(a, b, prim, item, memo) {\n  var altValue = findLooseMatchingPrimitives(prim);\n\n  if (altValue != null) {\n    return altValue;\n  }\n\n  var curB = b.get(altValue);\n\n  if (curB === undefined && !b.has(altValue) || !innerDeepEqual(item, curB, false, memo)) {\n    return false;\n  }\n\n  return !a.has(altValue) && innerDeepEqual(item, curB, false, memo);\n}\n\nfunction setEquiv(a, b, strict, memo) {\n  // This is a lazily initiated Set of entries which have to be compared\n  // pairwise.\n  var set = null;\n  var aValues = arrayFromSet(a);\n\n  for (var i = 0; i < aValues.length; i++) {\n    var val = aValues[i]; // Note: Checking for the objects first improves the performance for object\n    // heavy sets but it is a minor slow down for primitives. As they are fast\n    // to check this improves the worst case scenario instead.\n\n    if (_typeof(val) === 'object' && val !== null) {\n      if (set === null) {\n        set = new Set();\n      } // If the specified value doesn't exist in the second set its an not null\n      // object (or non strict only: a not matching primitive) we'll need to go\n      // hunting for something thats deep-(strict-)equal to it. To make this\n      // O(n log n) complexity we have to copy these values in a new set first.\n\n\n      set.add(val);\n    } else if (!b.has(val)) {\n      if (strict) return false; // Fast path to detect missing string, symbol, undefined and null values.\n\n      if (!setMightHaveLoosePrim(a, b, val)) {\n        return false;\n      }\n\n      if (set === null) {\n        set = new Set();\n      }\n\n      set.add(val);\n    }\n  }\n\n  if (set !== null) {\n    var bValues = arrayFromSet(b);\n\n    for (var _i = 0; _i < bValues.length; _i++) {\n      var _val = bValues[_i]; // We have to check if a primitive value is already\n      // matching and only if it's not, go hunting for it.\n\n      if (_typeof(_val) === 'object' && _val !== null) {\n        if (!setHasEqualElement(set, _val, strict, memo)) return false;\n      } else if (!strict && !a.has(_val) && !setHasEqualElement(set, _val, strict, memo)) {\n        return false;\n      }\n    }\n\n    return set.size === 0;\n  }\n\n  return true;\n}\n\nfunction mapHasEqualEntry(set, map, key1, item1, strict, memo) {\n  // To be able to handle cases like:\n  //   Map([[{}, 'a'], [{}, 'b']]) vs Map([[{}, 'b'], [{}, 'a']])\n  // ... we need to consider *all* matching keys, not just the first we find.\n  var setValues = arrayFromSet(set);\n\n  for (var i = 0; i < setValues.length; i++) {\n    var key2 = setValues[i];\n\n    if (innerDeepEqual(key1, key2, strict, memo) && innerDeepEqual(item1, map.get(key2), strict, memo)) {\n      set.delete(key2);\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction mapEquiv(a, b, strict, memo) {\n  var set = null;\n  var aEntries = arrayFromMap(a);\n\n  for (var i = 0; i < aEntries.length; i++) {\n    var _aEntries$i = _slicedToArray(aEntries[i], 2),\n        key = _aEntries$i[0],\n        item1 = _aEntries$i[1];\n\n    if (_typeof(key) === 'object' && key !== null) {\n      if (set === null) {\n        set = new Set();\n      }\n\n      set.add(key);\n    } else {\n      // By directly retrieving the value we prevent another b.has(key) check in\n      // almost all possible cases.\n      var item2 = b.get(key);\n\n      if (item2 === undefined && !b.has(key) || !innerDeepEqual(item1, item2, strict, memo)) {\n        if (strict) return false; // Fast path to detect missing string, symbol, undefined and null\n        // keys.\n\n        if (!mapMightHaveLoosePrim(a, b, key, item1, memo)) return false;\n\n        if (set === null) {\n          set = new Set();\n        }\n\n        set.add(key);\n      }\n    }\n  }\n\n  if (set !== null) {\n    var bEntries = arrayFromMap(b);\n\n    for (var _i2 = 0; _i2 < bEntries.length; _i2++) {\n      var _bEntries$_i = _slicedToArray(bEntries[_i2], 2),\n          key = _bEntries$_i[0],\n          item = _bEntries$_i[1];\n\n      if (_typeof(key) === 'object' && key !== null) {\n        if (!mapHasEqualEntry(set, a, key, item, strict, memo)) return false;\n      } else if (!strict && (!a.has(key) || !innerDeepEqual(a.get(key), item, false, memo)) && !mapHasEqualEntry(set, a, key, item, false, memo)) {\n        return false;\n      }\n    }\n\n    return set.size === 0;\n  }\n\n  return true;\n}\n\nfunction objEquiv(a, b, strict, keys, memos, iterationType) {\n  // Sets and maps don't have their entries accessible via normal object\n  // properties.\n  var i = 0;\n\n  if (iterationType === kIsSet) {\n    if (!setEquiv(a, b, strict, memos)) {\n      return false;\n    }\n  } else if (iterationType === kIsMap) {\n    if (!mapEquiv(a, b, strict, memos)) {\n      return false;\n    }\n  } else if (iterationType === kIsArray) {\n    for (; i < a.length; i++) {\n      if (hasOwnProperty(a, i)) {\n        if (!hasOwnProperty(b, i) || !innerDeepEqual(a[i], b[i], strict, memos)) {\n          return false;\n        }\n      } else if (hasOwnProperty(b, i)) {\n        return false;\n      } else {\n        // Array is sparse.\n        var keysA = Object.keys(a);\n\n        for (; i < keysA.length; i++) {\n          var key = keysA[i];\n\n          if (!hasOwnProperty(b, key) || !innerDeepEqual(a[key], b[key], strict, memos)) {\n            return false;\n          }\n        }\n\n        if (keysA.length !== Object.keys(b).length) {\n          return false;\n        }\n\n        return true;\n      }\n    }\n  } // The pair must have equivalent values for every corresponding key.\n  // Possibly expensive deep test:\n\n\n  for (i = 0; i < keys.length; i++) {\n    var _key = keys[i];\n\n    if (!innerDeepEqual(a[_key], b[_key], strict, memos)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction isDeepEqual(val1, val2) {\n  return innerDeepEqual(val1, val2, kLoose);\n}\n\nfunction isDeepStrictEqual(val1, val2) {\n  return innerDeepEqual(val1, val2, kStrict);\n}\n\nmodule.exports = {\n  isDeepEqual: isDeepEqual,\n  isDeepStrictEqual: isDeepStrictEqual\n};","'use strict';\n\nvar callBind = require('call-bind');\nvar define = require('define-properties');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = callBind(getPolyfill(), Number);\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\ndefine(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n","'use strict';\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\nmodule.exports = function isNaN(value) {\n\treturn value !== value;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\tif (Number.isNaN && Number.isNaN(NaN) && !Number.isNaN('a')) {\n\t\treturn Number.isNaN;\n\t}\n\treturn implementation;\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar getPolyfill = require('./polyfill');\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\nmodule.exports = function shimNumberIsNaN() {\n\tvar polyfill = getPolyfill();\n\tdefine(Number, { isNaN: polyfill }, {\n\t\tisNaN: function testIsNaN() {\n\t\t\treturn Number.isNaN !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","const Selector = {\n  CUSTOMFILE: '.custom-file input[type=\"file\"]',\n  CUSTOMFILELABEL: '.custom-file-label',\n  FORM: 'form',\n  INPUT: 'input',\n}\n\nexport default Selector\n","import Selector from './selector'\n\nconst textNodeType = 3\nconst getDefaultText = (input) => {\n  let defaultText = ''\n\n  const label = input.parentNode.querySelector(Selector.CUSTOMFILELABEL)\n\n  if (label) {\n    defaultText = label.textContent\n  }\n\n  return defaultText\n}\n\nconst findFirstChildNode = (element) => {\n  if (element.childNodes.length > 0) {\n    const childNodes = [].slice.call(element.childNodes)\n\n    for (let i = 0; i < childNodes.length; i++) {\n      const node = childNodes[i]\n      if (node.nodeType !== textNodeType) {\n        return node\n      }\n    }\n  }\n\n  return element\n}\n\nconst restoreDefaultText = (input) => {\n  const defaultText = input.bsCustomFileInput.defaultText\n  const label = input.parentNode.querySelector(Selector.CUSTOMFILELABEL)\n\n  if (label) {\n    const element = findFirstChildNode(label)\n\n    element.textContent = defaultText\n  }\n}\n\nexport {\n  getDefaultText,\n  findFirstChildNode,\n  restoreDefaultText,\n}\n","import { findFirstChildNode, restoreDefaultText } from './util'\nimport Selector from './selector'\n\nconst fileApi = !!window.File\nconst FAKE_PATH = 'fakepath'\nconst FAKE_PATH_SEPARATOR = '\\\\'\n\nconst getSelectedFiles = (input) => {\n  if (input.hasAttribute('multiple') && fileApi) {\n    return [].slice.call(input.files)\n      .map((file) => file.name)\n      .join(', ')\n  }\n\n  if (input.value.indexOf(FAKE_PATH) !== -1) {\n    const splittedValue = input.value.split(FAKE_PATH_SEPARATOR)\n\n    return splittedValue[splittedValue.length - 1]\n  }\n\n  return input.value\n}\n\nfunction handleInputChange() {\n  const label = this.parentNode.querySelector(Selector.CUSTOMFILELABEL)\n\n  if (label) {\n    const element = findFirstChildNode(label)\n    const inputValue = getSelectedFiles(this)\n\n    if (inputValue.length) {\n      element.textContent = inputValue\n    } else {\n      restoreDefaultText(this)\n    }\n  }\n}\n\nfunction handleFormReset() {\n  const customFileList = [].slice.call(this.querySelectorAll(Selector.INPUT))\n    .filter((input) => !!input.bsCustomFileInput)\n\n  for (let i = 0, len = customFileList.length; i < len; i++) {\n    restoreDefaultText(customFileList[i])\n  }\n}\n\nexport {\n  handleInputChange,\n  handleFormReset,\n}\n","import { getDefaultText, restoreDefaultText } from './util'\nimport { handleFormReset, handleInputChange } from './eventHandlers'\nimport Selector from './selector'\n\nconst customProperty = 'bsCustomFileInput'\nconst Event = {\n  FORMRESET   : 'reset',\n  INPUTCHANGE : 'change',\n}\n\nconst bsCustomFileInput = {\n  init(inputSelector = Selector.CUSTOMFILE, formSelector = Selector.FORM) {\n    const customFileInputList = [].slice.call(document.querySelectorAll(inputSelector))\n    const formList = [].slice.call(document.querySelectorAll(formSelector))\n\n    for (let i = 0, len = customFileInputList.length; i < len; i++) {\n      const input = customFileInputList[i]\n\n      Object.defineProperty(input, customProperty, {\n        value: {\n          defaultText: getDefaultText(input),\n        },\n        writable: true,\n      })\n\n      handleInputChange.call(input)\n      input.addEventListener(Event.INPUTCHANGE, handleInputChange)\n    }\n\n    for (let i = 0, len = formList.length; i < len; i++) {\n      formList[i].addEventListener(Event.FORMRESET, handleFormReset)\n      Object.defineProperty(formList[i], customProperty, {\n        value: true,\n        writable: true,\n      })\n    }\n  },\n\n  destroy() {\n    const formList = [].slice.call(document.querySelectorAll(Selector.FORM))\n      .filter((form) => !!form.bsCustomFileInput)\n    const customFileInputList = [].slice.call(document.querySelectorAll(Selector.INPUT))\n      .filter((input) => !!input.bsCustomFileInput)\n\n    for (let i = 0, len = customFileInputList.length; i < len; i++) {\n      const input = customFileInputList[i]\n\n      restoreDefaultText(input)\n      input[customProperty] = undefined\n\n      input.removeEventListener(Event.INPUTCHANGE, handleInputChange)\n    }\n\n    for (let i = 0, len = formList.length; i < len; i++) {\n      formList[i].removeEventListener(Event.FORMRESET, handleFormReset)\n      formList[i][customProperty] = undefined\n    }\n  },\n}\n\nexport default bsCustomFileInput\n","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nvar isMacOSWebView = _global.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n","import bsCustomFileInput from 'bs-custom-file-input';\nimport { convertImageBlob } from '../lib/convert';\nimport { ImageMode, ImageModeUtil, OutputMode, BINARY_FORMAT_PREFIX } from '../lib/enums';\nimport { saveAs } from 'file-saver';\nimport { resolve } from 'path';\nimport { rejects } from 'assert';\n\nfunction updateNameTextboxes() {\n    const input = $(\"#customFile\")[0];\n    const $nameContainer = $(\".name-container\");\n    const numExistingFields = $nameContainer.children().length;\n    const totalLength = Math.max(numExistingFields, input.files.length);\n    for(var i = 0; i < totalLength; i++) {\n        if(i >= numExistingFields)\n            $nameContainer.append(`<input type=\"text\" name=\"name${i}\" id=\"name${i}\" class=\"form-control\" placeholder=\"Variable name of image ${i+1}\" style=\"height:unset\">`);\n        else if(i >= input.files.length) {\n            $nameContainer.get(0).removeChild($nameContainer.children().get(i));\n        }\n    }\n    $(\".name-row\").css(\"display\", input.files.length > 0 ? \"\" : \"none\");\n}\n\nfunction updateListedBinaryFormats() {\n    const needBinaryFormat = ImageModeUtil.isTrueColor($(\"#cf\").val());\n    $(\"#format\").children(\"option\").each(function() {\n        if(!$(this).val().startsWith(\"bin\")) {\n            /* bail out if not binary format */\n            return;\n        }\n        if($(this).val().startsWith(\"bin_\")) {\n            /* has color code afterward */\n            $(this).prop(\"disabled\", !needBinaryFormat);\n            $(this).prop(\"hidden\", !needBinaryFormat);\n        } else {\n            /* has no color code */\n            $(this).prop(\"disabled\", needBinaryFormat);\n            $(this).prop(\"hidden\", needBinaryFormat);\n        }\n    });\n    /* Don't allow using disabled options */\n    if($(\"#format option:selected\").prop(\"disabled\"))\n        $(\"#format\").val(\"c_array\");\n}\n\n$(document).ready(function () {\n    bsCustomFileInput.init();\n    updateNameTextboxes();\n    updateListedBinaryFormats();\n});\n\n$(\"#customFile\").change(updateNameTextboxes);\n$(\"#cf\").on(\"change\", updateListedBinaryFormats);\n\n$(\"#format\").on(\"change\", function() {\n    const needsDisable = $(\"#format\").val() != \"c_array\";\n    if(needsDisable)\n        $(\"endian-checkbox\").prop(\"checked\", false);\n    $(\"#endian-checkbox\").prop(\"disabled\", needsDisable);\n})\n\n$(\"#convert-button\").on(\"click\", async() => {\n    $(\"#convert-button\").attr(\"disabled\", true);\n    /** @type {HTMLInputElement} */\n    const input = $(\"#customFile\")[0];\n    for(var i = 0; i < input.files.length; i++) {\n        const file = input.files[i];\n        if(file) {\n            const reader = new FileReader();\n            await new Promise((resolve, reject) => {\n                const outputType = $(\"#format\").val();\n                let outputMode, binaryFormat;\n                const requestedCf = ImageMode[$(\"#cf\").val()];\n                if(outputType == \"c_array\")\n                    outputMode = OutputMode.C;\n                else {\n                    outputMode = OutputMode.BIN;\n                    const needBinaryFormat = ImageModeUtil.isTrueColor(requestedCf);\n                    if(needBinaryFormat) {\n                        const binFormatRequest = BINARY_FORMAT_PREFIX + outputType.substring(4).toUpperCase();\n                        binaryFormat = ImageMode[binFormatRequest];\n                        if(typeof binaryFormat == 'undefined')\n                            throw new Error(\"Binary format not found: \" + binFormatRequest);\n                    }\n                }\n                async function doConvert(blob) {\n                    let imageName = $(\"#name\" + i).val();\n                    if (imageName == \"\") {\n                        imageName = file.name.split('.')[0];\n                    }\n\n                    const swapEndian = outputMode == OutputMode.C && document.querySelector(\"#endian-checkbox\").checked;\n                    const imageString = await convertImageBlob(blob, { cf: requestedCf, imageName: imageName, outName: imageName, swapEndian: swapEndian, outputFormat: outputMode, binaryFormat });\n                    console.log(imageString);\n                    var blob = new Blob([ imageString ], {\n                        type: outputMode == OutputMode.BIN ? \"binary/octet-stream\" : \"text/x-c;charset=utf-8\"\n                    });\n                    saveAs(blob, imageName + \".\" + (outputMode == OutputMode.BIN ? \"bin\" : \"c\"));\n                    resolve();\n                }\n                if($(\"#cf\").val().startsWith(\"CF_RAW\")) {\n                    reader.readAsArrayBuffer(file);\n                    reader.onload = function(e) {\n                        console.log(\"loaded\");\n                        /** @type {ArrayBuffer} */\n                        const buf = e.target.result;\n                        doConvert(new Uint8Array(buf));\n                    }\n                } else {\n                    reader.onload = function(e) {\n                        var image = new Image();\n                        image.onload = function() {\n                            console.log(\"loaded\");\n                            doConvert(image);\n                        };\n\n                        image.onerror = function(e) {\n                            reject(e);\n                        };\n                        image.src = e.target.result;\n                    }\n                    reader.readAsDataURL(file);\n                }\n            });\n        }\n    }\n    $(\"#convert-button\").removeAttr(\"disabled\");\n});\n\n/* FIXME: temporary hack to fix setImmediate issue */\nwindow.setImmediate = (fn) => setTimeout(fn, 0);\n"],"names":["Converter","getNumPasses","this","cf","$eASID","ImageMode","CF_RGB565A8","CF_RAW","CF_RAW_ALPHA","d_array","Array","from","imageData","raw_len","length","indent","options","useLegacyFooterOrder","numValuesPerRow","str","map","val","i","$gZ8lX","str_pad","dechex","join","substr","palette_size","CF_INDEXED_1_BIT","CF_INDEXED_2_BIT","CF_INDEXED_4_BIT","CF_INDEXED_8_BIT","d_out","pointContainer","$3e7ng","PointContainer","fromUint8Array","w","h","palette","$9I7Gb","buildPalette","colors","color_arr","palettePointArray","getPointContainer","getPointArray","paletteColors","point","uint32","i1","push","b","g","r","a","outPointArray","applyPalette","forEach","arrayIndex","index","indexOf","Error","oldColorFormat","needsFormatSwap","outputFormat","OutputMode","BIN","ImageModeUtil","isTrueColor","binaryFormat","pass","y","dith_reset","x","conv_px","C","format_to_c_array","$lv_cf","CF_TRUE_COLOR","CF_TRUE_COLOR_ALPHA","CF_TRUE_COLOR_CHROMA","CF_ALPHA_1_BIT","CF_ALPHA_2_BIT","CF_ALPHA_4_BIT","CF_ALPHA_8_BIT","$header_32bit","finalBinary","Uint8Array","buffer","get_c_header","out_name","$c_header","$attr_name","toUpperCase","$cf","CF_RAW_CHROMA","replace","get_c_footer","data_size","header_cf","imagemode_to_enum_name","array_push","arr","v","isset","undefined","startIndex","alpha","c","ICF_TRUE_COLOR_ARGB8565","ICF_TRUE_COLOR_ARGB8565_RBSWAP","ICF_TRUE_COLOR_ARGB8332","ICF_TRUE_COLOR_ARGB8888","dith_next","c8","r_act","g_act","b_act","c16","p","dith","r_nerr","g_nerr","b_nerr","r_earr","g_earr","b_earr","classify_pixel","round_half_up","value","bits","tmp","Math","round","c_array","y_end","x_end","swapEndian","chroma","isNotRaw","convertImageBlob","img","options1","c_res_array","bin_res_blob","outName","c_creator","ctx","$cQBfA","createCanvas","width","height","getContext","drawImage","getImageData","data","Promise","all","Object","assign","convert","binaryConv","imagePath","loadImage","eval","fs","readFileSync","$parcel$interopDefault","$1GKm7","parse","name","$d7ce71c8cce1433c$export$2e2bcd8739ae039","$95a73c886b82aa90$export$cd3d1f114b139967","$95a73c886b82aa90$export$fe58198efe02b173","document","createElement","src","resolve","reject","image","cleanup","onload","onerror","$d0575043b0bcf7b7$var$weightRe","RegExp","$d0575043b0bcf7b7$var$styleRe","$d0575043b0bcf7b7$var$variantRe","$d0575043b0bcf7b7$var$stretchRe","$d0575043b0bcf7b7$var$sizeFamilyRe","$d0575043b0bcf7b7$var$cache","module","exports","sizeFamily","exec","font","weight","style","stretch","variant","size","parseFloat","unit","family","substring","$13adabf8a7739a28$var$assertPath","path","TypeError","JSON","stringify","$13adabf8a7739a28$var$normalizeStringPosix","allowAboveRoot","code","res","lastSegmentLength","lastSlash","dots","charCodeAt","lastSlashIndex","lastIndexOf","slice","$13adabf8a7739a28$var$posix","cwd","resolvedPath","resolvedAbsolute","arguments","$1DUQ0","normalize","isAbsolute","trailingSeparator","joined","arg","relative","to","fromStart","fromEnd","fromLen","toStart","toLen","lastCommonSep","fromCode","out","_makeLong","dirname","hasRoot","end","matchedSlash","basename","ext","start","extIdx","firstNonSlashEnd","extname","startDot","startPart","preDotState","format","pathObject","sep","dir","root","base","$13adabf8a7739a28$var$_format","ret","delimiter","win32","posix","$132585caef1f13e2$var$cachedSetTimeout","$132585caef1f13e2$var$cachedClearTimeout","$132585caef1f13e2$var$process","$132585caef1f13e2$var$defaultSetTimout","$132585caef1f13e2$var$defaultClearTimeout","$132585caef1f13e2$var$runTimeout","fun","setTimeout","e","call","clearTimeout","e1","$132585caef1f13e2$var$currentQueue","$132585caef1f13e2$var$queue","$132585caef1f13e2$var$draining","$132585caef1f13e2$var$queueIndex","$132585caef1f13e2$var$cleanUpNextTick","concat","$132585caef1f13e2$var$drainQueue","timeout","len","run","marker","$132585caef1f13e2$var$runClearTimeout","$132585caef1f13e2$var$Item","array","$132585caef1f13e2$var$noop","nextTick","args","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","chdir","umask","$5eac276dc09d8c0a$export$8fdc94333f850fd0","$5eac276dc09d8c0a$export$270e6e36ebde1e15","mode","startsWith","$5eac276dc09d8c0a$export$98d0c6b2ee3d39ed","$5eac276dc09d8c0a$export$b8c05b486cf30566","$316651c34e85af58$export$8743009a87fcb00f","$316651c34e85af58$export$d141bba7fdc215a3","$316651c34e85af58$export$4a5767248b18ef41","$2c7e0274540f8011$var$correctGamma","n","$2c7e0274540f8011$export$fca6d690f89f5907","z","$8dcdfeec9a342a8a$export$b5ba70b240f8f7f","min","$gxy6k","min3","max","max3","delta","l","s","$335efa6a9ff05197$export$429f6664de4d6783","PI","$335efa6a9ff05197$export$22cda90bd12095a9","m","$335efa6a9ff05197$export$b393be5a551404be","$335efa6a9ff05197$export$6d279704a4749429","low","high","$335efa6a9ff05197$export$5eb0b6af50caf977","$335efa6a9ff05197$export$e89438c49214667d","$335efa6a9ff05197$export$c7d3d1f96a700512","arrayToSort","callback","type","sorted","ord","create","sort","ord2","$eedc416cc908a681$export$1cd42a60c721c525","xyz","$fwj5v","rgb2xyz","$fxEA8","xyz2lab","$b297486dc4cb0f55$var$pivot","$b297486dc4cb0f55$export$f80b0695d2cca109","L","$05cd3c15a93f1d55$var$pivot","$05cd3c15a93f1d55$export$b44d3ebc207ccb62","$be2119e984325cbc$var$correctGamma","$be2119e984325cbc$export$22cbacf088b0f5c6","inRange0to255Rounded","$111b593c14589cef$export$e7127f011d23e988","setWhitePoint","_whitePoint","_maxDistance","calculateRaw","calculateNormalized","colorA","colorB","_setDefaults","$bac07c061ef31bb5$export$e480508b99dd93a3","$86JV2","AbstractDistanceCalculator","r1","g1","b1","a1","r2","g2","b2","a2","lab1","$GsFdM","rgb2lab","inRange0to255","lab2","dL","dA","dB","c1","sqrt","dC","deltaH","dAlpha","_kA","_Kl","_K1","_K2","$bac07c061ef31bb5$export$81bb094e3f22633d","$bac07c061ef31bb5$export$ae7acddce86269cc","$1cd9646612a85ca1$export$6c017bfb366f2dbf","ap","hp","atan2","_deg360InRad","ahp","aCp","aCp_to_7","R_C","_pow25to7","delta_theta","_deg30InRad","exp","_deg275InRad","_deg25InRad","sin","cos","_deg6InRad","_deg63InRad","C1pC2p","h_bar","h1p","h2p","hpSum","_deg180InRad","dhp","dE2","calculateRawInLab","Lab1","Lab2","L1","L2","pow_a_C1_C2_to_7","G","a1p","a2p","C1p","C2p","_calculatehp","abs","dLp","dCp","dHp","_calculate_dHp","_calculate_ahp","aLp_minus_50_square","dCpSC","dHpSH","_calculateT","_calculateRT","degrees2radians","$f7e2434a0d8e6462$export$bc1dbe338b7db412","rmean","dE","$6215193c16174124$export$a7ed6210e4463398","dR","dG","_kR","_kG","_kB","$6215193c16174124$export$e6b4701be0d92392","$6215193c16174124$export$c91ee8fe7e1bae05","$6cFvP","Y","RED","GREEN","BLUE","$6215193c16174124$export$9f449413b7eb5250","$67f55dd68cb974c4$export$27a21b2cb0d08dcd","$67f55dd68cb974c4$export$629a80614180ea94","$67f55dd68cb974c4$export$87575544adca7156","$67f55dd68cb974c4$export$292f30b4313c8567","$1808a69cd0e10f85$export$7ec0afefac0284e7","alphas","_colordifferenceCh","black","white","$d568756f7b2b80b8$export$70df152740e2947f","quantizeSync","quantize","$3b33fecc17458bc6$var$Neuron","toPoint","$Jotol","Point","createByRGBA","subtract","defaultValue","$3b33fecc17458bc6$export$a14dcb64913a57eb","$lCcjo","AbstractPaletteQuantizer","sample","_pointArray","_init","_learn","_buildPalette","progress","_freq","_bias","_radPower","_network","_networkSize","$3b33fecc17458bc6$var$networkBiasShift","_initialBias","sampleFactor","_sampleFactor","pointsNumber","_minpicturebytes","alphadec","pointsToSample","step","_nCycles","_initAlpha","radius","_radiusBias","rad","_radiusBiasShift","_radBias","_prime1","_prime2","_prime3","_prime4","tracker","$bO8IN","ProgressTracker","pointIndex","shouldNotify","neuronIndex","_contest","_alterSingle","_alterNeighbour","_radiusDecrease","j","$lKIVa","Palette","neuron","add","al","lo","hi","k","_alphaRadBias","bestd","bestbiasd","bestpos","bestbiaspos","dist","_distance","biasdist","_initialBiasShift","betafreq","_betaShift","_gammaShift","_beta","_betaGamma","colorDistanceCalculator","super","_alphaBiasShift","_radBiasShift","_alphaRadBiasShift","$5a06f11ed509dfbb$export$364fbd678050ba26","hue","segmentsNumber","seg","mid","$5a06f11ed509dfbb$export$e2fbaa661ec19dbf","color","_pointContainer","setWidth","has","getNearestColor","_getNearestIndex","_nearestPointFromCache","key","_i32idx","idx","minimalDistance","Number","MAX_VALUE","distance","hslA","$hxFaO","rgb2hsl","hslB","hueA","hueDiff","lA","getLuminosity","lB","satDiff","$9HrsS","setHeight","$839bc814ee6535aa$export$aa228b91e9e8f5cb","getWidth","_width","getHeight","_height","clone","createByUint32","toUint32Array","uint32Array","Uint32Array","toUint8Array","naturalWidth","naturalHeight","canvas","fromHTMLCanvasElement","imgData","fromImageData","uint8Array","toString","fromUint32Array","container","byteOffset","byteLength","BYTES_PER_ELEMENT","$debe332a7d98444e$export$baf26146a414f24a","quadruplet","_loadUINT32","_loadQuadruplet","red","green","blue","_loadRGBA","rgba","useAlphaChannel","$8149854f5861870b$var$HueGroup","num","cols","$8149854f5861870b$export$332cee2a78692576","check","i32","_groupsFull","_numGroups","hg","hueGroup","gr","_stats","_minCols","injectIntoDictionary","histG","col","injectIntoArray","numGroups","minCols","$69449043e454cd01$export$50a55323bc54fb79","current","_last","_step","_progressRange","_range","valueRange","progressRange","steps","$7b727171aec5d1c0$var$NeuronFloat","$7b727171aec5d1c0$export$1ac44bf113e76a86","$7b727171aec5d1c0$var$networkBiasShift","$ae42abe8f94f75c5$var$RemovedColor","$ae42abe8f94f75c5$export$b4d1279f50c64a23","_histogram","idxi32","getImportanceSortedColorsIDXI32","colorArray","usageArray","memDist","palLen","thold","_initialDistance","_colors","pxi","pxj","_distanceIncrement","stableSort","colorIndex","method","$bsxJO","ColorHistogram","$41f496136b9d1143$export$4411783de4adca20","_method","_colorStats1D","_colorStats2D","keys","initialColorsLimit","_initColors","last","freq","pos","_hueStats","pointArray","boxW","_boxSize","boxH","area","boxes","_makeBoxes","box","effc","_boxPixels","histL","_iterateBox","bbox","wid","fn","i0","incr","cnt","stepX","stepY","wrem","hrem","xend","yend","boxesArray","_minHueCols","$8k51P","HueStatistics","_hueGroups","$12072f46db04a982$var$createArray1D","dimension1","$12072f46db04a982$var$createArray4D","dimension2","dimension3","dimension4","$12072f46db04a982$var$createArray3D","$12072f46db04a982$var$fillArray3D","$12072f46db04a982$var$fillArray1D","$12072f46db04a982$export$2b25e654b17874ab","$12072f46db04a982$export$d85bc251ce90584a","_addColor","_pixels","_preparePalette","paletteIndex","_sums","sum","_reds","_greens","_blues","_alphas","_calculateMoments","next","volumeVariance","cubeIndex","_cut","_cubes","volume","_calculateVariance","temp","lookupRed","lookupGreen","lookupBlue","lookupAlpha","_volume","_weights","_momentsRed","_momentsGreen","_momentsBlue","_momentsAlpha","bestMatch","bestDistance","lookup","foundRed","foundGreen","foundBlue","foundAlpha","bitsToRemove","_significantBitsPerChannel","indexRed","indexGreen","indexBlue","indexAlpha","_moments","_table","areaRed","areaGreen","areaBlue","areaAlpha","area2","xarea","_sideSize","xareaRed","xareaGreen","xareaBlue","xareaAlpha","xarea2","trackerProgress","_alphaMaxSideIndex","_maxSideIndex","alphaIndex","redIndex","greenIndex","line","lineRed","lineGreen","lineBlue","lineAlpha","line2","blueIndex","static","cube","moment","alphaMaximum","redMaximum","greenMaximum","blueMaximum","greenMinimum","redMinimum","alphaMinimum","blueMinimum","_volumeFloat","direction","position","result","_alpha","_red","_green","_blue","volumeRed","volumeGreen","volumeBlue","volumeAlpha","_maximize","first","wholeRed","wholeGreen","wholeBlue","wholeAlpha","wholeWeight","bottomRed","_bottom","bottomGreen","bottomBlue","bottomAlpha","bottomWeight","cutPosition","halfRed","_top","halfGreen","halfBlue","halfAlpha","halfWeight","halfDistance","second","_initialize","_alphaSideSize","tableIndex","_setQuality","significantBitsPerChannel","$1cf1afc581da8fb9$export$391ba0d40f5d63f4","$60855cee4f58c91a$export$70ee0f0d0123bdb3","$ld5ep","AbstractImageQuantizer","$51e6811fb8dbc8a3$export$8356cd805ac56a5a","$51e6811fb8dbc8a3$export$f3fceb7690a85289","originalPoint","errorLines","maxErrorLines","kernel","_kernel","kernelErrorLines","_fillErrorLine","_serpentine","lni","xStart","xEnd","shift","errorLine","error","correctedPoint","palettePoint","_minColorDistance","er","eg","eb","ea","_calculateErrorLikeGIMP","dStart","dEnd","x1","y1","d","_setKernel","FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite","serpentine","minimumColorDistanceToDither","calculateErrorLikeGIMP","$18c69d0c548df555$export$9fccad07108e10cd","errorQueue","head","_errorQueueSize","$gkgSb","hilbertCurve","quantizedPoint","tail","errorPropagation","errorQueueSize","weights","multiplier","log","_createWeights","Direction","$5d43941d77c70919$export$3296febcb4558101","maxBound","floor","$5d43941d77c70919$var$walkHilbert","$5d43941d77c70919$var$Direction","UP","$5d43941d77c70919$var$visit","NONE","level","LEFT","RIGHT","DOWN","$ce592bba46a22127$export$210de7974a8bcbe7","images","colorDistanceFormula","paletteQuantization","onProgress","paletteQuantizer","$ce592bba46a22127$var$paletteQuantizationToPaletteQuantizer","$ce592bba46a22127$var$colorDistanceFormulaToColorDistance","timerId","iterator","done","setImmediate","clearImmediate","$ce592bba46a22127$export$d1a2a691e346564c","imageQuantization","outPointContainer","$ce592bba46a22127$var$imageQuantizationToImageQuantizer","$jbJxx","CIE94GraphicArts","CIE94Textiles","$aujYj","CIEDE2000","$5rGxC","CMetric","$aLX8M","Euclidean","EuclideanBT709","EuclideanBT709NoAlpha","$9aC1d","Manhattan","ManhattanBT709","ManhattanNommyde","$leW35","PNGQuant","distanceCalculator","$8vtkJ","NearestColor","$5Mdp3","ErrorDiffusionRiemersma","$keHIV","ErrorDiffusionArray","ErrorDiffusionArrayKernel","$1kvsa","NeuQuant","$eBm6C","RGBQuant","$heirT","WuQuant","$87BX8","NeuQuantFloat","global","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","getPrototypeOf","process","handle","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","event","port2","documentElement","script","onreadystatechange","removeChild","appendChild","random","source","addEventListener","attachEvent","Function","task","self","$parcel$global","$1e9a0d61f72999e5$export$5be764a9afb31bc4","$1e9a0d61f72999e5$export$b466cb0782d45353","padding","left","padStart","padEnd","$1e9a0d61f72999e5$export$984e705772977724","$f446e475a41629f5$var$_typeof","obj1","Symbol","obj","constructor","$f446e475a41629f5$var$isDeepEqual","$f446e475a41629f5$var$isDeepStrictEqual","$f446e475a41629f5$var$_require$codes","codes","$f446e475a41629f5$var$ERR_AMBIGUOUS_ARGUMENT","ERR_AMBIGUOUS_ARGUMENT","$f446e475a41629f5$var$ERR_INVALID_ARG_TYPE","ERR_INVALID_ARG_TYPE","$f446e475a41629f5$var$ERR_INVALID_ARG_VALUE","ERR_INVALID_ARG_VALUE","$f446e475a41629f5$var$ERR_INVALID_RETURN_VALUE","ERR_INVALID_RETURN_VALUE","$f446e475a41629f5$var$ERR_MISSING_ARGS","ERR_MISSING_ARGS","$f446e475a41629f5$var$inspect","inspect","types","$f446e475a41629f5$var$isPromise","$f446e475a41629f5$require$_require$types","isPromise","$f446e475a41629f5$var$isRegExp","isRegExp","$f446e475a41629f5$var$objectAssign","parcelRequire","$f446e475a41629f5$var$objectIs","is","Map","$f446e475a41629f5$var$lazyLoadComparison","comparison","isDeepEqual","isDeepStrictEqual","$f446e475a41629f5$var$warned","$f446e475a41629f5$var$assert","$f446e475a41629f5$var$ok","$f446e475a41629f5$var$NO_EXCEPTION_SENTINEL","$f446e475a41629f5$var$innerFail","message","$4T4Hn","$f446e475a41629f5$var$innerOk","argLen","generatedMessage","err","actual","expected","operator","stackStartFn","_len","_key","fail","$f446e475a41629f5$var$fail","internalMessage","argsLen","warn","emitWarning","console","bind","errArgs","AssertionError","ok","equal","notEqual","deepEqual","notDeepEqual","deepStrictEqual","notDeepStrictEqual","$f446e475a41629f5$var$notDeepStrictEqual","strictEqual","notStrictEqual","$f446e475a41629f5$var$Comparison","Comparison","_this","instance","Constructor","$f446e475a41629f5$var$_classCallCheck","test","$f446e475a41629f5$var$compareExceptionKey","$f446e475a41629f5$var$expectedException","msg","isPrototypeOf","$f446e475a41629f5$var$getActual","$f446e475a41629f5$var$checkIsPromise","then","catch","$f446e475a41629f5$var$waitForActual","promiseFn","resultPromise","$f446e475a41629f5$var$expectsError","details","fnType","$f446e475a41629f5$var$expectsNoError","$f446e475a41629f5$var$strict","_len6","_key6","throws","_len2","_key2","rejects","_len3","_key3","doesNotThrow","_len4","_key4","doesNotReject","_len5","_key5","ifError","newErr","origStack","stack","tmp2","split","tmp1","strict","$36ba52545b2a20d9$export$e45cb6485273080e","$36ba52545b2a20d9$var$_typeof","$36ba52545b2a20d9$var$_possibleConstructorReturn","ReferenceError","$36ba52545b2a20d9$var$_assertThisInitialized","$36ba52545b2a20d9$var$_getPrototypeOf","o1","setPrototypeOf","o","__proto__","$36ba52545b2a20d9$var$_setPrototypeOf","o2","p1","$36ba52545b2a20d9$var$assert","$36ba52545b2a20d9$var$util","$36ba52545b2a20d9$var$codes","$36ba52545b2a20d9$var$createErrorType","Base","NodeError1","_Base","NodeError","arg1","arg2","arg3","$36ba52545b2a20d9$var$_classCallCheck","getMessage","subClass","superClass","writable","configurable","$36ba52545b2a20d9$var$_inherits","$36ba52545b2a20d9$var$oneOf","thing","isArray","String","determiner","search","this_len","$36ba52545b2a20d9$var$endsWith","$36ba52545b2a20d9$var$includes","reason","inspected","RangeError","input","$cb09ce6e83db6a8b$var$getOwnPropertyDescriptors","getOwnPropertyDescriptors","descriptors","getOwnPropertyDescriptor","$cb09ce6e83db6a8b$var$formatRegExp","f","$cb09ce6e83db6a8b$var$isString","objects","$cb09ce6e83db6a8b$var$inspect","_","$cb09ce6e83db6a8b$var$isNull","$cb09ce6e83db6a8b$var$isObject","deprecate","noDeprecation","warned","throwDeprecation","traceDeprecation","trace","$cb09ce6e83db6a8b$var$debugs","$cb09ce6e83db6a8b$var$debugEnvRegex","opts","seen","stylize","$cb09ce6e83db6a8b$var$stylizeNoColor","depth","$cb09ce6e83db6a8b$var$isBoolean","showHidden","_extend","$cb09ce6e83db6a8b$var$isUndefined","customInspect","$cb09ce6e83db6a8b$var$stylizeWithColor","$cb09ce6e83db6a8b$var$formatValue","styleType","styles","recurseTimes","$cb09ce6e83db6a8b$var$isFunction","primitive","simple","$cb09ce6e83db6a8b$var$isNumber","$cb09ce6e83db6a8b$var$formatPrimitive","visibleKeys","hash","$cb09ce6e83db6a8b$var$arrayToHash","getOwnPropertyNames","$cb09ce6e83db6a8b$var$isError","$cb09ce6e83db6a8b$var$formatError","$cb09ce6e83db6a8b$var$isRegExp","$cb09ce6e83db6a8b$var$isDate","Date","output","braces","$cb09ce6e83db6a8b$var$isArray","toUTCString","$cb09ce6e83db6a8b$var$hasOwnProperty","$cb09ce6e83db6a8b$var$formatProperty","match","$cb09ce6e83db6a8b$var$formatArray","pop","numLinesEst","reduce","prev","cur","$cb09ce6e83db6a8b$var$reduceToSingleString","desc","get","set","ar","re","$cb09ce6e83db6a8b$var$objectToString","$cb09ce6e83db6a8b$var$pad","debuglog","pid","bold","italic","underline","inverse","grey","cyan","magenta","yellow","special","number","boolean","null","string","date","regexp","isBoolean","isNull","isNullOrUndefined","isNumber","isString","isSymbol","isUndefined","isObject","isDate","isError","isNativeError","isFunction","isPrimitive","isBuffer","$cb09ce6e83db6a8b$var$months","$cb09ce6e83db6a8b$var$timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","prop","hasOwnProperty","inherits","origin","$cb09ce6e83db6a8b$var$kCustomPromisifiedSymbol","$cb09ce6e83db6a8b$var$callbackifyOnRejected","cb","newReason","promisify","original","defineProperty","enumerable","promiseResolve","promiseReject","promise","defineProperties","custom","callbackify","callbackified","maybeCb","rej","$a36f8a9411e5bdc7$var$uncurryThis","$a36f8a9411e5bdc7$var$BigIntSupported","BigInt","$a36f8a9411e5bdc7$var$SymbolSupported","$a36f8a9411e5bdc7$var$ObjectToString","$a36f8a9411e5bdc7$var$numberValue","valueOf","$a36f8a9411e5bdc7$var$stringValue","$a36f8a9411e5bdc7$var$booleanValue","Boolean","$a36f8a9411e5bdc7$var$bigIntValue","$a36f8a9411e5bdc7$var$symbolValue","$a36f8a9411e5bdc7$var$checkBoxedPrimitive","prototypeValueOf","$a36f8a9411e5bdc7$var$isMapToString","$a36f8a9411e5bdc7$var$isSetToString","$a36f8a9411e5bdc7$var$isWeakMapToString","$a36f8a9411e5bdc7$var$isWeakSetToString","$a36f8a9411e5bdc7$var$isArrayBufferToString","$a36f8a9411e5bdc7$var$isArrayBuffer","ArrayBuffer","working","$a36f8a9411e5bdc7$var$isDataViewToString","$a36f8a9411e5bdc7$var$isDataView","DataView","isArgumentsObject","$hNBdP","isGeneratorFunction","$bajsH","isTypedArray","$gB4U6","isArrayBufferView","isView","isUint8Array","$8Mi61","isUint8ClampedArray","isUint16Array","isUint32Array","isInt8Array","isInt16Array","isInt32Array","isFloat32Array","isFloat64Array","isBigInt64Array","isBigUint64Array","isMap","Set","isSet","WeakMap","isWeakMap","WeakSet","isWeakSet","isArrayBuffer","isDataView","$a36f8a9411e5bdc7$var$SharedArrayBufferCopy","SharedArrayBuffer","$a36f8a9411e5bdc7$var$isSharedArrayBufferToString","$a36f8a9411e5bdc7$var$isSharedArrayBuffer","$a36f8a9411e5bdc7$var$isNumberObject","$a36f8a9411e5bdc7$var$isStringObject","$a36f8a9411e5bdc7$var$isBooleanObject","$a36f8a9411e5bdc7$var$isBigIntObject","$a36f8a9411e5bdc7$var$isSymbolObject","isSharedArrayBuffer","isAsyncFunction","isMapIterator","isSetIterator","isGeneratorObject","isWebAssemblyCompiledModule","isNumberObject","isStringObject","isBooleanObject","isBigIntObject","isSymbolObject","isBoxedPrimitive","isAnyArrayBuffer","$cf53e2c5c1b07055$var$hasToStringTag","$cf53e2c5c1b07055$var$$toString","$kMw4Y","$cf53e2c5c1b07055$var$isStandardArguments","toStringTag","$cf53e2c5c1b07055$var$isLegacyArguments","callee","$cf53e2c5c1b07055$var$supportsStandardArguments","isLegacyArguments","$5h6X4","getOwnPropertySymbols","sym","symObj","syms","propertyIsEnumerable","descriptor","$f2112c969146a029$var$$indexOf","$6koMG","$ggFJf","allowMissing","intrinsic","$bd7e826b10dde61d$var$undefined","$bd7e826b10dde61d$var$$SyntaxError","SyntaxError","$bd7e826b10dde61d$var$$Function","$bd7e826b10dde61d$var$$TypeError","$bd7e826b10dde61d$var$getEvalledConstructor","expressionSyntax","$bd7e826b10dde61d$var$$gOPD","$bd7e826b10dde61d$var$throwTypeError","$bd7e826b10dde61d$var$ThrowTypeError","calleeThrows","gOPDthrows","$bd7e826b10dde61d$var$hasSymbols","$bd7e826b10dde61d$var$getProto","$bd7e826b10dde61d$var$needsEval","$bd7e826b10dde61d$var$TypedArray","$bd7e826b10dde61d$var$INTRINSICS","AggregateError","Atomics","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","EvalError","Float32Array","Float64Array","FinalizationRegistry","Int8Array","Int16Array","Int32Array","isFinite","isNaN","parseInt","Proxy","Reflect","Uint8ClampedArray","Uint16Array","URIError","WeakRef","$bd7e826b10dde61d$var$doEval","doEval","gen","$bd7e826b10dde61d$var$LEGACY_ALIASES","$bd7e826b10dde61d$var$$concat","$eWnIb","$bd7e826b10dde61d$var$$spliceApply","splice","$bd7e826b10dde61d$var$$replace","$bd7e826b10dde61d$var$$strSlice","$bd7e826b10dde61d$var$rePropName","$bd7e826b10dde61d$var$reEscapeChar","$bd7e826b10dde61d$var$stringToPath","quote","subString","$bd7e826b10dde61d$var$getBaseIntrinsic","alias","intrinsicName","$3xMpL","parts","intrinsicBaseName","intrinsicRealName","skipFurtherCaching","isOwn","part","$5750b863f3b640a7$var$origSymbol","$9slMl","$6e279f61e9908205$var$ERROR_MESSAGE","$6e279f61e9908205$var$slice","$6e279f61e9908205$var$toStr","$6e279f61e9908205$var$funcType","that","target","bound","binder","boundLength","boundArgs","Empty","$49b7d5f7d53199c3$var$$apply","$49b7d5f7d53199c3$var$$call","$49b7d5f7d53199c3$var$$reflectApply","$49b7d5f7d53199c3$var$$gOPD","$49b7d5f7d53199c3$var$$defineProperty","$49b7d5f7d53199c3$var$$max","originalFunction","func","$49b7d5f7d53199c3$var$applyBind","$820fb99ae8221ae8$var$GeneratorFunction","$820fb99ae8221ae8$var$toStr","$820fb99ae8221ae8$var$fnToStr","$820fb99ae8221ae8$var$isFnRegex","$820fb99ae8221ae8$var$hasToStringTag","$820fb99ae8221ae8$var$getProto","generatorFunc","$820fb99ae8221ae8$var$getGeneratorFunc","$6640d7ef42aa2085$var$$toString","$6640d7ef42aa2085$var$hasToStringTag","$6640d7ef42aa2085$var$g","globalThis","$6640d7ef42aa2085$var$typedArrays","$6jFxr","$6640d7ef42aa2085$var$$slice","$6640d7ef42aa2085$var$toStrTags","$6640d7ef42aa2085$var$getPrototypeOf","$hR5S5","$gW7xQ","typedArray","proto","superProto","foundName","getter","$6640d7ef42aa2085$var$tryTypedArrays","$c547ea5e57cd5f0c$var$hasOwn","$c547ea5e57cd5f0c$var$toString","$4994bd196f165a21$var$possibleNames","$4994bd196f165a21$var$g","$cffbf0d3261fa3c8$var$$gOPD","$c153e7d484220bd0$var$$toString","$c153e7d484220bd0$var$hasToStringTag","$c153e7d484220bd0$var$g","$c153e7d484220bd0$var$typedArrays","$c153e7d484220bd0$var$$indexOf","$c153e7d484220bd0$var$$slice","$c153e7d484220bd0$var$toStrTags","$c153e7d484220bd0$var$getPrototypeOf","tag","anyTrue","$c153e7d484220bd0$var$tryTypedArrays","copy","fill","readUInt8","ctor","superCtor","super_","TempCtor","$38eff18d1d7ea795$var$_defineProperty","$38eff18d1d7ea795$var$_defineProperties","props","$38eff18d1d7ea795$var$_possibleConstructorReturn","$38eff18d1d7ea795$var$_typeof","$38eff18d1d7ea795$var$_assertThisInitialized","$38eff18d1d7ea795$var$_wrapNativeSuper","Class1","_cache","Class","Wrapper","$38eff18d1d7ea795$var$_construct","$38eff18d1d7ea795$var$_getPrototypeOf","$38eff18d1d7ea795$var$_setPrototypeOf","$38eff18d1d7ea795$var$isNativeReflectConstruct","construct","sham","Parent1","args1","Class2","Parent","$38eff18d1d7ea795$var$inspect","$38eff18d1d7ea795$var$ERR_INVALID_ARG_TYPE","$38eff18d1d7ea795$var$endsWith","$38eff18d1d7ea795$var$blue","$38eff18d1d7ea795$var$green","$38eff18d1d7ea795$var$red","$38eff18d1d7ea795$var$white","$38eff18d1d7ea795$var$kReadableOperator","strictEqualObject","notStrictEqualObject","notIdentical","$38eff18d1d7ea795$var$copyError","$38eff18d1d7ea795$var$inspectValue","compact","maxArrayLength","Infinity","breakLength","showProxy","getters","$38eff18d1d7ea795$var$createErrDiff","other","lastPos","skipped","actualInspected","actualLines","expectedLines","indicator","inputLength","stderr","isTTY","columns","count","maxCount","$38eff18d1d7ea795$var$repeat","maxLines","_actualLines","printedLines","skippedMsg","expectedLine","actualLine","divergingLines","$38eff18d1d7ea795$var$AssertionError","_Error","$38eff18d1d7ea795$var$_classCallCheck","limit","stackTraceLimit","getColorDepth","_res","knownOperators","captureStackTrace","protoProps","staticProps","$38eff18d1d7ea795$var$_inherits","ownKeys","filter","$38eff18d1d7ea795$var$_objectSpread","$9f199604ef47a9f3$var$assign","firstSource","nextSource","keysArray","nextIndex","nextKey","polyfill","$73e8227e136d1546$var$polyfill","$jC9uQ","$e19Ut","getPolyfill","implementation","$3qLtH","shim","$fyglE","$a348d891c0944137$var$hasSymbols","$a348d891c0944137$var$toStr","$a348d891c0944137$var$concat","$a348d891c0944137$var$origDefineProperty","$a348d891c0944137$var$supportsDescriptors","$a348d891c0944137$var$arePropertyDescriptorsSupported","$a348d891c0944137$var$defineProperty","object","predicate","$a348d891c0944137$var$defineProperties","predicates","$hUDRT","supportsDescriptors","$d0a697a3b93ba78f$var$slice","$d0a697a3b93ba78f$var$origKeys","$d0a697a3b93ba78f$var$keysShim","$d0a697a3b93ba78f$var$originalKeys","keysWorksWithArguments","$gYks8","$c5b21d6c653dc4b1$var$toStr","isArgs","$65c864633e125e80$var$keysShim","$65c864633e125e80$var$has","$65c864633e125e80$var$toStr","$65c864633e125e80$var$isArgs","$65c864633e125e80$var$isEnumerable","$65c864633e125e80$var$hasDontEnumBug","$65c864633e125e80$var$hasProtoEnumBug","$65c864633e125e80$var$dontEnums","$65c864633e125e80$var$equalsConstructorPrototype","$65c864633e125e80$var$excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","$65c864633e125e80$var$hasAutomationEqualityBug","window","isArguments","theKeys","skipProto","skipConstructor","$65c864633e125e80$var$equalsConstructorPrototypeIfNotBuggy","$27f8a0f8f62c2fd5$var$numberIsNaN","$7e97be9cdba13373$var$_slicedToArray","$7e97be9cdba13373$var$_arrayWithHoles","_arr","_n","_d","_e","_s","_i","$7e97be9cdba13373$var$_iterableToArrayLimit","$7e97be9cdba13373$var$_nonIterableRest","$7e97be9cdba13373$var$_typeof","$7e97be9cdba13373$var$regexFlagsSupported","flags","$7e97be9cdba13373$var$arrayFromSet","$7e97be9cdba13373$var$arrayFromMap","$7e97be9cdba13373$var$objectIs","$7e97be9cdba13373$var$objectGetOwnPropertySymbols","$7e97be9cdba13373$var$numberIsNaN","$7e97be9cdba13373$var$uncurryThis","$7e97be9cdba13373$var$hasOwnProperty","$7e97be9cdba13373$var$propertyIsEnumerable","$7e97be9cdba13373$var$objectToString","$7e97be9cdba13373$var$isAnyArrayBuffer","$7e97be9cdba13373$require$_require$types","$7e97be9cdba13373$var$isArrayBufferView","$7e97be9cdba13373$var$isDate","$7e97be9cdba13373$var$isMap","$7e97be9cdba13373$var$isRegExp","$7e97be9cdba13373$var$isSet","$7e97be9cdba13373$var$isNativeError","$7e97be9cdba13373$var$isBoxedPrimitive","$7e97be9cdba13373$var$isNumberObject","$7e97be9cdba13373$var$isStringObject","$7e97be9cdba13373$var$isBooleanObject","$7e97be9cdba13373$var$isBigIntObject","$7e97be9cdba13373$var$isSymbolObject","$7e97be9cdba13373$var$isFloat32Array","$7e97be9cdba13373$var$isFloat64Array","$7e97be9cdba13373$var$isNonIndex","pow","$7e97be9cdba13373$var$getOwnNonIndexProperties","$7e97be9cdba13373$var$compare","$7e97be9cdba13373$var$innerDeepEqual","val1","val2","memos","buf1","buf2","val1Tag","keys1","keys2","$7e97be9cdba13373$var$keyCheck","getTime","$7e97be9cdba13373$var$areSimilarTypedArrays","offset","$7e97be9cdba13373$var$areSimilarFloatArrays","_keys","_keys2","$7e97be9cdba13373$var$isEqualBoxedPrimitive","$7e97be9cdba13373$var$getEnumerables","iterationType","aKeys","bKeys","symbolKeysA","symbolKeysB","_symbolKeysB","val2MemoA","val2MemoB","areEq","$7e97be9cdba13373$var$objEquiv","delete","$7e97be9cdba13373$var$setHasEqualElement","memo","setValues","$7e97be9cdba13373$var$findLooseMatchingPrimitives","prim","$7e97be9cdba13373$var$setMightHaveLoosePrim","altValue","$7e97be9cdba13373$var$mapMightHaveLoosePrim","item","curB","$7e97be9cdba13373$var$mapHasEqualEntry","key1","item1","key2","aValues","bValues","_val","$7e97be9cdba13373$var$setEquiv","aEntries","_aEntries$i","item2","bEntries","_i2","_bEntries$_i","$7e97be9cdba13373$var$mapEquiv","keysA","$077810041f896567$var$polyfill","$9Pp1U","$kULO0","$ho4ZV","NaN","Selector","getDefaultText","defaultText","label","parentNode","querySelector","textContent","findFirstChildNode","element","childNodes","node","nodeType","restoreDefaultText","bsCustomFileInput","fileApi","File","handleInputChange","inputValue","hasAttribute","files","file","splittedValue","getSelectedFiles","handleFormReset","customFileList","querySelectorAll","customProperty","Event","init","inputSelector","formSelector","customFileInputList","formList","destroy","form","removeEventListener","$d172e789bb9d5081$var$updateNameTextboxes","$","$nameContainer","numExistingFields","children","totalLength","append","css","$d172e789bb9d5081$var$updateListedBinaryFormats","needBinaryFormat","each","$ca514efa36b8bf8b$exports","XMLHttpRequest","open","responseType","response","send","d1","status","dispatchEvent","MouseEvent","createEvent","initMouseEvent","f1","navigator","userAgent","saveAs","HTMLAnchorElement","URL","webkitURL","download","rel","href","location","createObjectURL","revokeObjectURL","msSaveOrOpenBlob","autoBom","Blob","body","innerText","HTMLElement","safari","FileReader","onloadend","readAsDataURL","define","amd","FileSaver","ready","$27f2cf82bab76979$exports","change","needsDisable","async","attr","reader","outputType","outputMode","requestedCf","binFormatRequest","BINARY_FORMAT_PREFIX","doConvert","blob","imageName","checked","imageString","$dicZB","readAsArrayBuffer","buf","Image","removeAttr"],"version":3,"file":"index.18360a45.js.map"}